"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _prepareProvider = _interopRequireDefault(require("./prepare-provider"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */
const middleware = function (ctx, next) {
  if (process.env.NODE_ENV !== "production") {
    // eslint-disable-next-line no-console
    console.warn('The {middleware} export from fusion-react is deprecated.');
  }

  if (false && !ctx.element) {
    return next();
  }

  const markAsCritical = false ? chunkId => {
    // Push to legacy context for backwards compat w/ legacy SSR template
    ctx.preloadChunks.push(chunkId);
  } : noop;
  ctx.element = React.createElement(_prepareProvider.default, {
    markAsCritical: markAsCritical
  }, ctx.element);
  return next();
};

var _default = middleware;
exports.default = _default;

function noop() {}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmUuanMiXSwibmFtZXMiOlsibWlkZGxld2FyZSIsImN0eCIsIm5leHQiLCJjb25zb2xlIiwid2FybiIsImVsZW1lbnQiLCJtYXJrQXNDcml0aWNhbCIsImNodW5rSWQiLCJwcmVsb2FkQ2h1bmtzIiwicHVzaCIsIm5vb3AiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFRQTs7QUFJQTs7Ozs7Ozs7QUFaQTs7Ozs7OztBQWNBLE1BQU1BLFVBQXNCLEdBQUcsVUFBU0MsR0FBVCxFQUFjQyxJQUFkLEVBQW9CO0FBQ2pELDZDQUFhO0FBQ1g7QUFDQUMsSUFBQUEsT0FBTyxDQUFDQyxJQUFSLENBQWEsMERBQWI7QUFDRDs7QUFFRCxNQUFJLFNBQVksQ0FBQ0gsR0FBRyxDQUFDSSxPQUFyQixFQUE4QjtBQUM1QixXQUFPSCxJQUFJLEVBQVg7QUFDRDs7QUFFRCxRQUFNSSxjQUFjLEdBQUcsUUFDbkJDLE9BQU8sSUFBSTtBQUNUO0FBQ0FOLElBQUFBLEdBQUcsQ0FBQ08sYUFBSixDQUFrQkMsSUFBbEIsQ0FBdUJGLE9BQXZCO0FBQ0QsR0FKa0IsR0FLbkJHLElBTEo7QUFNQVQsRUFBQUEsR0FBRyxDQUFDSSxPQUFKLEdBQ0Usb0JBQUMsd0JBQUQ7QUFBaUIsSUFBQSxjQUFjLEVBQUVDO0FBQWpDLEtBQ0dMLEdBQUcsQ0FBQ0ksT0FEUCxDQURGO0FBS0EsU0FBT0gsSUFBSSxFQUFYO0FBQ0QsQ0F0QkQ7O2VBd0JlRixVOzs7QUFFZixTQUFTVSxJQUFULEdBQWdCLENBQUUiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQ29weXJpZ2h0IChjKSAyMDE4IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB0eXBlIHtNaWRkbGV3YXJlfSBmcm9tICdmdXNpb24tY29yZSc7XG5cbmltcG9ydCBQcmVwYXJlUHJvdmlkZXIgZnJvbSAnLi9wcmVwYXJlLXByb3ZpZGVyJztcblxuY29uc3QgbWlkZGxld2FyZTogTWlkZGxld2FyZSA9IGZ1bmN0aW9uKGN0eCwgbmV4dCkge1xuICBpZiAoX19ERVZfXykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS53YXJuKCdUaGUge21pZGRsZXdhcmV9IGV4cG9ydCBmcm9tIGZ1c2lvbi1yZWFjdCBpcyBkZXByZWNhdGVkLicpO1xuICB9XG5cbiAgaWYgKF9fTk9ERV9fICYmICFjdHguZWxlbWVudCkge1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH1cblxuICBjb25zdCBtYXJrQXNDcml0aWNhbCA9IF9fTk9ERV9fXG4gICAgPyBjaHVua0lkID0+IHtcbiAgICAgICAgLy8gUHVzaCB0byBsZWdhY3kgY29udGV4dCBmb3IgYmFja3dhcmRzIGNvbXBhdCB3LyBsZWdhY3kgU1NSIHRlbXBsYXRlXG4gICAgICAgIGN0eC5wcmVsb2FkQ2h1bmtzLnB1c2goY2h1bmtJZCk7XG4gICAgICB9XG4gICAgOiBub29wO1xuICBjdHguZWxlbWVudCA9IChcbiAgICA8UHJlcGFyZVByb3ZpZGVyIG1hcmtBc0NyaXRpY2FsPXttYXJrQXNDcml0aWNhbH0+XG4gICAgICB7Y3R4LmVsZW1lbnR9XG4gICAgPC9QcmVwYXJlUHJvdmlkZXI+XG4gICk7XG4gIHJldHVybiBuZXh0KCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtaWRkbGV3YXJlO1xuXG5mdW5jdGlvbiBub29wKCkge31cbiJdfQ==