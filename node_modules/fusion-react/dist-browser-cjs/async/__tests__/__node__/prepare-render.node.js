"use strict";

var React = _interopRequireWildcard(require("react"));

var _enzyme = _interopRequireWildcard(require("enzyme"));

var _enzymeAdapterReact = _interopRequireDefault(require("enzyme-adapter-react-16"));

var _index = require("../../index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

/* eslint-disable react/no-multi-comp */
_enzyme.default.configure({
  adapter: new _enzymeAdapterReact.default()
});

test('Preparing a hook', done => {
  function Component() {
    const [state] = React.useState(0);
    return React.createElement("span", null, state);
  }

  const app = React.createElement(Component, null);
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    const wrapper = (0, _enzyme.shallow)(app);
    expect(wrapper.find('span').length).toBe(1);
    done();
  });
});
test('Preparing a sync app', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement(SimplePresentational, null);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const app = React.createElement(SimpleComponent, null);
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing a sync app with nested children', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement("div", null, this.props.children);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const app = React.createElement(SimpleComponent, null, React.createElement(SimplePresentational, null), ";");
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing a sync app with functional components referencing children', done => {
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  function SimpleComponent(props, context) {
    numRenders++;
    return React.createElement("div", null, props.children);
  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);
  const app = React.createElement(SimpleComponent, null, React.createElement(AsyncChild, {
    data: "test"
  }));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numRenders).toBe(2);
    expect(numPrepares).toBe(1);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing an async app', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement(SimplePresentational, null);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    data: "test"
  });
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing an async app with nested asyncs', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement("div", null, this.props.children);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    effectId: "1",
    data: "test"
  }, React.createElement(AsyncParent, {
    effectId: "2",
    data: "test"
  }, React.createElement(SimplePresentational, null)));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numConstructors).toBe(3);
    expect(numRenders).toBe(3);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing an app with sibling async components', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement("div", null, this.props.children);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = (0, _index.prepared)(async props => {
    numPrepares++;
    expect(props.data).toBe('test');
  })(SimpleComponent);
  const app = React.createElement("div", null, React.createElement(AsyncParent, {
    effectId: "1",
    data: "test"
  }, React.createElement(SimplePresentational, null)), React.createElement(AsyncParent, {
    effectId: "2",
    data: "test"
  }, React.createElement(SimplePresentational, null)));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numConstructors).toBe(2);
    expect(numRenders).toBe(2);
    expect(numChildRenders).toBe(2);
    done();
  });
});
test('Rendering a component triggers componentWillMount before render', done => {
  const orderedMethodCalls = [];
  const orderedChildMethodCalls = []; // Disable eslint for deprecated componentWillMount
  // eslint-disable-next-line react/no-deprecated

  class SimpleComponent extends React.Component {
    UNSAFE_componentWillMount() {
      orderedMethodCalls.push('componentWillMount');
    }

    render() {
      orderedMethodCalls.push('render');
      return React.createElement(SimpleChildComponent, null);
    }

  } // Disable eslint for deprecated componentWillMount
  // eslint-disable-next-line react/no-deprecated


  class SimpleChildComponent extends React.Component {
    UNSAFE_componentWillMount() {
      orderedChildMethodCalls.push('componentWillMount');
    }

    render() {
      orderedChildMethodCalls.push('render');
      return React.createElement("div", null, "Hello World");
    }

  }

  const app = React.createElement(SimpleComponent, null);
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(orderedMethodCalls).toEqual(['componentWillMount', 'render']);
    expect(orderedChildMethodCalls).toEqual(['componentWillMount', 'render']);
    done();
  });
});
test('Preparing an async app with componentWillReceiveProps option', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement(SimplePresentational, null);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  }, {
    componentWillReceiveProps: true
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    data: "test"
  });
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1); // triggers componentDidMount

    const wrapper = (0, _enzyme.shallow)(app);
    expect(numPrepares).toBe(2); // triggers componentWillReceiveProps

    wrapper.setProps({
      test: true
    });
    expect(numPrepares).toBe(3);
    done();
  });
});
test('Preparing an async app with componentDidUpdate option', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement(SimplePresentational, null);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  }, {
    componentDidUpdate: true
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    data: "test"
  });
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1); // triggers componentDidMount

    const wrapper = (0, _enzyme.shallow)(app);
    expect(numPrepares).toBe(2); // triggers componentDidUpdate

    wrapper.setProps({
      test: true
    });
    expect(numPrepares).toBe(3);
    done();
  });
});
test('Preparing React.forwardRef', done => {
  // $FlowFixMe
  const Forwarded = React.forwardRef(function Inner(props, ref) {
    // eslint-disable-line
    return React.createElement("div", {
      ref: ref
    }, props.children);
  });
  const app = React.createElement(Forwarded, null, React.createElement("span", null, "1"), React.createElement("span", null, "2"));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    const wrapper = (0, _enzyme.shallow)(React.createElement("div", null, app));
    expect(wrapper.find('span').length).toBe(2);
    done();
  });
});
test('Preparing React.forwardRef with async children', done => {
  // $FlowFixMe
  const Forwarded = React.forwardRef(function Inner(props, ref) {
    // eslint-disable-line
    return React.createElement("div", {
      ref: ref
    }, props.children);
  });
  let numChildRenders = 0;
  let numPrepares = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);
  const app = React.createElement(Forwarded, null, React.createElement(AsyncChild, {
    effectId: "1",
    data: "test"
  }), React.createElement(AsyncChild, {
    effectId: "2",
    data: "test"
  }));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numChildRenders).toBe(2);
    done();
  });
});
test('Preparing a Fragment', done => {
  const app = React.createElement(React.Fragment, null, React.createElement("span", null, "1"), React.createElement("span", null, "2"));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    const wrapper = (0, _enzyme.shallow)(React.createElement("div", null, app));
    expect(wrapper.find('span').length).toBe(2);
    done();
  });
});
test('Preparing a fragment with async children', done => {
  let numChildRenders = 0;
  let numPrepares = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);
  const app = // $FlowFixMe
  React.createElement(React.Fragment, null, React.createElement(AsyncChild, {
    effectId: "1",
    data: "test"
  }), React.createElement(AsyncChild, {
    effectId: "2",
    data: "test"
  }));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numChildRenders).toBe(2);
    done();
  });
});
test('Preparing React.createContext()', done => {
  // $FlowFixMe
  const {
    Provider,
    Consumer
  } = React.createContext('light');
  const app = React.createElement(Provider, {
    value: "light"
  }, React.createElement("span", null, "1"), React.createElement(Consumer, null, () => React.createElement("span", null, "2")));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    const wrapper = (0, _enzyme.shallow)(React.createElement("div", null, app));
    expect(wrapper.find('span').length).toBe(1);
    done();
  });
});
test('Preparing React.createContext() with async children', done => {
  // $FlowFixMe
  const {
    Provider,
    Consumer
  } = React.createContext('light');
  let numChildRenders = 0;
  let numPrepares = 0;
  let numRenderPropsRenders = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement(Consumer, null, theme => {
      numRenderPropsRenders++;
      expect(theme).toBe('dark');
      return React.createElement("div", null, theme);
    });
  }

  const AsyncChild = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);
  const app = React.createElement(Provider, {
    value: "dark"
  }, React.createElement(AsyncChild, {
    effectId: "1",
    data: "test"
  }), React.createElement(AsyncChild, {
    effectId: "2",
    data: "test"
  }));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numRenderPropsRenders).toBe(2);
    expect(numChildRenders).toBe(2);
    expect((0, _enzyme.shallow)(React.createElement("div", null, app)).html()).toBe('<div><div>dark</div><div>dark</div></div>');
    done();
  });
});
test('Preparing React.createContext() with deep async children', done => {
  // $FlowFixMe
  const {
    Provider,
    Consumer
  } = React.createContext('light');
  let numChildRenders = 0;
  let numPrepares = 0;
  let numRenderPropsRenders = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);

  const ConsumerComponent = () => {
    return React.createElement(Consumer, null, theme => {
      numRenderPropsRenders++;
      expect(theme).toBe('dark');
      return React.createElement(AsyncChild, {
        data: "test"
      });
    });
  };

  const app = React.createElement(Provider, {
    value: "dark"
  }, React.createElement(ConsumerComponent, null));
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numChildRenders).toBe(1);
    expect(numRenderPropsRenders > 0).toBeTruthy();
    done();
  });
});
test('Preparing React.createContext() using the default provider value', done => {
  // $FlowFixMe
  const {
    Consumer
  } = React.createContext('light');
  let numChildRenders = 0;
  let numPrepares = 0;
  let numRenderPropsRenders = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);

  const ConsumerComponent = () => {
    return React.createElement(Consumer, null, theme => {
      numRenderPropsRenders++;
      expect(theme).toBe('light');
      return React.createElement(AsyncChild, {
        data: "test"
      });
    });
  };

  const app = React.createElement(ConsumerComponent, null);
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numChildRenders).toBe(1);
    expect(numRenderPropsRenders > 0).toBeTruthy();
    done();
  });
});
test('Preparing a component using getDerivedStateFromProps', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;
  let numDerivedStateFromProps = 0;
  let retainedState = false;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
      this.state = {
        firstRender: true,
        originalState: 'should remain'
      };
    }

    static getDerivedStateFromProps(props, {
      firstRender
    }) {
      numDerivedStateFromProps++;
      return {
        firstRender: false,
        someNewKey: [1, 2, 3]
      };
    } // eslint-disable-next-line react/no-deprecated


    componentWillMount() {
      throw new Error('Should not be called when gDSFP is defined');
    }

    render() {
      numRenders++;
      retainedState = this.state.originalState === 'should remain';
      return React.createElement("div", null, this.state.someNewKey.map((item, key) => React.createElement("div", {
        key: key
      })), React.createElement(SimplePresentational, null));
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = (0, _index.prepared)(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  }, {
    componentDidMount: false,
    componentDidUpdate: false
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    data: "test"
  });
  const p = (0, _index.prepare)(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(retainedState).toBe(true);
    expect(numPrepares).toBe(1);
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1);
    const wrapper = (0, _enzyme.shallow)(app); // triggers getDerivedStateFromProps
    // Enzyme does not yet support calling getDerivedStateFromProps after setProps

    wrapper.setProps({
      test: true
    });
    expect(numDerivedStateFromProps).toBe(1);
    done();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZXBhcmUtcmVuZGVyLm5vZGUuanMiXSwibmFtZXMiOlsiRW56eW1lIiwiY29uZmlndXJlIiwiYWRhcHRlciIsIkFkYXB0ZXIiLCJ0ZXN0IiwiZG9uZSIsIkNvbXBvbmVudCIsInN0YXRlIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsImFwcCIsInAiLCJleHBlY3QiLCJQcm9taXNlIiwidG9CZVRydXRoeSIsInRoZW4iLCJ3cmFwcGVyIiwiZmluZCIsImxlbmd0aCIsInRvQmUiLCJudW1Db25zdHJ1Y3RvcnMiLCJudW1SZW5kZXJzIiwibnVtQ2hpbGRSZW5kZXJzIiwiU2ltcGxlQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsImNvbnRleHQiLCJyZW5kZXIiLCJTaW1wbGVQcmVzZW50YXRpb25hbCIsImNoaWxkcmVuIiwibnVtUHJlcGFyZXMiLCJBc3luY0NoaWxkIiwiZGF0YSIsInJlc29sdmUiLCJBc3luY1BhcmVudCIsIm9yZGVyZWRNZXRob2RDYWxscyIsIm9yZGVyZWRDaGlsZE1ldGhvZENhbGxzIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCIsInB1c2giLCJTaW1wbGVDaGlsZENvbXBvbmVudCIsInRvRXF1YWwiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwic2V0UHJvcHMiLCJjb21wb25lbnREaWRVcGRhdGUiLCJGb3J3YXJkZWQiLCJmb3J3YXJkUmVmIiwiSW5uZXIiLCJyZWYiLCJQcm92aWRlciIsIkNvbnN1bWVyIiwiY3JlYXRlQ29udGV4dCIsIm51bVJlbmRlclByb3BzUmVuZGVycyIsInRoZW1lIiwiaHRtbCIsIkNvbnN1bWVyQ29tcG9uZW50IiwibnVtRGVyaXZlZFN0YXRlRnJvbVByb3BzIiwicmV0YWluZWRTdGF0ZSIsImZpcnN0UmVuZGVyIiwib3JpZ2luYWxTdGF0ZSIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInNvbWVOZXdLZXkiLCJjb21wb25lbnRXaWxsTW91bnQiLCJFcnJvciIsIm1hcCIsIml0ZW0i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QUFNLENBQUNELENBQUMsWUFBWUUsT0FBZCxDQUFOLENBQTZCQyxVQUE3QjtBQUNBSCxFQUFBQSxDQUFDLENBQUNJLElBQUYsQ0FBTyxNQUFNO0FBQ1hILElBQUFBLE1BQU0sQ0FBQzRDLGFBQUQsQ0FBTixDQUFzQnJDLElBQXRCLENBQTJCLElBQTNCO0FBQ0FQLElBQUFBLE1BQU0sQ0FBQ2tCLFdBQUQsQ0FBTixDQUFvQlgsSUFBcEIsQ0FBeUIsQ0FBekI7QUFDQVAsSUFBQUEsTUFBTSxDQUFDUSxlQUFELENBQU4sQ0FBd0JELElBQXhCLENBQTZCLENBQTdCO0FBQ0FQLElBQUFBLE1BQU0sQ0FBQ1MsVUFBRCxDQUFOLENBQW1CRixJQUFuQixDQUF3QixDQUF4QjtBQUNBUCxJQUFBQSxNQUFNLENBQUNVLGVBQUQsQ0FBTixDQUF3QkgsSUFBeEIsQ0FBNkIsQ0FBN0I7QUFDQSxVQUFNSCxPQUFPLEdBQUcscUJBQVFOLEdBQVIsQ0FBaEIsQ0FOVyxDQU9YO0FBQ0E7O0FBQ0FNLElBQUFBLE9BQU8sQ0FBQzBCLFFBQVIsQ0FBaUI7QUFBQ3RDLE1BQUFBLElBQUksRUFBRTtBQUFQLEtBQWpCO0FBQ0FRLElBQUFBLE1BQU0sQ0FBQzJDLHdCQUFELENBQU4sQ0FBaUNwQyxJQUFqQyxDQUFzQyxDQUF0QztBQUNBZCxJQUFBQSxJQUFJO0FBQ0wsR0FaRDtBQWFELENBekVHLENBQUoiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQ29weXJpZ2h0IChjKSAyMDE4IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby1tdWx0aS1jb21wICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRW56eW1lLCB7c2hhbGxvd30gZnJvbSAnZW56eW1lJztcbmltcG9ydCBBZGFwdGVyIGZyb20gJ2VuenltZS1hZGFwdGVyLXJlYWN0LTE2JztcbmltcG9ydCB7cHJlcGFyZSwgcHJlcGFyZWR9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcblxuRW56eW1lLmNvbmZpZ3VyZSh7YWRhcHRlcjogbmV3IEFkYXB0ZXIoKX0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgYSBob29rJywgZG9uZSA9PiB7XG4gIGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcbiAgICBjb25zdCBbc3RhdGVdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gICAgcmV0dXJuIDxzcGFuPntzdGF0ZX08L3NwYW4+O1xuICB9XG4gIGNvbnN0IGFwcCA9IDxDb21wb25lbnQgLz47XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93KGFwcCk7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnc3BhbicpLmxlbmd0aCkudG9CZSgxKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBhIHN5bmMgYXBwJywgZG9uZSA9PiB7XG4gIGxldCBudW1Db25zdHJ1Y3RvcnMgPSAwO1xuICBsZXQgbnVtUmVuZGVycyA9IDA7XG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBjbGFzcyBTaW1wbGVDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55PiB7XG4gICAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgICAgIG51bUNvbnN0cnVjdG9ycysrO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICBudW1SZW5kZXJzKys7XG4gICAgICByZXR1cm4gPFNpbXBsZVByZXNlbnRhdGlvbmFsIC8+O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBTaW1wbGVQcmVzZW50YXRpb25hbCgpIHtcbiAgICBudW1DaGlsZFJlbmRlcnMrKztcbiAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgfVxuICBjb25zdCBhcHAgPSA8U2ltcGxlQ29tcG9uZW50IC8+O1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtQ29uc3RydWN0b3JzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1SZW5kZXJzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1DaGlsZFJlbmRlcnMpLnRvQmUoMSk7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgYSBzeW5jIGFwcCB3aXRoIG5lc3RlZCBjaGlsZHJlbicsIGRvbmUgPT4ge1xuICBsZXQgbnVtQ29uc3RydWN0b3JzID0gMDtcbiAgbGV0IG51bVJlbmRlcnMgPSAwO1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgY2xhc3MgU2ltcGxlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgICBudW1Db25zdHJ1Y3RvcnMrKztcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgbnVtUmVuZGVycysrO1xuICAgICAgcmV0dXJuIDxkaXY+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9kaXY+O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBTaW1wbGVQcmVzZW50YXRpb25hbCgpIHtcbiAgICBudW1DaGlsZFJlbmRlcnMrKztcbiAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgfVxuICBjb25zdCBhcHAgPSAoXG4gICAgPFNpbXBsZUNvbXBvbmVudD5cbiAgICAgIDxTaW1wbGVQcmVzZW50YXRpb25hbCAvPjtcbiAgICA8L1NpbXBsZUNvbXBvbmVudD5cbiAgKTtcbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgZXhwZWN0KG51bUNvbnN0cnVjdG9ycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtUmVuZGVycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDEpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIGEgc3luYyBhcHAgd2l0aCBmdW5jdGlvbmFsIGNvbXBvbmVudHMgcmVmZXJlbmNpbmcgY2hpbGRyZW4nLCBkb25lID0+IHtcbiAgbGV0IG51bVJlbmRlcnMgPSAwO1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgZnVuY3Rpb24gU2ltcGxlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG4gICAgbnVtUmVuZGVycysrO1xuICAgIHJldHVybiA8ZGl2Pntwcm9wcy5jaGlsZHJlbn08L2Rpdj47XG4gIH1cbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gIH1cbiAgY29uc3QgQXN5bmNDaGlsZCA9IHByZXBhcmVkKHByb3BzID0+IHtcbiAgICBudW1QcmVwYXJlcysrO1xuICAgIGV4cGVjdChwcm9wcy5kYXRhKS50b0JlKCd0ZXN0Jyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9KShTaW1wbGVQcmVzZW50YXRpb25hbCk7XG4gIGNvbnN0IGFwcCA9IChcbiAgICA8U2ltcGxlQ29tcG9uZW50PlxuICAgICAgPEFzeW5jQ2hpbGQgZGF0YT1cInRlc3RcIiAvPlxuICAgIDwvU2ltcGxlQ29tcG9uZW50PlxuICApO1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtUmVuZGVycykudG9CZSgyKTtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bUNoaWxkUmVuZGVycykudG9CZSgxKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBhbiBhc3luYyBhcHAnLCBkb25lID0+IHtcbiAgbGV0IG51bUNvbnN0cnVjdG9ycyA9IDA7XG4gIGxldCBudW1SZW5kZXJzID0gMDtcbiAgbGV0IG51bUNoaWxkUmVuZGVycyA9IDA7XG4gIGxldCBudW1QcmVwYXJlcyA9IDA7XG4gIGNsYXNzIFNpbXBsZUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnk+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xuICAgICAgc3VwZXIocHJvcHMsIGNvbnRleHQpO1xuICAgICAgbnVtQ29uc3RydWN0b3JzKys7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgIG51bVJlbmRlcnMrKztcbiAgICAgIHJldHVybiA8U2ltcGxlUHJlc2VudGF0aW9uYWwgLz47XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIFNpbXBsZVByZXNlbnRhdGlvbmFsKCkge1xuICAgIG51bUNoaWxkUmVuZGVycysrO1xuICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICB9XG4gIGNvbnN0IEFzeW5jUGFyZW50ID0gcHJlcGFyZWQocHJvcHMgPT4ge1xuICAgIG51bVByZXBhcmVzKys7XG4gICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0pKFNpbXBsZUNvbXBvbmVudCk7XG4gIGNvbnN0IGFwcCA9IDxBc3luY1BhcmVudCBkYXRhPVwidGVzdFwiIC8+O1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bUNvbnN0cnVjdG9ycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtUmVuZGVycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDEpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIGFuIGFzeW5jIGFwcCB3aXRoIG5lc3RlZCBhc3luY3MnLCBkb25lID0+IHtcbiAgbGV0IG51bUNvbnN0cnVjdG9ycyA9IDA7XG4gIGxldCBudW1SZW5kZXJzID0gMDtcbiAgbGV0IG51bUNoaWxkUmVuZGVycyA9IDA7XG4gIGxldCBudW1QcmVwYXJlcyA9IDA7XG4gIGNsYXNzIFNpbXBsZUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnk+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xuICAgICAgc3VwZXIocHJvcHMsIGNvbnRleHQpO1xuICAgICAgbnVtQ29uc3RydWN0b3JzKys7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgIG51bVJlbmRlcnMrKztcbiAgICAgIHJldHVybiA8ZGl2Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvZGl2PjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBTaW1wbGVQcmVzZW50YXRpb25hbCgpIHtcbiAgICBudW1DaGlsZFJlbmRlcnMrKztcbiAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgfVxuICBjb25zdCBBc3luY1BhcmVudCA9IHByZXBhcmVkKHByb3BzID0+IHtcbiAgICBudW1QcmVwYXJlcysrO1xuICAgIGV4cGVjdChwcm9wcy5kYXRhKS50b0JlKCd0ZXN0Jyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9KShTaW1wbGVDb21wb25lbnQpO1xuICBjb25zdCBhcHAgPSAoXG4gICAgPEFzeW5jUGFyZW50IGVmZmVjdElkPVwiMVwiIGRhdGE9XCJ0ZXN0XCI+XG4gICAgICA8QXN5bmNQYXJlbnQgZWZmZWN0SWQ9XCIyXCIgZGF0YT1cInRlc3RcIj5cbiAgICAgICAgPFNpbXBsZVByZXNlbnRhdGlvbmFsIC8+XG4gICAgICA8L0FzeW5jUGFyZW50PlxuICAgIDwvQXN5bmNQYXJlbnQ+XG4gICk7XG5cbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgZXhwZWN0KG51bVByZXBhcmVzKS50b0JlKDIpO1xuICAgIGV4cGVjdChudW1Db25zdHJ1Y3RvcnMpLnRvQmUoMyk7XG4gICAgZXhwZWN0KG51bVJlbmRlcnMpLnRvQmUoMyk7XG4gICAgZXhwZWN0KG51bUNoaWxkUmVuZGVycykudG9CZSgxKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBhbiBhcHAgd2l0aCBzaWJsaW5nIGFzeW5jIGNvbXBvbmVudHMnLCBkb25lID0+IHtcbiAgbGV0IG51bUNvbnN0cnVjdG9ycyA9IDA7XG4gIGxldCBudW1SZW5kZXJzID0gMDtcbiAgbGV0IG51bUNoaWxkUmVuZGVycyA9IDA7XG4gIGxldCBudW1QcmVwYXJlcyA9IDA7XG4gIGNsYXNzIFNpbXBsZUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnk+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xuICAgICAgc3VwZXIocHJvcHMsIGNvbnRleHQpO1xuICAgICAgbnVtQ29uc3RydWN0b3JzKys7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgIG51bVJlbmRlcnMrKztcbiAgICAgIHJldHVybiA8ZGl2Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvZGl2PjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBTaW1wbGVQcmVzZW50YXRpb25hbCgpIHtcbiAgICBudW1DaGlsZFJlbmRlcnMrKztcbiAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgfVxuICBjb25zdCBBc3luY1BhcmVudCA9IHByZXBhcmVkKGFzeW5jIHByb3BzID0+IHtcbiAgICBudW1QcmVwYXJlcysrO1xuICAgIGV4cGVjdChwcm9wcy5kYXRhKS50b0JlKCd0ZXN0Jyk7XG4gIH0pKFNpbXBsZUNvbXBvbmVudCk7XG4gIGNvbnN0IGFwcCA9IChcbiAgICA8ZGl2PlxuICAgICAgPEFzeW5jUGFyZW50IGVmZmVjdElkPVwiMVwiIGRhdGE9XCJ0ZXN0XCI+XG4gICAgICAgIDxTaW1wbGVQcmVzZW50YXRpb25hbCAvPlxuICAgICAgPC9Bc3luY1BhcmVudD5cbiAgICAgIDxBc3luY1BhcmVudCBlZmZlY3RJZD1cIjJcIiBkYXRhPVwidGVzdFwiPlxuICAgICAgICA8U2ltcGxlUHJlc2VudGF0aW9uYWwgLz5cbiAgICAgIDwvQXN5bmNQYXJlbnQ+XG4gICAgPC9kaXY+XG4gICk7XG5cbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgZXhwZWN0KG51bVByZXBhcmVzKS50b0JlKDIpO1xuICAgIGV4cGVjdChudW1Db25zdHJ1Y3RvcnMpLnRvQmUoMik7XG4gICAgZXhwZWN0KG51bVJlbmRlcnMpLnRvQmUoMik7XG4gICAgZXhwZWN0KG51bUNoaWxkUmVuZGVycykudG9CZSgyKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1JlbmRlcmluZyBhIGNvbXBvbmVudCB0cmlnZ2VycyBjb21wb25lbnRXaWxsTW91bnQgYmVmb3JlIHJlbmRlcicsIGRvbmUgPT4ge1xuICBjb25zdCBvcmRlcmVkTWV0aG9kQ2FsbHMgPSBbXTtcbiAgY29uc3Qgb3JkZXJlZENoaWxkTWV0aG9kQ2FsbHMgPSBbXTtcblxuICAvLyBEaXNhYmxlIGVzbGludCBmb3IgZGVwcmVjYXRlZCBjb21wb25lbnRXaWxsTW91bnRcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWRlcHJlY2F0ZWRcbiAgY2xhc3MgU2ltcGxlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueT4ge1xuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICBvcmRlcmVkTWV0aG9kQ2FsbHMucHVzaCgnY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgb3JkZXJlZE1ldGhvZENhbGxzLnB1c2goJ3JlbmRlcicpO1xuICAgICAgcmV0dXJuIDxTaW1wbGVDaGlsZENvbXBvbmVudCAvPjtcbiAgICB9XG4gIH1cblxuICAvLyBEaXNhYmxlIGVzbGludCBmb3IgZGVwcmVjYXRlZCBjb21wb25lbnRXaWxsTW91bnRcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWRlcHJlY2F0ZWRcbiAgY2xhc3MgU2ltcGxlQ2hpbGRDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55PiB7XG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIG9yZGVyZWRDaGlsZE1ldGhvZENhbGxzLnB1c2goJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgIG9yZGVyZWRDaGlsZE1ldGhvZENhbGxzLnB1c2goJ3JlbmRlcicpO1xuICAgICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYXBwID0gPFNpbXBsZUNvbXBvbmVudCAvPjtcbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgZXhwZWN0KG9yZGVyZWRNZXRob2RDYWxscykudG9FcXVhbChbJ2NvbXBvbmVudFdpbGxNb3VudCcsICdyZW5kZXInXSk7XG4gICAgZXhwZWN0KG9yZGVyZWRDaGlsZE1ldGhvZENhbGxzKS50b0VxdWFsKFsnY29tcG9uZW50V2lsbE1vdW50JywgJ3JlbmRlciddKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBhbiBhc3luYyBhcHAgd2l0aCBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIG9wdGlvbicsIGRvbmUgPT4ge1xuICBsZXQgbnVtQ29uc3RydWN0b3JzID0gMDtcbiAgbGV0IG51bVJlbmRlcnMgPSAwO1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgY2xhc3MgU2ltcGxlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgICBudW1Db25zdHJ1Y3RvcnMrKztcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgbnVtUmVuZGVycysrO1xuICAgICAgcmV0dXJuIDxTaW1wbGVQcmVzZW50YXRpb25hbCAvPjtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gIH1cbiAgY29uc3QgQXN5bmNQYXJlbnQgPSBwcmVwYXJlZChcbiAgICBwcm9wcyA9PiB7XG4gICAgICBudW1QcmVwYXJlcysrO1xuICAgICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9LFxuICAgIHtcbiAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IHRydWUsXG4gICAgfVxuICApKFNpbXBsZUNvbXBvbmVudCk7XG4gIGNvbnN0IGFwcCA9IDxBc3luY1BhcmVudCBkYXRhPVwidGVzdFwiIC8+O1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bUNvbnN0cnVjdG9ycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtUmVuZGVycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDEpO1xuICAgIC8vIHRyaWdnZXJzIGNvbXBvbmVudERpZE1vdW50XG4gICAgY29uc3Qgd3JhcHBlciA9IHNoYWxsb3coYXBwKTtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMik7XG4gICAgLy8gdHJpZ2dlcnMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoe3Rlc3Q6IHRydWV9KTtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMyk7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgYW4gYXN5bmMgYXBwIHdpdGggY29tcG9uZW50RGlkVXBkYXRlIG9wdGlvbicsIGRvbmUgPT4ge1xuICBsZXQgbnVtQ29uc3RydWN0b3JzID0gMDtcbiAgbGV0IG51bVJlbmRlcnMgPSAwO1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgY2xhc3MgU2ltcGxlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgICBudW1Db25zdHJ1Y3RvcnMrKztcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgbnVtUmVuZGVycysrO1xuICAgICAgcmV0dXJuIDxTaW1wbGVQcmVzZW50YXRpb25hbCAvPjtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gIH1cbiAgY29uc3QgQXN5bmNQYXJlbnQgPSBwcmVwYXJlZChcbiAgICBwcm9wcyA9PiB7XG4gICAgICBudW1QcmVwYXJlcysrO1xuICAgICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9LFxuICAgIHtcbiAgICAgIGNvbXBvbmVudERpZFVwZGF0ZTogdHJ1ZSxcbiAgICB9XG4gICkoU2ltcGxlQ29tcG9uZW50KTtcbiAgY29uc3QgYXBwID0gPEFzeW5jUGFyZW50IGRhdGE9XCJ0ZXN0XCIgLz47XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtQ29uc3RydWN0b3JzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1SZW5kZXJzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1DaGlsZFJlbmRlcnMpLnRvQmUoMSk7XG4gICAgLy8gdHJpZ2dlcnMgY29tcG9uZW50RGlkTW91bnRcbiAgICBjb25zdCB3cmFwcGVyID0gc2hhbGxvdyhhcHApO1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgyKTtcbiAgICAvLyB0cmlnZ2VycyBjb21wb25lbnREaWRVcGRhdGVcbiAgICB3cmFwcGVyLnNldFByb3BzKHt0ZXN0OiB0cnVlfSk7XG4gICAgZXhwZWN0KG51bVByZXBhcmVzKS50b0JlKDMpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIFJlYWN0LmZvcndhcmRSZWYnLCBkb25lID0+IHtcbiAgLy8gJEZsb3dGaXhNZVxuICBjb25zdCBGb3J3YXJkZWQgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIElubmVyKHByb3BzLCByZWYpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIHJldHVybiA8ZGl2IHJlZj17cmVmfT57cHJvcHMuY2hpbGRyZW59PC9kaXY+O1xuICB9KTtcblxuICBjb25zdCBhcHAgPSAoXG4gICAgPEZvcndhcmRlZD5cbiAgICAgIDxzcGFuPjE8L3NwYW4+XG4gICAgICA8c3Bhbj4yPC9zcGFuPlxuICAgIDwvRm9yd2FyZGVkPlxuICApO1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gc2hhbGxvdyg8ZGl2PnthcHB9PC9kaXY+KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCdzcGFuJykubGVuZ3RoKS50b0JlKDIpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIFJlYWN0LmZvcndhcmRSZWYgd2l0aCBhc3luYyBjaGlsZHJlbicsIGRvbmUgPT4ge1xuICAvLyAkRmxvd0ZpeE1lXG4gIGNvbnN0IEZvcndhcmRlZCA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gSW5uZXIocHJvcHMsIHJlZikgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgcmV0dXJuIDxkaXYgcmVmPXtyZWZ9Pntwcm9wcy5jaGlsZHJlbn08L2Rpdj47XG4gIH0pO1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gIH1cbiAgY29uc3QgQXN5bmNDaGlsZCA9IHByZXBhcmVkKHByb3BzID0+IHtcbiAgICBudW1QcmVwYXJlcysrO1xuICAgIGV4cGVjdChwcm9wcy5kYXRhKS50b0JlKCd0ZXN0Jyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9KShTaW1wbGVQcmVzZW50YXRpb25hbCk7XG4gIGNvbnN0IGFwcCA9IChcbiAgICA8Rm9yd2FyZGVkPlxuICAgICAgPEFzeW5jQ2hpbGQgZWZmZWN0SWQ9XCIxXCIgZGF0YT1cInRlc3RcIiAvPlxuICAgICAgPEFzeW5jQ2hpbGQgZWZmZWN0SWQ9XCIyXCIgZGF0YT1cInRlc3RcIiAvPlxuICAgIDwvRm9yd2FyZGVkPlxuICApO1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMik7XG4gICAgZXhwZWN0KG51bUNoaWxkUmVuZGVycykudG9CZSgyKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBhIEZyYWdtZW50JywgZG9uZSA9PiB7XG4gIGNvbnN0IGFwcCA9IChcbiAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICA8c3Bhbj4xPC9zcGFuPlxuICAgICAgPHNwYW4+Mjwvc3Bhbj5cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gc2hhbGxvdyg8ZGl2PnthcHB9PC9kaXY+KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCdzcGFuJykubGVuZ3RoKS50b0JlKDIpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIGEgZnJhZ21lbnQgd2l0aCBhc3luYyBjaGlsZHJlbicsIGRvbmUgPT4ge1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gIH1cbiAgY29uc3QgQXN5bmNDaGlsZCA9IHByZXBhcmVkKHByb3BzID0+IHtcbiAgICBudW1QcmVwYXJlcysrO1xuICAgIGV4cGVjdChwcm9wcy5kYXRhKS50b0JlKCd0ZXN0Jyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9KShTaW1wbGVQcmVzZW50YXRpb25hbCk7XG4gIGNvbnN0IGFwcCA9IChcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgPEFzeW5jQ2hpbGQgZWZmZWN0SWQ9XCIxXCIgZGF0YT1cInRlc3RcIiAvPlxuICAgICAgPEFzeW5jQ2hpbGQgZWZmZWN0SWQ9XCIyXCIgZGF0YT1cInRlc3RcIiAvPlxuICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICk7XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgyKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDIpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIFJlYWN0LmNyZWF0ZUNvbnRleHQoKScsIGRvbmUgPT4ge1xuICAvLyAkRmxvd0ZpeE1lXG4gIGNvbnN0IHtQcm92aWRlciwgQ29uc3VtZXJ9ID0gUmVhY3QuY3JlYXRlQ29udGV4dCgnbGlnaHQnKTtcblxuICBjb25zdCBhcHAgPSAoXG4gICAgPFByb3ZpZGVyIHZhbHVlPVwibGlnaHRcIj5cbiAgICAgIDxzcGFuPjE8L3NwYW4+XG4gICAgICA8Q29uc3VtZXI+eygpID0+IDxzcGFuPjI8L3NwYW4+fTwvQ29uc3VtZXI+XG4gICAgPC9Qcm92aWRlcj5cbiAgKTtcbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IHNoYWxsb3coPGRpdj57YXBwfTwvZGl2Pik7XG4gICAgZXhwZWN0KHdyYXBwZXIuZmluZCgnc3BhbicpLmxlbmd0aCkudG9CZSgxKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBSZWFjdC5jcmVhdGVDb250ZXh0KCkgd2l0aCBhc3luYyBjaGlsZHJlbicsIGRvbmUgPT4ge1xuICAvLyAkRmxvd0ZpeE1lXG4gIGNvbnN0IHtQcm92aWRlciwgQ29uc3VtZXJ9ID0gUmVhY3QuY3JlYXRlQ29udGV4dCgnbGlnaHQnKTtcblxuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgbGV0IG51bVJlbmRlclByb3BzUmVuZGVycyA9IDA7XG4gIGZ1bmN0aW9uIFNpbXBsZVByZXNlbnRhdGlvbmFsKCkge1xuICAgIG51bUNoaWxkUmVuZGVycysrO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb25zdW1lcj5cbiAgICAgICAge3RoZW1lID0+IHtcbiAgICAgICAgICBudW1SZW5kZXJQcm9wc1JlbmRlcnMrKztcbiAgICAgICAgICBleHBlY3QodGhlbWUpLnRvQmUoJ2RhcmsnKTtcbiAgICAgICAgICByZXR1cm4gPGRpdj57dGhlbWV9PC9kaXY+O1xuICAgICAgICB9fVxuICAgICAgPC9Db25zdW1lcj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgQXN5bmNDaGlsZCA9IHByZXBhcmVkKHByb3BzID0+IHtcbiAgICBudW1QcmVwYXJlcysrO1xuICAgIGV4cGVjdChwcm9wcy5kYXRhKS50b0JlKCd0ZXN0Jyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9KShTaW1wbGVQcmVzZW50YXRpb25hbCk7XG5cbiAgY29uc3QgYXBwID0gKFxuICAgIDxQcm92aWRlciB2YWx1ZT1cImRhcmtcIj5cbiAgICAgIDxBc3luY0NoaWxkIGVmZmVjdElkPVwiMVwiIGRhdGE9XCJ0ZXN0XCIgLz5cbiAgICAgIDxBc3luY0NoaWxkIGVmZmVjdElkPVwiMlwiIGRhdGE9XCJ0ZXN0XCIgLz5cbiAgICA8L1Byb3ZpZGVyPlxuICApO1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMik7XG4gICAgZXhwZWN0KG51bVJlbmRlclByb3BzUmVuZGVycykudG9CZSgyKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDIpO1xuXG4gICAgZXhwZWN0KHNoYWxsb3coPGRpdj57YXBwfTwvZGl2PikuaHRtbCgpKS50b0JlKFxuICAgICAgJzxkaXY+PGRpdj5kYXJrPC9kaXY+PGRpdj5kYXJrPC9kaXY+PC9kaXY+J1xuICAgICk7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgUmVhY3QuY3JlYXRlQ29udGV4dCgpIHdpdGggZGVlcCBhc3luYyBjaGlsZHJlbicsIGRvbmUgPT4ge1xuICAvLyAkRmxvd0ZpeE1lXG4gIGNvbnN0IHtQcm92aWRlciwgQ29uc3VtZXJ9ID0gUmVhY3QuY3JlYXRlQ29udGV4dCgnbGlnaHQnKTtcblxuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgbGV0IG51bVJlbmRlclByb3BzUmVuZGVycyA9IDA7XG4gIGZ1bmN0aW9uIFNpbXBsZVByZXNlbnRhdGlvbmFsKCkge1xuICAgIG51bUNoaWxkUmVuZGVycysrO1xuICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICB9XG5cbiAgY29uc3QgQXN5bmNDaGlsZCA9IHByZXBhcmVkKHByb3BzID0+IHtcbiAgICBudW1QcmVwYXJlcysrO1xuICAgIGV4cGVjdChwcm9wcy5kYXRhKS50b0JlKCd0ZXN0Jyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9KShTaW1wbGVQcmVzZW50YXRpb25hbCk7XG5cbiAgY29uc3QgQ29uc3VtZXJDb21wb25lbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb25zdW1lcj5cbiAgICAgICAge3RoZW1lID0+IHtcbiAgICAgICAgICBudW1SZW5kZXJQcm9wc1JlbmRlcnMrKztcbiAgICAgICAgICBleHBlY3QodGhlbWUpLnRvQmUoJ2RhcmsnKTtcbiAgICAgICAgICByZXR1cm4gPEFzeW5jQ2hpbGQgZGF0YT1cInRlc3RcIiAvPjtcbiAgICAgICAgfX1cbiAgICAgIDwvQ29uc3VtZXI+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBhcHAgPSAoXG4gICAgPFByb3ZpZGVyIHZhbHVlPVwiZGFya1wiPlxuICAgICAgPENvbnN1bWVyQ29tcG9uZW50IC8+XG4gICAgPC9Qcm92aWRlcj5cbiAgKTtcbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgZXhwZWN0KG51bVByZXBhcmVzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1DaGlsZFJlbmRlcnMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bVJlbmRlclByb3BzUmVuZGVycyA+IDApLnRvQmVUcnV0aHkoKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBSZWFjdC5jcmVhdGVDb250ZXh0KCkgdXNpbmcgdGhlIGRlZmF1bHQgcHJvdmlkZXIgdmFsdWUnLCBkb25lID0+IHtcbiAgLy8gJEZsb3dGaXhNZVxuICBjb25zdCB7Q29uc3VtZXJ9ID0gUmVhY3QuY3JlYXRlQ29udGV4dCgnbGlnaHQnKTtcblxuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgbGV0IG51bVJlbmRlclByb3BzUmVuZGVycyA9IDA7XG4gIGZ1bmN0aW9uIFNpbXBsZVByZXNlbnRhdGlvbmFsKCkge1xuICAgIG51bUNoaWxkUmVuZGVycysrO1xuICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICB9XG5cbiAgY29uc3QgQXN5bmNDaGlsZCA9IHByZXBhcmVkKHByb3BzID0+IHtcbiAgICBudW1QcmVwYXJlcysrO1xuICAgIGV4cGVjdChwcm9wcy5kYXRhKS50b0JlKCd0ZXN0Jyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9KShTaW1wbGVQcmVzZW50YXRpb25hbCk7XG5cbiAgY29uc3QgQ29uc3VtZXJDb21wb25lbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb25zdW1lcj5cbiAgICAgICAge3RoZW1lID0+IHtcbiAgICAgICAgICBudW1SZW5kZXJQcm9wc1JlbmRlcnMrKztcbiAgICAgICAgICBleHBlY3QodGhlbWUpLnRvQmUoJ2xpZ2h0Jyk7XG4gICAgICAgICAgcmV0dXJuIDxBc3luY0NoaWxkIGRhdGE9XCJ0ZXN0XCIgLz47XG4gICAgICAgIH19XG4gICAgICA8L0NvbnN1bWVyPlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgYXBwID0gPENvbnN1bWVyQ29tcG9uZW50IC8+O1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bUNoaWxkUmVuZGVycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtUmVuZGVyUHJvcHNSZW5kZXJzID4gMCkudG9CZVRydXRoeSgpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIGEgY29tcG9uZW50IHVzaW5nIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcycsIGRvbmUgPT4ge1xuICBsZXQgbnVtQ29uc3RydWN0b3JzID0gMDtcbiAgbGV0IG51bVJlbmRlcnMgPSAwO1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgbGV0IG51bURlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IDA7XG4gIGxldCByZXRhaW5lZFN0YXRlID0gZmFsc2U7XG4gIGNsYXNzIFNpbXBsZUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnksIGFueT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgICBudW1Db25zdHJ1Y3RvcnMrKztcbiAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgIGZpcnN0UmVuZGVyOiB0cnVlLFxuICAgICAgICBvcmlnaW5hbFN0YXRlOiAnc2hvdWxkIHJlbWFpbicsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHtmaXJzdFJlbmRlcn0pIHtcbiAgICAgIG51bURlcml2ZWRTdGF0ZUZyb21Qcm9wcysrO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZmlyc3RSZW5kZXI6IGZhbHNlLFxuICAgICAgICBzb21lTmV3S2V5OiBbMSwgMiwgM10sXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tZGVwcmVjYXRlZFxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIG5vdCBiZSBjYWxsZWQgd2hlbiBnRFNGUCBpcyBkZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgbnVtUmVuZGVycysrO1xuICAgICAgcmV0YWluZWRTdGF0ZSA9IHRoaXMuc3RhdGUub3JpZ2luYWxTdGF0ZSA9PT0gJ3Nob3VsZCByZW1haW4nO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5zb21lTmV3S2V5Lm1hcCgoaXRlbSwga2V5KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17a2V5fSAvPlxuICAgICAgICAgICkpfVxuICAgICAgICAgIDxTaW1wbGVQcmVzZW50YXRpb25hbCAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIFNpbXBsZVByZXNlbnRhdGlvbmFsKCkge1xuICAgIG51bUNoaWxkUmVuZGVycysrO1xuICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICB9XG4gIGNvbnN0IEFzeW5jUGFyZW50ID0gcHJlcGFyZWQoXG4gICAgcHJvcHMgPT4ge1xuICAgICAgbnVtUHJlcGFyZXMrKztcbiAgICAgIGV4cGVjdChwcm9wcy5kYXRhKS50b0JlKCd0ZXN0Jyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSxcbiAgICB7XG4gICAgICBjb21wb25lbnREaWRNb3VudDogZmFsc2UsXG4gICAgICBjb21wb25lbnREaWRVcGRhdGU6IGZhbHNlLFxuICAgIH1cbiAgKShTaW1wbGVDb21wb25lbnQpO1xuICBjb25zdCBhcHAgPSA8QXN5bmNQYXJlbnQgZGF0YT1cInRlc3RcIiAvPjtcbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgZXhwZWN0KHJldGFpbmVkU3RhdGUpLnRvQmUodHJ1ZSk7XG4gICAgZXhwZWN0KG51bVByZXBhcmVzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1Db25zdHJ1Y3RvcnMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bVJlbmRlcnMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bUNoaWxkUmVuZGVycykudG9CZSgxKTtcbiAgICBjb25zdCB3cmFwcGVyID0gc2hhbGxvdyhhcHApO1xuICAgIC8vIHRyaWdnZXJzIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1xuICAgIC8vIEVuenltZSBkb2VzIG5vdCB5ZXQgc3VwcG9ydCBjYWxsaW5nIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBhZnRlciBzZXRQcm9wc1xuICAgIHdyYXBwZXIuc2V0UHJvcHMoe3Rlc3Q6IHRydWV9KTtcbiAgICBleHBlY3QobnVtRGVyaXZlZFN0YXRlRnJvbVByb3BzKS50b0JlKDEpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcbiJdfQ==