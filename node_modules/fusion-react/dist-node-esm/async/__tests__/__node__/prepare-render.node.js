/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

/* eslint-disable react/no-multi-comp */
import * as React from 'react';
import Enzyme, { shallow } from 'enzyme';
import Adapter from 'enzyme-adapter-react-16';
import { prepare, prepared } from '../../index.js';
Enzyme.configure({
  adapter: new Adapter()
});
test('Preparing a hook', done => {
  function Component() {
    const [state] = React.useState(0);
    return React.createElement("span", null, state);
  }

  const app = React.createElement(Component, null);
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    const wrapper = shallow(app);
    expect(wrapper.find('span').length).toBe(1);
    done();
  });
});
test('Preparing a sync app', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement(SimplePresentational, null);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const app = React.createElement(SimpleComponent, null);
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing a sync app with nested children', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement("div", null, this.props.children);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const app = React.createElement(SimpleComponent, null, React.createElement(SimplePresentational, null), ";");
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing a sync app with functional components referencing children', done => {
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  function SimpleComponent(props, context) {
    numRenders++;
    return React.createElement("div", null, props.children);
  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);
  const app = React.createElement(SimpleComponent, null, React.createElement(AsyncChild, {
    data: "test"
  }));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numRenders).toBe(2);
    expect(numPrepares).toBe(1);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing an async app', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement(SimplePresentational, null);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    data: "test"
  });
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing an async app with nested asyncs', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement("div", null, this.props.children);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    effectId: "1",
    data: "test"
  }, React.createElement(AsyncParent, {
    effectId: "2",
    data: "test"
  }, React.createElement(SimplePresentational, null)));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numConstructors).toBe(3);
    expect(numRenders).toBe(3);
    expect(numChildRenders).toBe(1);
    done();
  });
});
test('Preparing an app with sibling async components', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement("div", null, this.props.children);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = prepared(async props => {
    numPrepares++;
    expect(props.data).toBe('test');
  })(SimpleComponent);
  const app = React.createElement("div", null, React.createElement(AsyncParent, {
    effectId: "1",
    data: "test"
  }, React.createElement(SimplePresentational, null)), React.createElement(AsyncParent, {
    effectId: "2",
    data: "test"
  }, React.createElement(SimplePresentational, null)));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numConstructors).toBe(2);
    expect(numRenders).toBe(2);
    expect(numChildRenders).toBe(2);
    done();
  });
});
test('Rendering a component triggers componentWillMount before render', done => {
  const orderedMethodCalls = [];
  const orderedChildMethodCalls = []; // Disable eslint for deprecated componentWillMount
  // eslint-disable-next-line react/no-deprecated

  class SimpleComponent extends React.Component {
    UNSAFE_componentWillMount() {
      orderedMethodCalls.push('componentWillMount');
    }

    render() {
      orderedMethodCalls.push('render');
      return React.createElement(SimpleChildComponent, null);
    }

  } // Disable eslint for deprecated componentWillMount
  // eslint-disable-next-line react/no-deprecated


  class SimpleChildComponent extends React.Component {
    UNSAFE_componentWillMount() {
      orderedChildMethodCalls.push('componentWillMount');
    }

    render() {
      orderedChildMethodCalls.push('render');
      return React.createElement("div", null, "Hello World");
    }

  }

  const app = React.createElement(SimpleComponent, null);
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(orderedMethodCalls).toEqual(['componentWillMount', 'render']);
    expect(orderedChildMethodCalls).toEqual(['componentWillMount', 'render']);
    done();
  });
});
test('Preparing an async app with componentWillReceiveProps option', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement(SimplePresentational, null);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  }, {
    componentWillReceiveProps: true
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    data: "test"
  });
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1); // triggers componentDidMount

    const wrapper = shallow(app);
    expect(numPrepares).toBe(2); // triggers componentWillReceiveProps

    wrapper.setProps({
      test: true
    });
    expect(numPrepares).toBe(3);
    done();
  });
});
test('Preparing an async app with componentDidUpdate option', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
    }

    render() {
      numRenders++;
      return React.createElement(SimplePresentational, null);
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  }, {
    componentDidUpdate: true
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    data: "test"
  });
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1); // triggers componentDidMount

    const wrapper = shallow(app);
    expect(numPrepares).toBe(2); // triggers componentDidUpdate

    wrapper.setProps({
      test: true
    });
    expect(numPrepares).toBe(3);
    done();
  });
});
test('Preparing React.forwardRef', done => {
  // $FlowFixMe
  const Forwarded = React.forwardRef(function Inner(props, ref) {
    // eslint-disable-line
    return React.createElement("div", {
      ref: ref
    }, props.children);
  });
  const app = React.createElement(Forwarded, null, React.createElement("span", null, "1"), React.createElement("span", null, "2"));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    const wrapper = shallow(React.createElement("div", null, app));
    expect(wrapper.find('span').length).toBe(2);
    done();
  });
});
test('Preparing React.forwardRef with async children', done => {
  // $FlowFixMe
  const Forwarded = React.forwardRef(function Inner(props, ref) {
    // eslint-disable-line
    return React.createElement("div", {
      ref: ref
    }, props.children);
  });
  let numChildRenders = 0;
  let numPrepares = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);
  const app = React.createElement(Forwarded, null, React.createElement(AsyncChild, {
    effectId: "1",
    data: "test"
  }), React.createElement(AsyncChild, {
    effectId: "2",
    data: "test"
  }));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numChildRenders).toBe(2);
    done();
  });
});
test('Preparing a Fragment', done => {
  const app = React.createElement(React.Fragment, null, React.createElement("span", null, "1"), React.createElement("span", null, "2"));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    const wrapper = shallow(React.createElement("div", null, app));
    expect(wrapper.find('span').length).toBe(2);
    done();
  });
});
test('Preparing a fragment with async children', done => {
  let numChildRenders = 0;
  let numPrepares = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);
  const app = // $FlowFixMe
  React.createElement(React.Fragment, null, React.createElement(AsyncChild, {
    effectId: "1",
    data: "test"
  }), React.createElement(AsyncChild, {
    effectId: "2",
    data: "test"
  }));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numChildRenders).toBe(2);
    done();
  });
});
test('Preparing React.createContext()', done => {
  // $FlowFixMe
  const {
    Provider,
    Consumer
  } = React.createContext('light');
  const app = React.createElement(Provider, {
    value: "light"
  }, React.createElement("span", null, "1"), React.createElement(Consumer, null, () => React.createElement("span", null, "2")));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    const wrapper = shallow(React.createElement("div", null, app));
    expect(wrapper.find('span').length).toBe(1);
    done();
  });
});
test('Preparing React.createContext() with async children', done => {
  // $FlowFixMe
  const {
    Provider,
    Consumer
  } = React.createContext('light');
  let numChildRenders = 0;
  let numPrepares = 0;
  let numRenderPropsRenders = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement(Consumer, null, theme => {
      numRenderPropsRenders++;
      expect(theme).toBe('dark');
      return React.createElement("div", null, theme);
    });
  }

  const AsyncChild = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);
  const app = React.createElement(Provider, {
    value: "dark"
  }, React.createElement(AsyncChild, {
    effectId: "1",
    data: "test"
  }), React.createElement(AsyncChild, {
    effectId: "2",
    data: "test"
  }));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(2);
    expect(numRenderPropsRenders).toBe(2);
    expect(numChildRenders).toBe(2);
    expect(shallow(React.createElement("div", null, app)).html()).toBe('<div><div>dark</div><div>dark</div></div>');
    done();
  });
});
test('Preparing React.createContext() with deep async children', done => {
  // $FlowFixMe
  const {
    Provider,
    Consumer
  } = React.createContext('light');
  let numChildRenders = 0;
  let numPrepares = 0;
  let numRenderPropsRenders = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);

  const ConsumerComponent = () => {
    return React.createElement(Consumer, null, theme => {
      numRenderPropsRenders++;
      expect(theme).toBe('dark');
      return React.createElement(AsyncChild, {
        data: "test"
      });
    });
  };

  const app = React.createElement(Provider, {
    value: "dark"
  }, React.createElement(ConsumerComponent, null));
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numChildRenders).toBe(1);
    expect(numRenderPropsRenders > 0).toBeTruthy();
    done();
  });
});
test('Preparing React.createContext() using the default provider value', done => {
  // $FlowFixMe
  const {
    Consumer
  } = React.createContext('light');
  let numChildRenders = 0;
  let numPrepares = 0;
  let numRenderPropsRenders = 0;

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncChild = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  })(SimplePresentational);

  const ConsumerComponent = () => {
    return React.createElement(Consumer, null, theme => {
      numRenderPropsRenders++;
      expect(theme).toBe('light');
      return React.createElement(AsyncChild, {
        data: "test"
      });
    });
  };

  const app = React.createElement(ConsumerComponent, null);
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(numPrepares).toBe(1);
    expect(numChildRenders).toBe(1);
    expect(numRenderPropsRenders > 0).toBeTruthy();
    done();
  });
});
test('Preparing a component using getDerivedStateFromProps', done => {
  let numConstructors = 0;
  let numRenders = 0;
  let numChildRenders = 0;
  let numPrepares = 0;
  let numDerivedStateFromProps = 0;
  let retainedState = false;

  class SimpleComponent extends React.Component {
    constructor(props, context) {
      super(props, context);
      numConstructors++;
      this.state = {
        firstRender: true,
        originalState: 'should remain'
      };
    }

    static getDerivedStateFromProps(props, {
      firstRender
    }) {
      numDerivedStateFromProps++;
      return {
        firstRender: false,
        someNewKey: [1, 2, 3]
      };
    } // eslint-disable-next-line react/no-deprecated


    componentWillMount() {
      throw new Error('Should not be called when gDSFP is defined');
    }

    render() {
      numRenders++;
      retainedState = this.state.originalState === 'should remain';
      return React.createElement("div", null, this.state.someNewKey.map((item, key) => React.createElement("div", {
        key: key
      })), React.createElement(SimplePresentational, null));
    }

  }

  function SimplePresentational() {
    numChildRenders++;
    return React.createElement("div", null, "Hello World");
  }

  const AsyncParent = prepared(props => {
    numPrepares++;
    expect(props.data).toBe('test');
    return Promise.resolve();
  }, {
    componentDidMount: false,
    componentDidUpdate: false
  })(SimpleComponent);
  const app = React.createElement(AsyncParent, {
    data: "test"
  });
  const p = prepare(app);
  expect(p instanceof Promise).toBeTruthy();
  p.then(() => {
    expect(retainedState).toBe(true);
    expect(numPrepares).toBe(1);
    expect(numConstructors).toBe(1);
    expect(numRenders).toBe(1);
    expect(numChildRenders).toBe(1);
    const wrapper = shallow(app); // triggers getDerivedStateFromProps
    // Enzyme does not yet support calling getDerivedStateFromProps after setProps

    wrapper.setProps({
      test: true
    });
    expect(numDerivedStateFromProps).toBe(1);
    done();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZXBhcmUtcmVuZGVyLm5vZGUuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJFbnp5bWUiLCJzaGFsbG93IiwiQWRhcHRlciIsInByZXBhcmUiLCJwcmVwYXJlZCIsImNvbmZpZ3VyZSIsImFkYXB0ZXIiLCJ0ZXN0IiwiZG9uZSIsIkNvbXBvbmVudCIsInN0YXRlIiwidXNlU3RhdGUiLCJhcHAiLCJwIiwiZXhwZWN0IiwiUHJvbWlzZSIsInRvQmVUcnV0aHkiLCJ0aGVuIiwid3JhcHBlciIsImZpbmQiLCJsZW5ndGgiLCJ0b0JlIiwibnVtQ29uc3RydWN0b3JzIiwibnVtUmVuZGVycyIsIm51bUNoaWxkUmVuZGVycyIsIlNpbXBsZUNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJjb250ZXh0IiwicmVuZGVyIiwiU2ltcGxlUHJlc2VudGF0aW9uYWwiLCJjaGlsZHJlbiIsIm51bVByZXBhcmVzIiwiQXN5bmNDaGlsZCIsImRhdGEiLCJyZXNvbHZlIiwiQXN5bmNQYXJlbnQiLCJvcmRlcmVkTWV0aG9kQ2FsbHMiLCJvcmRlcmVkQ2hpbGRNZXRob2RDYWxscyIsIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQiLCJwdXNoIiwiU2ltcGxlQ2hpbGRDb21wb25lbnQiLCJ0b0VxdWFsIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsInNldFByb3BzIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiRm9yd2FyZGVkIiwiZm9yd2FyZFJlZiIsIklubmVyIiwicmVmIiwiUHJvdmlkZXIiLCJDb25zdW1lciIsImNyZWF0ZUNvbnRleHQiLCJudW1SZW5kZXJQcm9wc1JlbmRlcnMiLCJ0aGVtZSIsImh0bWwiLCJDb25zdW1lckNvbXBvbmVudCIsIm51bURlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInJldGFpbmVkU3RhdGUiLCJmaXJzdFJlbmRlciIsIm9yaWdpbmFsU3RhdGUiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJzb21lTmV3S2V5IiwiY29tcG9uZW50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SUFBQUEsT0FBTyxDQUFDMEIsUUFBUixDQUFpQjtBQUFDckMsTUFBQUEsSUFBSSxFQUFFO0FBQVAsS0FBakI7QUFDQU8sSUFBQUEsTUFBTSxDQUFDMkMsd0JBQUQsQ0FBTixDQUFpQ3BDLElBQWpDLENBQXNDLENBQXRDO0FBQ0FiLElBQUFBLElBQUk7QUFDTCxHQVpEO0FBYUQsQ0F6RUcsQ0FBSiIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBDb3B5cmlnaHQgKGMpIDIwMTggVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICovXG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLW11bHRpLWNvbXAgKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFbnp5bWUsIHtzaGFsbG93fSBmcm9tICdlbnp5bWUnO1xuaW1wb3J0IEFkYXB0ZXIgZnJvbSAnZW56eW1lLWFkYXB0ZXItcmVhY3QtMTYnO1xuaW1wb3J0IHtwcmVwYXJlLCBwcmVwYXJlZH0gZnJvbSAnLi4vLi4vaW5kZXguanMnO1xuXG5Fbnp5bWUuY29uZmlndXJlKHthZGFwdGVyOiBuZXcgQWRhcHRlcigpfSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBhIGhvb2snLCBkb25lID0+IHtcbiAgZnVuY3Rpb24gQ29tcG9uZW50KCkge1xuICAgIGNvbnN0IFtzdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgICByZXR1cm4gPHNwYW4+e3N0YXRlfTwvc3Bhbj47XG4gIH1cbiAgY29uc3QgYXBwID0gPENvbXBvbmVudCAvPjtcbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IHNoYWxsb3coYXBwKTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCdzcGFuJykubGVuZ3RoKS50b0JlKDEpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIGEgc3luYyBhcHAnLCBkb25lID0+IHtcbiAgbGV0IG51bUNvbnN0cnVjdG9ycyA9IDA7XG4gIGxldCBudW1SZW5kZXJzID0gMDtcbiAgbGV0IG51bUNoaWxkUmVuZGVycyA9IDA7XG4gIGNsYXNzIFNpbXBsZUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnk+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xuICAgICAgc3VwZXIocHJvcHMsIGNvbnRleHQpO1xuICAgICAgbnVtQ29uc3RydWN0b3JzKys7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgIG51bVJlbmRlcnMrKztcbiAgICAgIHJldHVybiA8U2ltcGxlUHJlc2VudGF0aW9uYWwgLz47XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIFNpbXBsZVByZXNlbnRhdGlvbmFsKCkge1xuICAgIG51bUNoaWxkUmVuZGVycysrO1xuICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICB9XG4gIGNvbnN0IGFwcCA9IDxTaW1wbGVDb21wb25lbnQgLz47XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGV4cGVjdChudW1Db25zdHJ1Y3RvcnMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bVJlbmRlcnMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bUNoaWxkUmVuZGVycykudG9CZSgxKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBhIHN5bmMgYXBwIHdpdGggbmVzdGVkIGNoaWxkcmVuJywgZG9uZSA9PiB7XG4gIGxldCBudW1Db25zdHJ1Y3RvcnMgPSAwO1xuICBsZXQgbnVtUmVuZGVycyA9IDA7XG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBjbGFzcyBTaW1wbGVDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55PiB7XG4gICAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgICAgIG51bUNvbnN0cnVjdG9ycysrO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICBudW1SZW5kZXJzKys7XG4gICAgICByZXR1cm4gPGRpdj57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2Rpdj47XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIFNpbXBsZVByZXNlbnRhdGlvbmFsKCkge1xuICAgIG51bUNoaWxkUmVuZGVycysrO1xuICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICB9XG4gIGNvbnN0IGFwcCA9IChcbiAgICA8U2ltcGxlQ29tcG9uZW50PlxuICAgICAgPFNpbXBsZVByZXNlbnRhdGlvbmFsIC8+O1xuICAgIDwvU2ltcGxlQ29tcG9uZW50PlxuICApO1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtQ29uc3RydWN0b3JzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1SZW5kZXJzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1DaGlsZFJlbmRlcnMpLnRvQmUoMSk7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgYSBzeW5jIGFwcCB3aXRoIGZ1bmN0aW9uYWwgY29tcG9uZW50cyByZWZlcmVuY2luZyBjaGlsZHJlbicsIGRvbmUgPT4ge1xuICBsZXQgbnVtUmVuZGVycyA9IDA7XG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBsZXQgbnVtUHJlcGFyZXMgPSAwO1xuICBmdW5jdGlvbiBTaW1wbGVDb21wb25lbnQocHJvcHMsIGNvbnRleHQpIHtcbiAgICBudW1SZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+e3Byb3BzLmNoaWxkcmVufTwvZGl2PjtcbiAgfVxuICBmdW5jdGlvbiBTaW1wbGVQcmVzZW50YXRpb25hbCgpIHtcbiAgICBudW1DaGlsZFJlbmRlcnMrKztcbiAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgfVxuICBjb25zdCBBc3luY0NoaWxkID0gcHJlcGFyZWQocHJvcHMgPT4ge1xuICAgIG51bVByZXBhcmVzKys7XG4gICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0pKFNpbXBsZVByZXNlbnRhdGlvbmFsKTtcbiAgY29uc3QgYXBwID0gKFxuICAgIDxTaW1wbGVDb21wb25lbnQ+XG4gICAgICA8QXN5bmNDaGlsZCBkYXRhPVwidGVzdFwiIC8+XG4gICAgPC9TaW1wbGVDb21wb25lbnQ+XG4gICk7XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGV4cGVjdChudW1SZW5kZXJzKS50b0JlKDIpO1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDEpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIGFuIGFzeW5jIGFwcCcsIGRvbmUgPT4ge1xuICBsZXQgbnVtQ29uc3RydWN0b3JzID0gMDtcbiAgbGV0IG51bVJlbmRlcnMgPSAwO1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgY2xhc3MgU2ltcGxlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgICBudW1Db25zdHJ1Y3RvcnMrKztcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgbnVtUmVuZGVycysrO1xuICAgICAgcmV0dXJuIDxTaW1wbGVQcmVzZW50YXRpb25hbCAvPjtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gIH1cbiAgY29uc3QgQXN5bmNQYXJlbnQgPSBwcmVwYXJlZChwcm9wcyA9PiB7XG4gICAgbnVtUHJlcGFyZXMrKztcbiAgICBleHBlY3QocHJvcHMuZGF0YSkudG9CZSgndGVzdCcpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfSkoU2ltcGxlQ29tcG9uZW50KTtcbiAgY29uc3QgYXBwID0gPEFzeW5jUGFyZW50IGRhdGE9XCJ0ZXN0XCIgLz47XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtQ29uc3RydWN0b3JzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1SZW5kZXJzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1DaGlsZFJlbmRlcnMpLnRvQmUoMSk7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgYW4gYXN5bmMgYXBwIHdpdGggbmVzdGVkIGFzeW5jcycsIGRvbmUgPT4ge1xuICBsZXQgbnVtQ29uc3RydWN0b3JzID0gMDtcbiAgbGV0IG51bVJlbmRlcnMgPSAwO1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgY2xhc3MgU2ltcGxlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgICBudW1Db25zdHJ1Y3RvcnMrKztcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgbnVtUmVuZGVycysrO1xuICAgICAgcmV0dXJuIDxkaXY+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9kaXY+O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIFNpbXBsZVByZXNlbnRhdGlvbmFsKCkge1xuICAgIG51bUNoaWxkUmVuZGVycysrO1xuICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICB9XG4gIGNvbnN0IEFzeW5jUGFyZW50ID0gcHJlcGFyZWQocHJvcHMgPT4ge1xuICAgIG51bVByZXBhcmVzKys7XG4gICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0pKFNpbXBsZUNvbXBvbmVudCk7XG4gIGNvbnN0IGFwcCA9IChcbiAgICA8QXN5bmNQYXJlbnQgZWZmZWN0SWQ9XCIxXCIgZGF0YT1cInRlc3RcIj5cbiAgICAgIDxBc3luY1BhcmVudCBlZmZlY3RJZD1cIjJcIiBkYXRhPVwidGVzdFwiPlxuICAgICAgICA8U2ltcGxlUHJlc2VudGF0aW9uYWwgLz5cbiAgICAgIDwvQXN5bmNQYXJlbnQ+XG4gICAgPC9Bc3luY1BhcmVudD5cbiAgKTtcblxuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMik7XG4gICAgZXhwZWN0KG51bUNvbnN0cnVjdG9ycykudG9CZSgzKTtcbiAgICBleHBlY3QobnVtUmVuZGVycykudG9CZSgzKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDEpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIGFuIGFwcCB3aXRoIHNpYmxpbmcgYXN5bmMgY29tcG9uZW50cycsIGRvbmUgPT4ge1xuICBsZXQgbnVtQ29uc3RydWN0b3JzID0gMDtcbiAgbGV0IG51bVJlbmRlcnMgPSAwO1xuICBsZXQgbnVtQ2hpbGRSZW5kZXJzID0gMDtcbiAgbGV0IG51bVByZXBhcmVzID0gMDtcbiAgY2xhc3MgU2ltcGxlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgICBudW1Db25zdHJ1Y3RvcnMrKztcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgbnVtUmVuZGVycysrO1xuICAgICAgcmV0dXJuIDxkaXY+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9kaXY+O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIFNpbXBsZVByZXNlbnRhdGlvbmFsKCkge1xuICAgIG51bUNoaWxkUmVuZGVycysrO1xuICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICB9XG4gIGNvbnN0IEFzeW5jUGFyZW50ID0gcHJlcGFyZWQoYXN5bmMgcHJvcHMgPT4ge1xuICAgIG51bVByZXBhcmVzKys7XG4gICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgfSkoU2ltcGxlQ29tcG9uZW50KTtcbiAgY29uc3QgYXBwID0gKFxuICAgIDxkaXY+XG4gICAgICA8QXN5bmNQYXJlbnQgZWZmZWN0SWQ9XCIxXCIgZGF0YT1cInRlc3RcIj5cbiAgICAgICAgPFNpbXBsZVByZXNlbnRhdGlvbmFsIC8+XG4gICAgICA8L0FzeW5jUGFyZW50PlxuICAgICAgPEFzeW5jUGFyZW50IGVmZmVjdElkPVwiMlwiIGRhdGE9XCJ0ZXN0XCI+XG4gICAgICAgIDxTaW1wbGVQcmVzZW50YXRpb25hbCAvPlxuICAgICAgPC9Bc3luY1BhcmVudD5cbiAgICA8L2Rpdj5cbiAgKTtcblxuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMik7XG4gICAgZXhwZWN0KG51bUNvbnN0cnVjdG9ycykudG9CZSgyKTtcbiAgICBleHBlY3QobnVtUmVuZGVycykudG9CZSgyKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDIpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUmVuZGVyaW5nIGEgY29tcG9uZW50IHRyaWdnZXJzIGNvbXBvbmVudFdpbGxNb3VudCBiZWZvcmUgcmVuZGVyJywgZG9uZSA9PiB7XG4gIGNvbnN0IG9yZGVyZWRNZXRob2RDYWxscyA9IFtdO1xuICBjb25zdCBvcmRlcmVkQ2hpbGRNZXRob2RDYWxscyA9IFtdO1xuXG4gIC8vIERpc2FibGUgZXNsaW50IGZvciBkZXByZWNhdGVkIGNvbXBvbmVudFdpbGxNb3VudFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tZGVwcmVjYXRlZFxuICBjbGFzcyBTaW1wbGVDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55PiB7XG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIG9yZGVyZWRNZXRob2RDYWxscy5wdXNoKCdjb21wb25lbnRXaWxsTW91bnQnKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICBvcmRlcmVkTWV0aG9kQ2FsbHMucHVzaCgncmVuZGVyJyk7XG4gICAgICByZXR1cm4gPFNpbXBsZUNoaWxkQ29tcG9uZW50IC8+O1xuICAgIH1cbiAgfVxuXG4gIC8vIERpc2FibGUgZXNsaW50IGZvciBkZXByZWNhdGVkIGNvbXBvbmVudFdpbGxNb3VudFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tZGVwcmVjYXRlZFxuICBjbGFzcyBTaW1wbGVDaGlsZENvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnk+IHtcbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgb3JkZXJlZENoaWxkTWV0aG9kQ2FsbHMucHVzaCgnY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgb3JkZXJlZENoaWxkTWV0aG9kQ2FsbHMucHVzaCgncmVuZGVyJyk7XG4gICAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBhcHAgPSA8U2ltcGxlQ29tcG9uZW50IC8+O1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3Qob3JkZXJlZE1ldGhvZENhbGxzKS50b0VxdWFsKFsnY29tcG9uZW50V2lsbE1vdW50JywgJ3JlbmRlciddKTtcbiAgICBleHBlY3Qob3JkZXJlZENoaWxkTWV0aG9kQ2FsbHMpLnRvRXF1YWwoWydjb21wb25lbnRXaWxsTW91bnQnLCAncmVuZGVyJ10pO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIGFuIGFzeW5jIGFwcCB3aXRoIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgb3B0aW9uJywgZG9uZSA9PiB7XG4gIGxldCBudW1Db25zdHJ1Y3RvcnMgPSAwO1xuICBsZXQgbnVtUmVuZGVycyA9IDA7XG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBsZXQgbnVtUHJlcGFyZXMgPSAwO1xuICBjbGFzcyBTaW1wbGVDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55PiB7XG4gICAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgICAgIG51bUNvbnN0cnVjdG9ycysrO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICBudW1SZW5kZXJzKys7XG4gICAgICByZXR1cm4gPFNpbXBsZVByZXNlbnRhdGlvbmFsIC8+O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBTaW1wbGVQcmVzZW50YXRpb25hbCgpIHtcbiAgICBudW1DaGlsZFJlbmRlcnMrKztcbiAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgfVxuICBjb25zdCBBc3luY1BhcmVudCA9IHByZXBhcmVkKFxuICAgIHByb3BzID0+IHtcbiAgICAgIG51bVByZXBhcmVzKys7XG4gICAgICBleHBlY3QocHJvcHMuZGF0YSkudG9CZSgndGVzdCcpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0sXG4gICAge1xuICAgICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogdHJ1ZSxcbiAgICB9XG4gICkoU2ltcGxlQ29tcG9uZW50KTtcbiAgY29uc3QgYXBwID0gPEFzeW5jUGFyZW50IGRhdGE9XCJ0ZXN0XCIgLz47XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtQ29uc3RydWN0b3JzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1SZW5kZXJzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1DaGlsZFJlbmRlcnMpLnRvQmUoMSk7XG4gICAgLy8gdHJpZ2dlcnMgY29tcG9uZW50RGlkTW91bnRcbiAgICBjb25zdCB3cmFwcGVyID0gc2hhbGxvdyhhcHApO1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgyKTtcbiAgICAvLyB0cmlnZ2VycyBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXG4gICAgd3JhcHBlci5zZXRQcm9wcyh7dGVzdDogdHJ1ZX0pO1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgzKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBhbiBhc3luYyBhcHAgd2l0aCBjb21wb25lbnREaWRVcGRhdGUgb3B0aW9uJywgZG9uZSA9PiB7XG4gIGxldCBudW1Db25zdHJ1Y3RvcnMgPSAwO1xuICBsZXQgbnVtUmVuZGVycyA9IDA7XG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBsZXQgbnVtUHJlcGFyZXMgPSAwO1xuICBjbGFzcyBTaW1wbGVDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55PiB7XG4gICAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgICAgIG51bUNvbnN0cnVjdG9ycysrO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICBudW1SZW5kZXJzKys7XG4gICAgICByZXR1cm4gPFNpbXBsZVByZXNlbnRhdGlvbmFsIC8+O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBTaW1wbGVQcmVzZW50YXRpb25hbCgpIHtcbiAgICBudW1DaGlsZFJlbmRlcnMrKztcbiAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgfVxuICBjb25zdCBBc3luY1BhcmVudCA9IHByZXBhcmVkKFxuICAgIHByb3BzID0+IHtcbiAgICAgIG51bVByZXBhcmVzKys7XG4gICAgICBleHBlY3QocHJvcHMuZGF0YSkudG9CZSgndGVzdCcpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0sXG4gICAge1xuICAgICAgY29tcG9uZW50RGlkVXBkYXRlOiB0cnVlLFxuICAgIH1cbiAgKShTaW1wbGVDb21wb25lbnQpO1xuICBjb25zdCBhcHAgPSA8QXN5bmNQYXJlbnQgZGF0YT1cInRlc3RcIiAvPjtcbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgZXhwZWN0KG51bVByZXBhcmVzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1Db25zdHJ1Y3RvcnMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bVJlbmRlcnMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bUNoaWxkUmVuZGVycykudG9CZSgxKTtcbiAgICAvLyB0cmlnZ2VycyBjb21wb25lbnREaWRNb3VudFxuICAgIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93KGFwcCk7XG4gICAgZXhwZWN0KG51bVByZXBhcmVzKS50b0JlKDIpO1xuICAgIC8vIHRyaWdnZXJzIGNvbXBvbmVudERpZFVwZGF0ZVxuICAgIHdyYXBwZXIuc2V0UHJvcHMoe3Rlc3Q6IHRydWV9KTtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMyk7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgUmVhY3QuZm9yd2FyZFJlZicsIGRvbmUgPT4ge1xuICAvLyAkRmxvd0ZpeE1lXG4gIGNvbnN0IEZvcndhcmRlZCA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gSW5uZXIocHJvcHMsIHJlZikgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgcmV0dXJuIDxkaXYgcmVmPXtyZWZ9Pntwcm9wcy5jaGlsZHJlbn08L2Rpdj47XG4gIH0pO1xuXG4gIGNvbnN0IGFwcCA9IChcbiAgICA8Rm9yd2FyZGVkPlxuICAgICAgPHNwYW4+MTwvc3Bhbj5cbiAgICAgIDxzcGFuPjI8L3NwYW4+XG4gICAgPC9Gb3J3YXJkZWQ+XG4gICk7XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93KDxkaXY+e2FwcH08L2Rpdj4pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJ3NwYW4nKS5sZW5ndGgpLnRvQmUoMik7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgUmVhY3QuZm9yd2FyZFJlZiB3aXRoIGFzeW5jIGNoaWxkcmVuJywgZG9uZSA9PiB7XG4gIC8vICRGbG93Rml4TWVcbiAgY29uc3QgRm9yd2FyZGVkID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBJbm5lcihwcm9wcywgcmVmKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICByZXR1cm4gPGRpdiByZWY9e3JlZn0+e3Byb3BzLmNoaWxkcmVufTwvZGl2PjtcbiAgfSk7XG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBsZXQgbnVtUHJlcGFyZXMgPSAwO1xuICBmdW5jdGlvbiBTaW1wbGVQcmVzZW50YXRpb25hbCgpIHtcbiAgICBudW1DaGlsZFJlbmRlcnMrKztcbiAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgfVxuICBjb25zdCBBc3luY0NoaWxkID0gcHJlcGFyZWQocHJvcHMgPT4ge1xuICAgIG51bVByZXBhcmVzKys7XG4gICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0pKFNpbXBsZVByZXNlbnRhdGlvbmFsKTtcbiAgY29uc3QgYXBwID0gKFxuICAgIDxGb3J3YXJkZWQ+XG4gICAgICA8QXN5bmNDaGlsZCBlZmZlY3RJZD1cIjFcIiBkYXRhPVwidGVzdFwiIC8+XG4gICAgICA8QXN5bmNDaGlsZCBlZmZlY3RJZD1cIjJcIiBkYXRhPVwidGVzdFwiIC8+XG4gICAgPC9Gb3J3YXJkZWQ+XG4gICk7XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgyKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDIpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIGEgRnJhZ21lbnQnLCBkb25lID0+IHtcbiAgY29uc3QgYXBwID0gKFxuICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgIDxzcGFuPjE8L3NwYW4+XG4gICAgICA8c3Bhbj4yPC9zcGFuPlxuICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICk7XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93KDxkaXY+e2FwcH08L2Rpdj4pO1xuICAgIGV4cGVjdCh3cmFwcGVyLmZpbmQoJ3NwYW4nKS5sZW5ndGgpLnRvQmUoMik7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgYSBmcmFnbWVudCB3aXRoIGFzeW5jIGNoaWxkcmVuJywgZG9uZSA9PiB7XG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBsZXQgbnVtUHJlcGFyZXMgPSAwO1xuICBmdW5jdGlvbiBTaW1wbGVQcmVzZW50YXRpb25hbCgpIHtcbiAgICBudW1DaGlsZFJlbmRlcnMrKztcbiAgICByZXR1cm4gPGRpdj5IZWxsbyBXb3JsZDwvZGl2PjtcbiAgfVxuICBjb25zdCBBc3luY0NoaWxkID0gcHJlcGFyZWQocHJvcHMgPT4ge1xuICAgIG51bVByZXBhcmVzKys7XG4gICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0pKFNpbXBsZVByZXNlbnRhdGlvbmFsKTtcbiAgY29uc3QgYXBwID0gKFxuICAgIC8vICRGbG93Rml4TWVcbiAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICA8QXN5bmNDaGlsZCBlZmZlY3RJZD1cIjFcIiBkYXRhPVwidGVzdFwiIC8+XG4gICAgICA8QXN5bmNDaGlsZCBlZmZlY3RJZD1cIjJcIiBkYXRhPVwidGVzdFwiIC8+XG4gICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgKTtcbiAgY29uc3QgcCA9IHByZXBhcmUoYXBwKTtcbiAgZXhwZWN0KHAgaW5zdGFuY2VvZiBQcm9taXNlKS50b0JlVHJ1dGh5KCk7XG4gIHAudGhlbigoKSA9PiB7XG4gICAgZXhwZWN0KG51bVByZXBhcmVzKS50b0JlKDIpO1xuICAgIGV4cGVjdChudW1DaGlsZFJlbmRlcnMpLnRvQmUoMik7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgUmVhY3QuY3JlYXRlQ29udGV4dCgpJywgZG9uZSA9PiB7XG4gIC8vICRGbG93Rml4TWVcbiAgY29uc3Qge1Byb3ZpZGVyLCBDb25zdW1lcn0gPSBSZWFjdC5jcmVhdGVDb250ZXh0KCdsaWdodCcpO1xuXG4gIGNvbnN0IGFwcCA9IChcbiAgICA8UHJvdmlkZXIgdmFsdWU9XCJsaWdodFwiPlxuICAgICAgPHNwYW4+MTwvc3Bhbj5cbiAgICAgIDxDb25zdW1lcj57KCkgPT4gPHNwYW4+Mjwvc3Bhbj59PC9Db25zdW1lcj5cbiAgICA8L1Byb3ZpZGVyPlxuICApO1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gc2hhbGxvdyg8ZGl2PnthcHB9PC9kaXY+KTtcbiAgICBleHBlY3Qod3JhcHBlci5maW5kKCdzcGFuJykubGVuZ3RoKS50b0JlKDEpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIFJlYWN0LmNyZWF0ZUNvbnRleHQoKSB3aXRoIGFzeW5jIGNoaWxkcmVuJywgZG9uZSA9PiB7XG4gIC8vICRGbG93Rml4TWVcbiAgY29uc3Qge1Byb3ZpZGVyLCBDb25zdW1lcn0gPSBSZWFjdC5jcmVhdGVDb250ZXh0KCdsaWdodCcpO1xuXG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBsZXQgbnVtUHJlcGFyZXMgPSAwO1xuICBsZXQgbnVtUmVuZGVyUHJvcHNSZW5kZXJzID0gMDtcbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbnN1bWVyPlxuICAgICAgICB7dGhlbWUgPT4ge1xuICAgICAgICAgIG51bVJlbmRlclByb3BzUmVuZGVycysrO1xuICAgICAgICAgIGV4cGVjdCh0aGVtZSkudG9CZSgnZGFyaycpO1xuICAgICAgICAgIHJldHVybiA8ZGl2Pnt0aGVtZX08L2Rpdj47XG4gICAgICAgIH19XG4gICAgICA8L0NvbnN1bWVyPlxuICAgICk7XG4gIH1cblxuICBjb25zdCBBc3luY0NoaWxkID0gcHJlcGFyZWQocHJvcHMgPT4ge1xuICAgIG51bVByZXBhcmVzKys7XG4gICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0pKFNpbXBsZVByZXNlbnRhdGlvbmFsKTtcblxuICBjb25zdCBhcHAgPSAoXG4gICAgPFByb3ZpZGVyIHZhbHVlPVwiZGFya1wiPlxuICAgICAgPEFzeW5jQ2hpbGQgZWZmZWN0SWQ9XCIxXCIgZGF0YT1cInRlc3RcIiAvPlxuICAgICAgPEFzeW5jQ2hpbGQgZWZmZWN0SWQ9XCIyXCIgZGF0YT1cInRlc3RcIiAvPlxuICAgIDwvUHJvdmlkZXI+XG4gICk7XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgyKTtcbiAgICBleHBlY3QobnVtUmVuZGVyUHJvcHNSZW5kZXJzKS50b0JlKDIpO1xuICAgIGV4cGVjdChudW1DaGlsZFJlbmRlcnMpLnRvQmUoMik7XG5cbiAgICBleHBlY3Qoc2hhbGxvdyg8ZGl2PnthcHB9PC9kaXY+KS5odG1sKCkpLnRvQmUoXG4gICAgICAnPGRpdj48ZGl2PmRhcms8L2Rpdj48ZGl2PmRhcms8L2Rpdj48L2Rpdj4nXG4gICAgKTtcbiAgICBkb25lKCk7XG4gIH0pO1xufSk7XG5cbnRlc3QoJ1ByZXBhcmluZyBSZWFjdC5jcmVhdGVDb250ZXh0KCkgd2l0aCBkZWVwIGFzeW5jIGNoaWxkcmVuJywgZG9uZSA9PiB7XG4gIC8vICRGbG93Rml4TWVcbiAgY29uc3Qge1Byb3ZpZGVyLCBDb25zdW1lcn0gPSBSZWFjdC5jcmVhdGVDb250ZXh0KCdsaWdodCcpO1xuXG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBsZXQgbnVtUHJlcGFyZXMgPSAwO1xuICBsZXQgbnVtUmVuZGVyUHJvcHNSZW5kZXJzID0gMDtcbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gIH1cblxuICBjb25zdCBBc3luY0NoaWxkID0gcHJlcGFyZWQocHJvcHMgPT4ge1xuICAgIG51bVByZXBhcmVzKys7XG4gICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0pKFNpbXBsZVByZXNlbnRhdGlvbmFsKTtcblxuICBjb25zdCBDb25zdW1lckNvbXBvbmVudCA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbnN1bWVyPlxuICAgICAgICB7dGhlbWUgPT4ge1xuICAgICAgICAgIG51bVJlbmRlclByb3BzUmVuZGVycysrO1xuICAgICAgICAgIGV4cGVjdCh0aGVtZSkudG9CZSgnZGFyaycpO1xuICAgICAgICAgIHJldHVybiA8QXN5bmNDaGlsZCBkYXRhPVwidGVzdFwiIC8+O1xuICAgICAgICB9fVxuICAgICAgPC9Db25zdW1lcj5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IGFwcCA9IChcbiAgICA8UHJvdmlkZXIgdmFsdWU9XCJkYXJrXCI+XG4gICAgICA8Q29uc3VtZXJDb21wb25lbnQgLz5cbiAgICA8L1Byb3ZpZGVyPlxuICApO1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bUNoaWxkUmVuZGVycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtUmVuZGVyUHJvcHNSZW5kZXJzID4gMCkudG9CZVRydXRoeSgpO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcblxudGVzdCgnUHJlcGFyaW5nIFJlYWN0LmNyZWF0ZUNvbnRleHQoKSB1c2luZyB0aGUgZGVmYXVsdCBwcm92aWRlciB2YWx1ZScsIGRvbmUgPT4ge1xuICAvLyAkRmxvd0ZpeE1lXG4gIGNvbnN0IHtDb25zdW1lcn0gPSBSZWFjdC5jcmVhdGVDb250ZXh0KCdsaWdodCcpO1xuXG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBsZXQgbnVtUHJlcGFyZXMgPSAwO1xuICBsZXQgbnVtUmVuZGVyUHJvcHNSZW5kZXJzID0gMDtcbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gIH1cblxuICBjb25zdCBBc3luY0NoaWxkID0gcHJlcGFyZWQocHJvcHMgPT4ge1xuICAgIG51bVByZXBhcmVzKys7XG4gICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0pKFNpbXBsZVByZXNlbnRhdGlvbmFsKTtcblxuICBjb25zdCBDb25zdW1lckNvbXBvbmVudCA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbnN1bWVyPlxuICAgICAgICB7dGhlbWUgPT4ge1xuICAgICAgICAgIG51bVJlbmRlclByb3BzUmVuZGVycysrO1xuICAgICAgICAgIGV4cGVjdCh0aGVtZSkudG9CZSgnbGlnaHQnKTtcbiAgICAgICAgICByZXR1cm4gPEFzeW5jQ2hpbGQgZGF0YT1cInRlc3RcIiAvPjtcbiAgICAgICAgfX1cbiAgICAgIDwvQ29uc3VtZXI+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBhcHAgPSA8Q29uc3VtZXJDb21wb25lbnQgLz47XG4gIGNvbnN0IHAgPSBwcmVwYXJlKGFwcCk7XG4gIGV4cGVjdChwIGluc3RhbmNlb2YgUHJvbWlzZSkudG9CZVRydXRoeSgpO1xuICBwLnRoZW4oKCkgPT4ge1xuICAgIGV4cGVjdChudW1QcmVwYXJlcykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDEpO1xuICAgIGV4cGVjdChudW1SZW5kZXJQcm9wc1JlbmRlcnMgPiAwKS50b0JlVHJ1dGh5KCk7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuXG50ZXN0KCdQcmVwYXJpbmcgYSBjb21wb25lbnQgdXNpbmcgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJywgZG9uZSA9PiB7XG4gIGxldCBudW1Db25zdHJ1Y3RvcnMgPSAwO1xuICBsZXQgbnVtUmVuZGVycyA9IDA7XG4gIGxldCBudW1DaGlsZFJlbmRlcnMgPSAwO1xuICBsZXQgbnVtUHJlcGFyZXMgPSAwO1xuICBsZXQgbnVtRGVyaXZlZFN0YXRlRnJvbVByb3BzID0gMDtcbiAgbGV0IHJldGFpbmVkU3RhdGUgPSBmYWxzZTtcbiAgY2xhc3MgU2ltcGxlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueSwgYW55PiB7XG4gICAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgICAgIG51bUNvbnN0cnVjdG9ycysrO1xuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgZmlyc3RSZW5kZXI6IHRydWUsXG4gICAgICAgIG9yaWdpbmFsU3RhdGU6ICdzaG91bGQgcmVtYWluJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywge2ZpcnN0UmVuZGVyfSkge1xuICAgICAgbnVtRGVyaXZlZFN0YXRlRnJvbVByb3BzKys7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmaXJzdFJlbmRlcjogZmFsc2UsXG4gICAgICAgIHNvbWVOZXdLZXk6IFsxLCAyLCAzXSxcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1kZXByZWNhdGVkXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaG91bGQgbm90IGJlIGNhbGxlZCB3aGVuIGdEU0ZQIGlzIGRlZmluZWQnKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICBudW1SZW5kZXJzKys7XG4gICAgICByZXRhaW5lZFN0YXRlID0gdGhpcy5zdGF0ZS5vcmlnaW5hbFN0YXRlID09PSAnc2hvdWxkIHJlbWFpbic7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIHt0aGlzLnN0YXRlLnNvbWVOZXdLZXkubWFwKChpdGVtLCBrZXkpID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtrZXl9IC8+XG4gICAgICAgICAgKSl9XG4gICAgICAgICAgPFNpbXBsZVByZXNlbnRhdGlvbmFsIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gU2ltcGxlUHJlc2VudGF0aW9uYWwoKSB7XG4gICAgbnVtQ2hpbGRSZW5kZXJzKys7XG4gICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gIH1cbiAgY29uc3QgQXN5bmNQYXJlbnQgPSBwcmVwYXJlZChcbiAgICBwcm9wcyA9PiB7XG4gICAgICBudW1QcmVwYXJlcysrO1xuICAgICAgZXhwZWN0KHByb3BzLmRhdGEpLnRvQmUoJ3Rlc3QnKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9LFxuICAgIHtcbiAgICAgIGNvbXBvbmVudERpZE1vdW50OiBmYWxzZSxcbiAgICAgIGNvbXBvbmVudERpZFVwZGF0ZTogZmFsc2UsXG4gICAgfVxuICApKFNpbXBsZUNvbXBvbmVudCk7XG4gIGNvbnN0IGFwcCA9IDxBc3luY1BhcmVudCBkYXRhPVwidGVzdFwiIC8+O1xuICBjb25zdCBwID0gcHJlcGFyZShhcHApO1xuICBleHBlY3QocCBpbnN0YW5jZW9mIFByb21pc2UpLnRvQmVUcnV0aHkoKTtcbiAgcC50aGVuKCgpID0+IHtcbiAgICBleHBlY3QocmV0YWluZWRTdGF0ZSkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QobnVtUHJlcGFyZXMpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG51bUNvbnN0cnVjdG9ycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtUmVuZGVycykudG9CZSgxKTtcbiAgICBleHBlY3QobnVtQ2hpbGRSZW5kZXJzKS50b0JlKDEpO1xuICAgIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93KGFwcCk7XG4gICAgLy8gdHJpZ2dlcnMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXG4gICAgLy8gRW56eW1lIGRvZXMgbm90IHlldCBzdXBwb3J0IGNhbGxpbmcgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGFmdGVyIHNldFByb3BzXG4gICAgd3JhcHBlci5zZXRQcm9wcyh7dGVzdDogdHJ1ZX0pO1xuICAgIGV4cGVjdChudW1EZXJpdmVkU3RhdGVGcm9tUHJvcHMpLnRvQmUoMSk7XG4gICAgZG9uZSgpO1xuICB9KTtcbn0pO1xuIl19