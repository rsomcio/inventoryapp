const addLeadingSlash = path => path.charAt(0) === '/' ? path : '/' + path;

export const addRoutePrefix = (location, prefix) => {
  if (!prefix) return location;

  if (typeof location === 'string') {
    return `${prefix}${addLeadingSlash(location)}`;
  } else {
    return { ...location,
      pathname: `${prefix}${addLeadingSlash(location.pathname)}`
    };
  }
};
export const removeRoutePrefix = (location, prefix) => {
  if (!prefix) return location;
  const pathname = typeof location === 'string' ? location : location.pathname;
  const hasPrefix = (pathname + '/').indexOf(prefix + '/') === 0;
  const unprefixedPathname = pathname.slice(prefix.length);
  const relativePathname = hasPrefix ? unprefixedPathname : pathname;

  if (typeof location === 'string') {
    return relativePathname;
  } else {
    return { ...location,
      pathname: relativePathname
    };
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGVzL3V0aWxzLmpzIl0sIm5hbWVzIjpbImFkZExlYWRpbmdTbGFzaCIsInBhdGgiLCJjaGFyQXQiLCJhZGRSb3V0ZVByZWZpeCIsImxvY2F0aW9uIiwicHJlZml4IiwicGF0aG5hbWUiLCJyZW1vdmVSb3V0ZVByZWZpeCIsImhhc1ByZWZpeCIsImluZGV4T2YiLCJ1bnByZWZpeGVkUGF0aG5hbWUiLCJzbGljZSIsImxlbmd0aCIsInJlbGF0aXZlUGF0aG5hbWUiXSwibWFwcGluZ3MiOiJBQUdBLE1BQU1BLGVBQWUsR0FBSUMsSUFBRCxJQUFXQSxJQUFJLENBQUNDLE1BQUwsQ0FBWSxDQUFaLE1BQW1CLEdBQW5CLEdBQXlCRCxJQUF6QixHQUFnQyxNQUFNQSxJQUF6RTs7QUFFQSxPQUFPLE1BQU1FLGNBQWMsR0FBRyxDQUM1QkMsUUFENEIsRUFFNUJDLE1BRjRCLEtBR0Y7QUFDMUIsTUFBSSxDQUFDQSxNQUFMLEVBQWEsT0FBT0QsUUFBUDs7QUFDYixNQUFJLE9BQU9BLFFBQVAsS0FBb0IsUUFBeEIsRUFBa0M7QUFDaEMsV0FBUSxHQUFFQyxNQUFPLEdBQUVMLGVBQWUsQ0FBQ0ksUUFBRCxDQUFXLEVBQTdDO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsV0FBTyxFQUNMLEdBQUdBLFFBREU7QUFFTEUsTUFBQUEsUUFBUSxFQUFHLEdBQUVELE1BQU8sR0FBRUwsZUFBZSxDQUFDSSxRQUFRLENBQUNFLFFBQVYsQ0FBb0I7QUFGcEQsS0FBUDtBQUlEO0FBQ0YsQ0FiTTtBQWVQLE9BQU8sTUFBTUMsaUJBQWlCLEdBQUcsQ0FDL0JILFFBRCtCLEVBRS9CQyxNQUYrQixLQUdMO0FBQzFCLE1BQUksQ0FBQ0EsTUFBTCxFQUFhLE9BQU9ELFFBQVA7QUFDYixRQUFNRSxRQUFRLEdBQUcsT0FBT0YsUUFBUCxLQUFvQixRQUFwQixHQUErQkEsUUFBL0IsR0FBMENBLFFBQVEsQ0FBQ0UsUUFBcEU7QUFDQSxRQUFNRSxTQUFTLEdBQUcsQ0FBQ0YsUUFBUSxHQUFHLEdBQVosRUFBaUJHLE9BQWpCLENBQXlCSixNQUFNLEdBQUcsR0FBbEMsTUFBMkMsQ0FBN0Q7QUFDQSxRQUFNSyxrQkFBa0IsR0FBR0osUUFBUSxDQUFDSyxLQUFULENBQWVOLE1BQU0sQ0FBQ08sTUFBdEIsQ0FBM0I7QUFDQSxRQUFNQyxnQkFBZ0IsR0FBR0wsU0FBUyxHQUFHRSxrQkFBSCxHQUF3QkosUUFBMUQ7O0FBRUEsTUFBSSxPQUFPRixRQUFQLEtBQW9CLFFBQXhCLEVBQWtDO0FBQ2hDLFdBQU9TLGdCQUFQO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsV0FBTyxFQUNMLEdBQUdULFFBREU7QUFFTEUsTUFBQUEsUUFBUSxFQUFFTztBQUZMLEtBQVA7QUFJRDtBQUNGLENBbEJNIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCB0eXBlIHtMb2NhdGlvblR5cGV9IGZyb20gJy4uL3R5cGVzJztcblxuY29uc3QgYWRkTGVhZGluZ1NsYXNoID0gKHBhdGgpID0+IChwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGgpO1xuXG5leHBvcnQgY29uc3QgYWRkUm91dGVQcmVmaXggPSAoXG4gIGxvY2F0aW9uOiBzdHJpbmcgfCBMb2NhdGlvblR5cGUsXG4gIHByZWZpeDogc3RyaW5nXG4pOiBzdHJpbmcgfCBMb2NhdGlvblR5cGUgPT4ge1xuICBpZiAoIXByZWZpeCkgcmV0dXJuIGxvY2F0aW9uO1xuICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBgJHtwcmVmaXh9JHthZGRMZWFkaW5nU2xhc2gobG9jYXRpb24pfWA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmxvY2F0aW9uLFxuICAgICAgcGF0aG5hbWU6IGAke3ByZWZpeH0ke2FkZExlYWRpbmdTbGFzaChsb2NhdGlvbi5wYXRobmFtZSl9YCxcbiAgICB9O1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlUm91dGVQcmVmaXggPSAoXG4gIGxvY2F0aW9uOiBzdHJpbmcgfCBMb2NhdGlvblR5cGUsXG4gIHByZWZpeDogc3RyaW5nXG4pOiBzdHJpbmcgfCBMb2NhdGlvblR5cGUgPT4ge1xuICBpZiAoIXByZWZpeCkgcmV0dXJuIGxvY2F0aW9uO1xuICBjb25zdCBwYXRobmFtZSA9IHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycgPyBsb2NhdGlvbiA6IGxvY2F0aW9uLnBhdGhuYW1lO1xuICBjb25zdCBoYXNQcmVmaXggPSAocGF0aG5hbWUgKyAnLycpLmluZGV4T2YocHJlZml4ICsgJy8nKSA9PT0gMDtcbiAgY29uc3QgdW5wcmVmaXhlZFBhdGhuYW1lID0gcGF0aG5hbWUuc2xpY2UocHJlZml4Lmxlbmd0aCk7XG4gIGNvbnN0IHJlbGF0aXZlUGF0aG5hbWUgPSBoYXNQcmVmaXggPyB1bnByZWZpeGVkUGF0aG5hbWUgOiBwYXRobmFtZTtcblxuICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiByZWxhdGl2ZVBhdGhuYW1lO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5sb2NhdGlvbixcbiAgICAgIHBhdGhuYW1lOiByZWxhdGl2ZVBhdGhuYW1lLFxuICAgIH07XG4gIH1cbn07XG4iXX0=