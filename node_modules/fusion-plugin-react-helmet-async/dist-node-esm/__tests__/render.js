/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

/* eslint-disable react/no-unescaped-entities */
import App from 'fusion-react';
import fs from 'fs';
import path from 'path';
import React from 'react';
import { getSimulator } from 'fusion-test-utils';
import { Helmet } from 'react-helmet-async';
import HelmetPlugin from '../index';
import { jsx as _jsx } from "react/jsx-runtime";
import { jsxs as _jsxs } from "react/jsx-runtime";
const name = true ? 'Server' : 'Client';
test(`${name} side render`, async () => {
  const TestA = () => {
    return /*#__PURE__*/_jsx("div", {
      children: /*#__PURE__*/_jsxs(Helmet, {
        defaultTitle: "My Default Title",
        children: [/*#__PURE__*/_jsx("html", {
          lang: "en",
          amp: true
        }), /*#__PURE__*/_jsx("body", {
          className: "root"
        }), /*#__PURE__*/_jsxs("title", {
          itemProp: "name",
          lang: "en",
          children: ["My Title's ", '</title>']
        }), /*#__PURE__*/_jsx("base", {
          target: "_blank",
          href: "http://mysite.com/"
        }), /*#__PURE__*/_jsx("meta", {
          name: "description",
          content: "Helmet application"
        }), /*#__PURE__*/_jsx("meta", {
          property: "og:type",
          content: "article"
        }), /*#__PURE__*/_jsx("link", {
          rel: "canonical",
          href: "http://mysite.com/example"
        }), /*#__PURE__*/_jsx("link", {
          rel: "apple-touch-icon",
          href: "http://mysite.com/img/apple-touch-icon-57x57.png"
        }), /*#__PURE__*/_jsx("script", {
          src: "http://include.com/pathtojs.js",
          type: "text/javascript"
        }), /*#__PURE__*/_jsx("script", {
          type: "application/ld+json",
          children: `
        {
            "@context": "http://schema.org"
        }
    `
        }), /*#__PURE__*/_jsx("noscript", {
          children: `
        <link rel="stylesheet" type="text/css" href="foo.css" />
    `
        }), /*#__PURE__*/_jsx("style", {
          type: "text/css",
          children: `
        body {
            background-color: blue;
        }

        p {
            font-size: 12px;
        }
    `
        })]
      })
    });
  };
  const Root = /*#__PURE__*/_jsx("div", {
    children: /*#__PURE__*/_jsx(TestA, {})
  });
  let app;
  let root;
  if (false) {
    root = document.createElement('div');
    root.setAttribute('id', 'root2');
    if (document.body) {
      document.body.appendChild(root);
    }
    app = new App(Root, el => render(el, root));
  } else {
    app = new App(Root);
  }
  app.register(HelmetPlugin);
  app.middleware((ctx, next) => {
    ctx.nonce = 'test-nonce';
    return next();
  });
  const sim = getSimulator(app);
  const ctx = await sim.render('/');
  if (true) {
    const fixtureFile = path.resolve(__dirname + '/../__fixtures__/ssr1.html');
    // Uncomment to regenerate fixture
    // fs.writeFileSync(fixtureFile, ctx.body);
    expect(ctx.body).toBe(fs.readFileSync(fixtureFile).toString());
  } else if (false) {
    // need to wait until next tick for dom changes
    await new Promise(resolve => setTimeout(resolve, 100));
    expect(document.title).toBe("My Title's </title>");
    const baseEl = document.querySelector('base');
    if (!baseEl) {
      throw new Error('Could not find base element');
    }
    expect(baseEl.getAttribute('href')).toBe('http://mysite.com/');
    const metaDescription = document.querySelector('meta[name="description"]');
    if (!metaDescription) {
      throw new Error('Could not find meta description');
    }
    expect(metaDescription.getAttribute('content')).toBe('Helmet application');
    if (document.body && root instanceof HTMLElement) {
      document.body.removeChild(root);
    }
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcHAiLCJmcyIsInBhdGgiLCJSZWFjdCIsImdldFNpbXVsYXRvciIsIkhlbG1ldCIsIkhlbG1ldFBsdWdpbiIsIm5hbWUiLCJ0ZXN0IiwiVGVzdEEiLCJSb290IiwiYXBwIiwicm9vdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImVsIiwicmVuZGVyIiwicmVnaXN0ZXIiLCJtaWRkbGV3YXJlIiwiY3R4IiwibmV4dCIsIm5vbmNlIiwic2ltIiwiZml4dHVyZUZpbGUiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwiZXhwZWN0IiwidG9CZSIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwiUHJvbWlzZSIsInNldFRpbWVvdXQiLCJ0aXRsZSIsImJhc2VFbCIsInF1ZXJ5U2VsZWN0b3IiLCJFcnJvciIsImdldEF0dHJpYnV0ZSIsIm1ldGFEZXNjcmlwdGlvbiIsIkhUTUxFbGVtZW50IiwicmVtb3ZlQ2hpbGQiXSwic291cmNlcyI6WyJzcmMvX190ZXN0c19fL3JlbmRlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIENvcHlyaWdodCAoYykgMjAxOCBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby11bmVzY2FwZWQtZW50aXRpZXMgKi9cbmltcG9ydCBBcHAgZnJvbSAnZnVzaW9uLXJlYWN0JztcbmltcG9ydCB7cmVuZGVyfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7Z2V0U2ltdWxhdG9yfSBmcm9tICdmdXNpb24tdGVzdC11dGlscyc7XG5pbXBvcnQge0hlbG1ldH0gZnJvbSAncmVhY3QtaGVsbWV0LWFzeW5jJztcbmltcG9ydCBIZWxtZXRQbHVnaW4gZnJvbSAnLi4vaW5kZXgnO1xuXG5jb25zdCBuYW1lID0gX19OT0RFX18gPyAnU2VydmVyJyA6ICdDbGllbnQnO1xudGVzdChgJHtuYW1lfSBzaWRlIHJlbmRlcmAsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgVGVzdEEgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxIZWxtZXQgZGVmYXVsdFRpdGxlPVwiTXkgRGVmYXVsdCBUaXRsZVwiPlxuICAgICAgICAgIHsvKiBAdHMtaWdub3JlICovfVxuICAgICAgICAgIDxodG1sIGxhbmc9XCJlblwiIGFtcCAvPlxuICAgICAgICAgIDxib2R5IGNsYXNzTmFtZT1cInJvb3RcIiAvPlxuICAgICAgICAgIDx0aXRsZSBpdGVtUHJvcD1cIm5hbWVcIiBsYW5nPVwiZW5cIj5cbiAgICAgICAgICAgIE15IFRpdGxlJ3Mgeyc8L3RpdGxlPid9XG4gICAgICAgICAgPC90aXRsZT5cbiAgICAgICAgICA8YmFzZSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cDovL215c2l0ZS5jb20vXCIgLz5cbiAgICAgICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwiSGVsbWV0IGFwcGxpY2F0aW9uXCIgLz5cbiAgICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cIm9nOnR5cGVcIiBjb250ZW50PVwiYXJ0aWNsZVwiIC8+XG4gICAgICAgICAgPGxpbmsgcmVsPVwiY2Fub25pY2FsXCIgaHJlZj1cImh0dHA6Ly9teXNpdGUuY29tL2V4YW1wbGVcIiAvPlxuICAgICAgICAgIDxsaW5rXG4gICAgICAgICAgICByZWw9XCJhcHBsZS10b3VjaC1pY29uXCJcbiAgICAgICAgICAgIGhyZWY9XCJodHRwOi8vbXlzaXRlLmNvbS9pbWcvYXBwbGUtdG91Y2gtaWNvbi01N3g1Ny5wbmdcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPHNjcmlwdCBzcmM9XCJodHRwOi8vaW5jbHVkZS5jb20vcGF0aHRvanMuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgLz5cbiAgICAgICAgICA8c2NyaXB0IHR5cGU9XCJhcHBsaWNhdGlvbi9sZCtqc29uXCI+e2BcbiAgICAgICAge1xuICAgICAgICAgICAgXCJAY29udGV4dFwiOiBcImh0dHA6Ly9zY2hlbWEub3JnXCJcbiAgICAgICAgfVxuICAgIGB9PC9zY3JpcHQ+XG4gICAgICAgICAgPG5vc2NyaXB0PntgXG4gICAgICAgIDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiZm9vLmNzc1wiIC8+XG4gICAgYH08L25vc2NyaXB0PlxuXG4gICAgICAgICAgPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPntgXG4gICAgICAgIGJvZHkge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHAge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG4gICAgYH08L3N0eWxlPlxuICAgICAgICA8L0hlbG1ldD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgUm9vdCA9IChcbiAgICA8ZGl2PlxuICAgICAgPFRlc3RBIC8+XG4gICAgPC9kaXY+XG4gICk7XG5cbiAgbGV0IGFwcDtcbiAgbGV0IHJvb3Q7XG4gIGlmIChfX0JST1dTRVJfXykge1xuICAgIHJvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb290LnNldEF0dHJpYnV0ZSgnaWQnLCAncm9vdDInKTtcbiAgICBpZiAoZG9jdW1lbnQuYm9keSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyb290KTtcbiAgICB9XG4gICAgYXBwID0gbmV3IEFwcChSb290LCAoZWwpID0+IHJlbmRlcihlbCwgcm9vdCkpO1xuICB9IGVsc2Uge1xuICAgIGFwcCA9IG5ldyBBcHAoUm9vdCk7XG4gIH1cbiAgYXBwLnJlZ2lzdGVyKEhlbG1ldFBsdWdpbik7XG4gIGFwcC5taWRkbGV3YXJlKChjdHgsIG5leHQpID0+IHtcbiAgICBjdHgubm9uY2UgPSAndGVzdC1ub25jZSc7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfSk7XG4gIGNvbnN0IHNpbSA9IGdldFNpbXVsYXRvcihhcHApO1xuICBjb25zdCBjdHggPSBhd2FpdCBzaW0ucmVuZGVyKCcvJyk7XG5cbiAgaWYgKF9fTk9ERV9fKSB7XG4gICAgY29uc3QgZml4dHVyZUZpbGUgPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lICsgJy8uLi9fX2ZpeHR1cmVzX18vc3NyMS5odG1sJyk7XG4gICAgLy8gVW5jb21tZW50IHRvIHJlZ2VuZXJhdGUgZml4dHVyZVxuICAgIC8vIGZzLndyaXRlRmlsZVN5bmMoZml4dHVyZUZpbGUsIGN0eC5ib2R5KTtcbiAgICBleHBlY3QoY3R4LmJvZHkpLnRvQmUoZnMucmVhZEZpbGVTeW5jKGZpeHR1cmVGaWxlKS50b1N0cmluZygpKTtcbiAgfSBlbHNlIGlmIChfX0JST1dTRVJfXykge1xuICAgIC8vIG5lZWQgdG8gd2FpdCB1bnRpbCBuZXh0IHRpY2sgZm9yIGRvbSBjaGFuZ2VzXG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG4gICAgZXhwZWN0KGRvY3VtZW50LnRpdGxlKS50b0JlKFwiTXkgVGl0bGUncyA8L3RpdGxlPlwiKTtcbiAgICBjb25zdCBiYXNlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJyk7XG4gICAgaWYgKCFiYXNlRWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgYmFzZSBlbGVtZW50Jyk7XG4gICAgfVxuICAgIGV4cGVjdChiYXNlRWwuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJ2h0dHA6Ly9teXNpdGUuY29tLycpO1xuICAgIGNvbnN0IG1ldGFEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImRlc2NyaXB0aW9uXCJdJyk7XG4gICAgaWYgKCFtZXRhRGVzY3JpcHRpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgbWV0YSBkZXNjcmlwdGlvbicpO1xuICAgIH1cbiAgICBleHBlY3QobWV0YURlc2NyaXB0aW9uLmdldEF0dHJpYnV0ZSgnY29udGVudCcpKS50b0JlKCdIZWxtZXQgYXBwbGljYXRpb24nKTtcbiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiByb290IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocm9vdCk7XG4gICAgfVxuICB9XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBT0EsR0FBRyxNQUFNLGNBQWM7QUFFOUIsT0FBT0MsRUFBRSxNQUFNLElBQUk7QUFDbkIsT0FBT0MsSUFBSSxNQUFNLE1BQU07QUFDdkIsT0FBT0MsS0FBSyxNQUFNLE9BQU87QUFDekIsU0FBUUMsWUFBWSxRQUFPLG1CQUFtQjtBQUM5QyxTQUFRQyxNQUFNLFFBQU8sb0JBQW9CO0FBQ3pDLE9BQU9DLFlBQVksTUFBTSxVQUFVO0FBQUM7QUFBQTtBQUVwQyxNQUFNQyxJQUFJLEdBQUcsT0FBVyxRQUFRLEdBQUcsUUFBUTtBQUMzQ0MsSUFBSSxDQUFFLEdBQUVELElBQUssY0FBYSxFQUFFLFlBQVk7RUFDdEMsTUFBTUUsS0FBSyxHQUFHLE1BQU07SUFDbEIsb0JBQ0U7TUFBQSx1QkFDRSxNQUFDLE1BQU07UUFBQyxZQUFZLEVBQUMsa0JBQWtCO1FBQUEsd0JBRXJDO1VBQU0sSUFBSSxFQUFDLElBQUk7VUFBQyxHQUFHO1FBQUEsRUFBRyxlQUN0QjtVQUFN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