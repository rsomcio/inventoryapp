"use strict";

var _clientApp = _interopRequireDefault(require("../client-app"));
var _createPlugin = require("../create-plugin");
var _createToken = require("../create-token");
var _testHelper = require("./test-helper");
var _tokens = require("../tokens");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const App = true ? (0, _clientApp.default)() : ServerAppFactory();
test('enhancement', done => {
  const app = new App('el', el => el);
  const FnToken = (0, _createToken.createToken)('FnType');
  const BaseFn = (0, _createPlugin.createPlugin)({
    provides: () => {
      return arg => arg;
    }
  });
  const BaseFnEnhancer = fn => {
    return arg => {
      return fn(arg) + ' enhanced';
    };
  };
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  app.middleware({
    fn: FnToken
  }, ({
    fn
  }) => {
    expect(fn('hello')).toBe('hello enhanced');
    done();
    return (ctx, next) => next();
  });
  app.resolve();
});
test('enhancement with a plugin', done => {
  const app = new App('el', el => el);
  const FnToken = (0, _createToken.createToken)('FnType');
  const BaseFn = (0, _createPlugin.createPlugin)({
    provides: () => {
      return arg => arg;
    }
  });
  const BaseFnEnhancer = fn => {
    return (0, _createPlugin.createPlugin)({
      provides: () => {
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  app.middleware({
    fn: FnToken
  }, ({
    fn
  }) => {
    expect(fn('hello')).toBe('hello enhanced');
    done();
    return (ctx, next) => next();
  });
  app.resolve();
});
test('enhancement with a plugin allows orphan plugins', () => {
  const app = new App('el', el => el);
  const FnToken = (0, _createToken.createToken)('FnType');
  const BaseFn = a => a;
  const BaseFnEnhancer = fn => {
    return (0, _createPlugin.createPlugin)({
      provides: () => {
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).not.toThrow();
});
test('enhancement with a plugin with deps', done => {
  const app = new App('el', el => el);
  const DepAToken = (0, _createToken.createToken)('DepA');
  const DepBToken = (0, _createToken.createToken)('DepB');
  const DepCToken = (0, _createToken.createToken)('DepC');
  const DepA = 'test-dep-a';
  const DepB = (0, _createPlugin.createPlugin)({
    deps: {
      a: DepAToken
    },
    provides: ({
      a
    }) => {
      expect(a).toBe(DepA);
      return 'test-dep-b';
    }
  });
  const FnToken = (0, _createToken.createToken)('FnType');
  const BaseFn = (0, _createPlugin.createPlugin)({
    provides: () => {
      return arg => arg;
    }
  });
  const BaseFnEnhancer = fn => {
    return (0, _createPlugin.createPlugin)({
      deps: {
        a: DepAToken,
        b: DepBToken,
        c: DepCToken
      },
      provides: ({
        a,
        b,
        c
      }) => {
        expect(a).toBe('test-dep-a');
        expect(b).toBe('test-dep-b');
        expect(c).toBe('test-dep-c');
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.register(DepAToken, DepA);
  app.register(DepBToken, DepB);
  app.register(DepCToken, 'test-dep-c');
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  app.middleware({
    fn: FnToken
  }, ({
    fn
  }) => {
    expect(fn('hello')).toBe('hello enhanced');
    done();
    return (ctx, next) => next();
  });
  app.resolve();
});

// TODO(#573) This is a regression test which hasn't been fixed yet
test.skip('Plugin enhancer on unregistered token with no dependencies', t => {
  let app = new App('el', el => el);
  const FnToken = (0, _createToken.createToken)('FnType');
  let BaseFnEnhancer = fn => {
    return (0, _createPlugin.createPlugin)({
      provides: () => {
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).toThrow();
});

// TODO(#573) This is a regression test which hasn't been fixed yet
test.skip('Plugin enhancer on unregistered token with optional dependency', t => {
  let app = new App('el', el => el);
  const FnToken = (0, _createToken.createToken)('FnType');
  let BaseFnEnhancer = fn => {
    return (0, _createPlugin.createPlugin)({
      provides: () => {
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.register((0, _createPlugin.createPlugin)({
    deps: {
      fn: FnToken.optional
    }
  }));
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).toThrow();
});

// TODO(#573) This is a regression test which hasn't been fixed yet
test.skip('regular enhancer on unregistered token with no dependencies', t => {
  let app = new App('el', el => el);
  const FnToken = (0, _createToken.createToken)('FnType');
  let BaseFnEnhancer = fn => {
    return fn;
  };
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).toThrow();
});

// Orphan enhancer should not throw
// See https://github.com/fusionjs/fusionjs/issues/573
test('regular enhancer on unregistered token with optional dependencies', () => {
  let app = new App('el', el => el);
  const FnToken = (0, _createToken.createToken)('FnType');
  let BaseFnEnhancer = fn => {
    return fn;
  };
  app.register((0, _createPlugin.createPlugin)({
    deps: {
      fn: FnToken.optional
    }
  }));
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).not.toThrow();
});
test('enhancement with a plugin with missing deps', () => {
  const app = new App('el', el => el);
  const DepAToken = (0, _createToken.createToken)('DepA');
  const DepBToken = (0, _createToken.createToken)('DepB');
  const DepB = 'test-dep-b';
  const FnToken = (0, _createToken.createToken)('FnType');
  const BaseFn = (0, _createPlugin.createPlugin)({
    provides: () => {
      return arg => arg;
    }
  });
  const provides = jest.fn();
  const BaseFnEnhancer = fn => {
    return (0, _createPlugin.createPlugin)({
      deps: {
        a: DepAToken,
        b: DepBToken
      },
      provides
    });
  };
  app.register(DepBToken, DepB);
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  app.middleware({
    fn: FnToken
  }, ({
    fn
  }) => {
    expect(fn('hello')).toBe('hello enhanced');
    return (ctx, next) => next();
  });
  expect(() => app.resolve()).toThrow(/Missing registration for token DepA. This is a dependency of plugin registered @/);
  expect(provides).not.toHaveBeenCalled();
});
test('Chained enhancers', () => {
  let app = new App('el', el => el);
  const StrToken = (0, _createToken.createToken)('StrToken');
  const FnToken = (0, _createToken.createToken)('FnToken');
  app.register(FnToken, (0, _createPlugin.createPlugin)({
    deps: {
      str: StrToken
    },
    provides: ({
      str
    }) => {
      expect(str).toBe('foobarbaz');
    }
  }));
  app.register(StrToken, 'foo');
  app.enhance(StrToken, str => {
    return str + 'bar';
  });
  app.enhance(StrToken, str => {
    return str + 'baz';
  });
  app.resolve();
});
test('Enhancer middleware hoisted up to position of original registration', async () => {
  const Token = (0, _createToken.createToken)('Token');
  const SomeDep = (0, _createToken.createToken)('SomeDep');
  let app = new App('el', el => el);
  let executions = [];
  app.register(Token, (0, _createPlugin.createPlugin)({
    deps: {
      dep: SomeDep
    },
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(2);
      return next();
    }
  }));
  // Dep middleware of original should be executed before enhanced middlewares
  app.register(SomeDep, (0, _createPlugin.createPlugin)({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(1);
      return next();
    }
  }));
  app.middleware((ctx, next) => {
    executions.push(4);
    return next();
  });
  // Despite being registered last, this enhancer middleware
  // should be sorted before the above middleware
  app.enhance(Token, () => (0, _createPlugin.createPlugin)({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(3);
      return next();
    }
  }));
  await (0, _testHelper.run)(app);
  expect(executions).toStrictEqual([1, 2, 3, 4]);
});
test('Chained enhancer middleware hoisted up to position of original registration', async () => {
  const Token = (0, _createToken.createToken)('Token');
  const SomeDep = (0, _createToken.createToken)('SomeDep');
  let app = new App('el', el => el);
  let executions = [];
  app.middleware((ctx, next) => {
    executions.push(0);
    return next();
  });
  app.register(Token, (0, _createPlugin.createPlugin)({
    deps: {
      dep: SomeDep
    },
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(2);
      return next();
    }
  }));
  // Dep middleware of original should be executed before enhanced middlewares
  app.register(SomeDep, (0, _createPlugin.createPlugin)({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(1);
      return next();
    }
  }));
  app.middleware((ctx, next) => {
    executions.push(6);
    return next();
  });
  // Despite being registered later, these middleware should be hoisted up to
  // position of original token registration
  app.enhance(Token, () => (0, _createPlugin.createPlugin)({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(3);
      return next();
    }
  }));
  app.enhance(Token, () => (0, _createPlugin.createPlugin)({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(4);
      return next();
    }
  }));
  app.enhance(Token, () => (0, _createPlugin.createPlugin)({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(5);
      return next();
    }
  }));
  await (0, _testHelper.run)(app);
  expect(executions).toStrictEqual([0, 1, 2, 3, 4, 5, 6]);
});
test('Simple RenderToken enhancer middleware order', async () => {
  let app = new App('el', el => el);
  let executions = [];
  app.middleware((ctx, next) => {
    executions.push(0);
    return next();
  });
  app.enhance(_tokens.RenderToken, render => (0, _createPlugin.createPlugin)({
    provides: () => render,
    middleware: () => (ctx, next) => {
      executions.push(2);
      return next();
    }
  }));
  app.middleware((ctx, next) => {
    executions.push(1);
    return next();
  });
  await (0, _testHelper.run)(app);
  expect(executions).toStrictEqual([0, 1, 2]);
});
test('Complex RenderToken enhancer order', async () => {
  const SomeDep = (0, _createToken.createToken)('SomeDep');
  const OtherDep = (0, _createToken.createToken)('OtherDep');
  const AnotherDep = (0, _createToken.createToken)('AnotherDep');
  let executions = [];
  const render = (0, _createPlugin.createPlugin)({
    deps: {
      other: AnotherDep
    },
    provides: () => el => {
      executions.push('render_fn');
      return el;
    },
    middleware: () => (ctx, next) => {
      executions.push('render_middleware');
      return next();
    }
  });
  let app = new App('el', render);
  app.middleware((ctx, next) => {
    executions.push('before_middleware');
    return next();
  });
  // Dep middleware of original should be executed before enhanced middlewares
  app.register(SomeDep, (0, _createPlugin.createPlugin)({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push('somedep');
      return next();
    }
  }));
  app.middleware((ctx, next) => {
    executions.push('after_middleware');
    return next();
  });
  app.enhance(_tokens.RenderToken, render => (0, _createPlugin.createPlugin)({
    provides: () => render,
    middleware: () => (ctx, next) => {
      executions.push('render_enhancer1');
      return next();
    }
  }));
  app.enhance(_tokens.RenderToken, render => (0, _createPlugin.createPlugin)({
    deps: {
      other: OtherDep
    },
    provides: () => render,
    middleware: () => (ctx, next) => {
      executions.push('render_enhancer2');
      return next();
    }
  }));
  app.register(AnotherDep, 'AnotherDep');
  app.enhance(_tokens.RenderToken, render => (0, _createPlugin.createPlugin)({
    provides: () => render,
    middleware: () => (ctx, next) => {
      executions.push('render_enhancer3');
      return next();
    }
  }));
  app.register(OtherDep, (0, _createPlugin.createPlugin)({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push('otherdep');
      return next();
    }
  }));
  await (0, _testHelper.run)(app);
  expect(executions).toStrictEqual(['before_middleware', 'somedep', 'after_middleware', 'otherdep', 'render_middleware', 'render_enhancer1', 'render_enhancer2', 'render_enhancer3', 'render_fn']);
});
test('orphan enhancers noop', () => {
  const app = new App('el', el => el);
  const OrphanToken1 = (0, _createToken.createToken)('Orphan1');
  const OrphanToken2 = (0, _createToken.createToken)('Orphan2');
  const OrphanToken3 = (0, _createToken.createToken)('Orphan3');
  app.enhance(OrphanToken1, () => {
    (0, _createPlugin.createPlugin)({
      provides: () => {
        throw new Error('Should not be called');
      },
      middleware: () => (ctx, next) => next()
    });
  });
  app.enhance(OrphanToken2, () => {
    throw new Error('Should not be called');
  });
  app.enhance(OrphanToken3, () => {
    throw new Error('Should not be called');
  });
  app.enhance(OrphanToken3, () => {
    throw new Error('Should not be called');
  });
  expect(() => {
    app.resolve();
  }).not.toThrow();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcHAiLCJDbGllbnRBcHBGYWN0b3J5IiwiU2VydmVyQXBwRmFjdG9yeSIsInRlc3QiLCJkb25lIiwiYXBwIiwiZWwiLCJGblRva2VuIiwiY3JlYXRlVG9rZW4iLCJCYXNlRm4iLCJjcmVhdGVQbHVnaW4iLCJwcm92aWRlcyIsImFyZyIsIkJhc2VGbkVuaGFuY2VyIiwiZm4iLCJyZWdpc3RlciIsImVuaGFuY2UiLCJtaWRkbGV3YXJlIiwiZXhwZWN0IiwidG9CZSIsImN0eCIsIm5leHQiLCJyZXNvbHZlIiwiYSIsIm5vdCIsInRvVGhyb3ciLCJEZXBBVG9rZW4iLCJEZXBCVG9rZW4iLCJEZXBDVG9rZW4iLCJEZXBBIiwiRGVwQiIsImRlcHMiLCJiIiwiYyIsInNraXAiLCJ0Iiwib3B0aW9uYWwiLCJqZXN0IiwidG9IYXZlQmVlbkNhbGxlZCIsIlN0clRva2VuIiwic3RyIiwiVG9rZW4iLCJTb21lRGVwIiwiZXhlY3V0aW9ucyIsImRlcCIsInB1c2giLCJydW4iLCJ0b1N0cmljdEVxdWFsIiwiUmVuZGVyVG9rZW4iLCJyZW5kZXIiLCJPdGhlckRlcCIsIkFub3RoZXJEZXAiLCJvdGhlciIsIk9ycGhhblRva2VuMSIsIk9ycGhhblRva2VuMiIsIk9ycGhhblRva2VuMyIsIkVycm9yIl0sInNvdXJjZXMiOlsic3JjL19fdGVzdHNfXy9lbmhhbmNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDbGllbnRBcHBGYWN0b3J5IGZyb20gJy4uL2NsaWVudC1hcHAnO1xuaW1wb3J0IFNlcnZlckFwcEZhY3RvcnkgZnJvbSAnLi4vc2VydmVyLWFwcCc7XG5pbXBvcnQge2NyZWF0ZVBsdWdpbn0gZnJvbSAnLi4vY3JlYXRlLXBsdWdpbic7XG5pbXBvcnQge2NyZWF0ZVRva2VufSBmcm9tICcuLi9jcmVhdGUtdG9rZW4nO1xuaW1wb3J0IHtydW59IGZyb20gJy4vdGVzdC1oZWxwZXInO1xuaW1wb3J0IHtSZW5kZXJUb2tlbn0gZnJvbSAnLi4vdG9rZW5zJztcbmltcG9ydCB0eXBlIHtGdXNpb25QbHVnaW4sIFRva2VufSBmcm9tICcuLi90eXBlcyc7XG5cbmNvbnN0IEFwcCA9IF9fQlJPV1NFUl9fID8gQ2xpZW50QXBwRmFjdG9yeSgpIDogU2VydmVyQXBwRmFjdG9yeSgpO1xuXG50ZXN0KCdlbmhhbmNlbWVudCcsIChkb25lKSA9PiB7XG4gIGNvbnN0IGFwcCA9IG5ldyBBcHAoJ2VsJywgKGVsKSA9PiBlbCk7XG5cbiAgdHlwZSBGblR5cGUgPSAoYTogc3RyaW5nKSA9PiBzdHJpbmc7XG4gIGNvbnN0IEZuVG9rZW46IFRva2VuPEZuVHlwZT4gPSBjcmVhdGVUb2tlbignRm5UeXBlJyk7XG4gIGNvbnN0IEJhc2VGbjogRnVzaW9uUGx1Z2luPHVuZGVmaW5lZCwgRm5UeXBlPiA9IGNyZWF0ZVBsdWdpbih7XG4gICAgcHJvdmlkZXM6ICgpID0+IHtcbiAgICAgIHJldHVybiAoYXJnKSA9PiBhcmc7XG4gICAgfSxcbiAgfSk7XG4gIGNvbnN0IEJhc2VGbkVuaGFuY2VyID0gKGZuOiBGblR5cGUpOiBGblR5cGUgPT4ge1xuICAgIHJldHVybiAoYXJnKSA9PiB7XG4gICAgICByZXR1cm4gZm4oYXJnKSArICcgZW5oYW5jZWQnO1xuICAgIH07XG4gIH07XG4gIGFwcC5yZWdpc3RlcihGblRva2VuLCBCYXNlRm4pO1xuICBhcHAuZW5oYW5jZShGblRva2VuLCBCYXNlRm5FbmhhbmNlcik7XG4gIGFwcC5taWRkbGV3YXJlKHtmbjogRm5Ub2tlbn0sICh7Zm59KSA9PiB7XG4gICAgZXhwZWN0KGZuKCdoZWxsbycpKS50b0JlKCdoZWxsbyBlbmhhbmNlZCcpO1xuICAgIGRvbmUoKTtcbiAgICByZXR1cm4gKGN0eCwgbmV4dCkgPT4gbmV4dCgpO1xuICB9KTtcbiAgYXBwLnJlc29sdmUoKTtcbn0pO1xuXG50ZXN0KCdlbmhhbmNlbWVudCB3aXRoIGEgcGx1Z2luJywgKGRvbmUpID0+IHtcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcblxuICB0eXBlIEZuVHlwZSA9IChhOiBzdHJpbmcpID0+IHN0cmluZztcbiAgY29uc3QgRm5Ub2tlbjogVG9rZW48Rm5UeXBlPiA9IGNyZWF0ZVRva2VuKCdGblR5cGUnKTtcbiAgY29uc3QgQmFzZUZuOiBGdXNpb25QbHVnaW48dW5kZWZpbmVkLCBGblR5cGU+ID0gY3JlYXRlUGx1Z2luKHtcbiAgICBwcm92aWRlczogKCkgPT4ge1xuICAgICAgcmV0dXJuIChhcmcpID0+IGFyZztcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgQmFzZUZuRW5oYW5jZXIgPSAoZm46IEZuVHlwZSk6IEZ1c2lvblBsdWdpbjx1bmRlZmluZWQsIEZuVHlwZT4gPT4ge1xuICAgIHJldHVybiBjcmVhdGVQbHVnaW4oe1xuICAgICAgcHJvdmlkZXM6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIChhcmcpID0+IHtcbiAgICAgICAgICByZXR1cm4gZm4oYXJnKSArICcgZW5oYW5jZWQnO1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcbiAgYXBwLnJlZ2lzdGVyKEZuVG9rZW4sIEJhc2VGbik7XG4gIGFwcC5lbmhhbmNlKEZuVG9rZW4sIEJhc2VGbkVuaGFuY2VyKTtcbiAgYXBwLm1pZGRsZXdhcmUoe2ZuOiBGblRva2VufSwgKHtmbn0pID0+IHtcbiAgICBleHBlY3QoZm4oJ2hlbGxvJykpLnRvQmUoJ2hlbGxvIGVuaGFuY2VkJyk7XG4gICAgZG9uZSgpO1xuICAgIHJldHVybiAoY3R4LCBuZXh0KSA9PiBuZXh0KCk7XG4gIH0pO1xuICBhcHAucmVzb2x2ZSgpO1xufSk7XG5cbnRlc3QoJ2VuaGFuY2VtZW50IHdpdGggYSBwbHVnaW4gYWxsb3dzIG9ycGhhbiBwbHVnaW5zJywgKCkgPT4ge1xuICBjb25zdCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuXG4gIHR5cGUgRm5UeXBlID0gKGE6IHN0cmluZykgPT4gc3RyaW5nO1xuICBjb25zdCBGblRva2VuOiBUb2tlbjxGblR5cGU+ID0gY3JlYXRlVG9rZW4oJ0ZuVHlwZScpO1xuICBjb25zdCBCYXNlRm46IEZuVHlwZSA9IChhKSA9PiBhO1xuICBjb25zdCBCYXNlRm5FbmhhbmNlciA9IChmbjogRm5UeXBlKTogRnVzaW9uUGx1Z2luPHVuZGVmaW5lZCwgRm5UeXBlPiA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4ge1xuICAgICAgICByZXR1cm4gKGFyZykgPT4ge1xuICAgICAgICAgIHJldHVybiBmbihhcmcpICsgJyBlbmhhbmNlZCc7XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuICBhcHAucmVnaXN0ZXIoRm5Ub2tlbiwgQmFzZUZuKTtcbiAgYXBwLmVuaGFuY2UoRm5Ub2tlbiwgQmFzZUZuRW5oYW5jZXIpO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFwcC5yZXNvbHZlKCk7XG4gIH0pLm5vdC50b1Rocm93KCk7XG59KTtcblxudGVzdCgnZW5oYW5jZW1lbnQgd2l0aCBhIHBsdWdpbiB3aXRoIGRlcHMnLCAoZG9uZSkgPT4ge1xuICBjb25zdCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuXG4gIGNvbnN0IERlcEFUb2tlbjogVG9rZW48c3RyaW5nPiA9IGNyZWF0ZVRva2VuKCdEZXBBJyk7XG4gIGNvbnN0IERlcEJUb2tlbjogVG9rZW48c3RyaW5nPiA9IGNyZWF0ZVRva2VuKCdEZXBCJyk7XG4gIGNvbnN0IERlcENUb2tlbjogVG9rZW48c3RyaW5nPiA9IGNyZWF0ZVRva2VuKCdEZXBDJyk7XG5cbiAgY29uc3QgRGVwQSA9ICd0ZXN0LWRlcC1hJztcbiAgY29uc3QgRGVwQjogRnVzaW9uUGx1Z2luPFxuICAgIHtcbiAgICAgIGE6IFRva2VuPHN0cmluZz47XG4gICAgfSxcbiAgICBzdHJpbmdcbiAgPiA9IGNyZWF0ZVBsdWdpbih7XG4gICAgZGVwczoge1xuICAgICAgYTogRGVwQVRva2VuLFxuICAgIH0sXG4gICAgcHJvdmlkZXM6ICh7YX0pID0+IHtcbiAgICAgIGV4cGVjdChhKS50b0JlKERlcEEpO1xuICAgICAgcmV0dXJuICd0ZXN0LWRlcC1iJztcbiAgICB9LFxuICB9KTtcblxuICB0eXBlIEZuVHlwZSA9IChhOiBzdHJpbmcpID0+IHN0cmluZztcbiAgY29uc3QgRm5Ub2tlbjogVG9rZW48Rm5UeXBlPiA9IGNyZWF0ZVRva2VuKCdGblR5cGUnKTtcbiAgY29uc3QgQmFzZUZuOiBGdXNpb25QbHVnaW48dW5kZWZpbmVkLCBGblR5cGU+ID0gY3JlYXRlUGx1Z2luKHtcbiAgICBwcm92aWRlczogKCkgPT4ge1xuICAgICAgcmV0dXJuIChhcmcpID0+IGFyZztcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgQmFzZUZuRW5oYW5jZXIgPSAoXG4gICAgZm46IEZuVHlwZVxuICApOiBGdXNpb25QbHVnaW48XG4gICAge1xuICAgICAgYTogVG9rZW48c3RyaW5nPjtcbiAgICAgIGI6IFRva2VuPHN0cmluZz47XG4gICAgICBjOiBUb2tlbjxzdHJpbmc+O1xuICAgIH0sXG4gICAgRm5UeXBlXG4gID4gPT4ge1xuICAgIHJldHVybiBjcmVhdGVQbHVnaW4oe1xuICAgICAgZGVwczoge1xuICAgICAgICBhOiBEZXBBVG9rZW4sXG4gICAgICAgIGI6IERlcEJUb2tlbixcbiAgICAgICAgYzogRGVwQ1Rva2VuLFxuICAgICAgfSxcbiAgICAgIHByb3ZpZGVzOiAoe2EsIGIsIGN9KSA9PiB7XG4gICAgICAgIGV4cGVjdChhKS50b0JlKCd0ZXN0LWRlcC1hJyk7XG4gICAgICAgIGV4cGVjdChiKS50b0JlKCd0ZXN0LWRlcC1iJyk7XG4gICAgICAgIGV4cGVjdChjKS50b0JlKCd0ZXN0LWRlcC1jJyk7XG4gICAgICAgIHJldHVybiAoYXJnKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZuKGFyZykgKyAnIGVuaGFuY2VkJztcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG4gIGFwcC5yZWdpc3RlcihEZXBBVG9rZW4sIERlcEEpO1xuICBhcHAucmVnaXN0ZXIoRGVwQlRva2VuLCBEZXBCKTtcbiAgYXBwLnJlZ2lzdGVyKERlcENUb2tlbiwgJ3Rlc3QtZGVwLWMnKTtcbiAgYXBwLnJlZ2lzdGVyKEZuVG9rZW4sIEJhc2VGbik7XG4gIGFwcC5lbmhhbmNlKEZuVG9rZW4sIEJhc2VGbkVuaGFuY2VyKTtcbiAgYXBwLm1pZGRsZXdhcmUoe2ZuOiBGblRva2VufSwgKHtmbn0pID0+IHtcbiAgICBleHBlY3QoZm4oJ2hlbGxvJykpLnRvQmUoJ2hlbGxvIGVuaGFuY2VkJyk7XG4gICAgZG9uZSgpO1xuICAgIHJldHVybiAoY3R4LCBuZXh0KSA9PiBuZXh0KCk7XG4gIH0pO1xuICBhcHAucmVzb2x2ZSgpO1xufSk7XG5cbi8vIFRPRE8oIzU3MykgVGhpcyBpcyBhIHJlZ3Jlc3Npb24gdGVzdCB3aGljaCBoYXNuJ3QgYmVlbiBmaXhlZCB5ZXRcbnRlc3Quc2tpcCgnUGx1Z2luIGVuaGFuY2VyIG9uIHVucmVnaXN0ZXJlZCB0b2tlbiB3aXRoIG5vIGRlcGVuZGVuY2llcycsICh0KSA9PiB7XG4gIGxldCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuICB0eXBlIEZuVHlwZSA9IChhOiBzdHJpbmcpID0+IHN0cmluZztcbiAgY29uc3QgRm5Ub2tlbjogVG9rZW48Rm5UeXBlPiA9IGNyZWF0ZVRva2VuKCdGblR5cGUnKTtcbiAgbGV0IEJhc2VGbkVuaGFuY2VyID0gKGZuOiBGblR5cGUpOiBGdXNpb25QbHVnaW48dW5kZWZpbmVkLCBGblR5cGU+ID0+IHtcbiAgICByZXR1cm4gY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoYXJnKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZuKGFyZykgKyAnIGVuaGFuY2VkJztcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG4gIGFwcC5lbmhhbmNlKEZuVG9rZW4sIEJhc2VGbkVuaGFuY2VyKTtcbiAgZXhwZWN0KCgpID0+IHtcbiAgICBhcHAucmVzb2x2ZSgpO1xuICB9KS50b1Rocm93KCk7XG59KTtcblxuLy8gVE9ETygjNTczKSBUaGlzIGlzIGEgcmVncmVzc2lvbiB0ZXN0IHdoaWNoIGhhc24ndCBiZWVuIGZpeGVkIHlldFxudGVzdC5za2lwKCdQbHVnaW4gZW5oYW5jZXIgb24gdW5yZWdpc3RlcmVkIHRva2VuIHdpdGggb3B0aW9uYWwgZGVwZW5kZW5jeScsICh0KSA9PiB7XG4gIGxldCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuICB0eXBlIEZuVHlwZSA9IChhOiBzdHJpbmcpID0+IHN0cmluZztcbiAgY29uc3QgRm5Ub2tlbjogVG9rZW48Rm5UeXBlPiA9IGNyZWF0ZVRva2VuKCdGblR5cGUnKTtcbiAgbGV0IEJhc2VGbkVuaGFuY2VyID0gKGZuOiBGblR5cGUpOiBGdXNpb25QbHVnaW48dW5kZWZpbmVkLCBGblR5cGU+ID0+IHtcbiAgICByZXR1cm4gY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoYXJnKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZuKGFyZykgKyAnIGVuaGFuY2VkJztcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG4gIGFwcC5yZWdpc3RlcihcbiAgICBjcmVhdGVQbHVnaW4oe1xuICAgICAgZGVwczoge1xuICAgICAgICBmbjogRm5Ub2tlbi5vcHRpb25hbCxcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLmVuaGFuY2UoRm5Ub2tlbiwgQmFzZUZuRW5oYW5jZXIpO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFwcC5yZXNvbHZlKCk7XG4gIH0pLnRvVGhyb3coKTtcbn0pO1xuXG4vLyBUT0RPKCM1NzMpIFRoaXMgaXMgYSByZWdyZXNzaW9uIHRlc3Qgd2hpY2ggaGFzbid0IGJlZW4gZml4ZWQgeWV0XG50ZXN0LnNraXAoJ3JlZ3VsYXIgZW5oYW5jZXIgb24gdW5yZWdpc3RlcmVkIHRva2VuIHdpdGggbm8gZGVwZW5kZW5jaWVzJywgKHQpID0+IHtcbiAgbGV0IGFwcCA9IG5ldyBBcHAoJ2VsJywgKGVsKSA9PiBlbCk7XG4gIHR5cGUgRm5UeXBlID0gKGE6IHN0cmluZykgPT4gc3RyaW5nO1xuICBjb25zdCBGblRva2VuOiBUb2tlbjxGblR5cGU+ID0gY3JlYXRlVG9rZW4oJ0ZuVHlwZScpO1xuICBsZXQgQmFzZUZuRW5oYW5jZXIgPSAoZm46IEZuVHlwZSk6IEZuVHlwZSA9PiB7XG4gICAgcmV0dXJuIGZuO1xuICB9O1xuICBhcHAuZW5oYW5jZShGblRva2VuLCBCYXNlRm5FbmhhbmNlcik7XG4gIGV4cGVjdCgoKSA9PiB7XG4gICAgYXBwLnJlc29sdmUoKTtcbiAgfSkudG9UaHJvdygpO1xufSk7XG5cbi8vIE9ycGhhbiBlbmhhbmNlciBzaG91bGQgbm90IHRocm93XG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Z1c2lvbmpzL2Z1c2lvbmpzL2lzc3Vlcy81NzNcbnRlc3QoJ3JlZ3VsYXIgZW5oYW5jZXIgb24gdW5yZWdpc3RlcmVkIHRva2VuIHdpdGggb3B0aW9uYWwgZGVwZW5kZW5jaWVzJywgKCkgPT4ge1xuICBsZXQgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcbiAgdHlwZSBGblR5cGUgPSAoYTogc3RyaW5nKSA9PiBzdHJpbmc7XG4gIGNvbnN0IEZuVG9rZW46IFRva2VuPEZuVHlwZT4gPSBjcmVhdGVUb2tlbignRm5UeXBlJyk7XG4gIGxldCBCYXNlRm5FbmhhbmNlciA9IChmbjogRm5UeXBlKTogRm5UeXBlID0+IHtcbiAgICByZXR1cm4gZm47XG4gIH07XG4gIGFwcC5yZWdpc3RlcihcbiAgICBjcmVhdGVQbHVnaW4oe1xuICAgICAgZGVwczoge1xuICAgICAgICBmbjogRm5Ub2tlbi5vcHRpb25hbCxcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLmVuaGFuY2UoRm5Ub2tlbiwgQmFzZUZuRW5oYW5jZXIpO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFwcC5yZXNvbHZlKCk7XG4gIH0pLm5vdC50b1Rocm93KCk7XG59KTtcblxudGVzdCgnZW5oYW5jZW1lbnQgd2l0aCBhIHBsdWdpbiB3aXRoIG1pc3NpbmcgZGVwcycsICgpID0+IHtcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcblxuICBjb25zdCBEZXBBVG9rZW46IFRva2VuPHN0cmluZz4gPSBjcmVhdGVUb2tlbignRGVwQScpO1xuICBjb25zdCBEZXBCVG9rZW46IFRva2VuPHN0cmluZz4gPSBjcmVhdGVUb2tlbignRGVwQicpO1xuXG4gIGNvbnN0IERlcEIgPSAndGVzdC1kZXAtYic7XG5cbiAgdHlwZSBGblR5cGUgPSAoYTogc3RyaW5nKSA9PiBzdHJpbmc7XG4gIGNvbnN0IEZuVG9rZW46IFRva2VuPEZuVHlwZT4gPSBjcmVhdGVUb2tlbignRm5UeXBlJyk7XG4gIGNvbnN0IEJhc2VGbjogRnVzaW9uUGx1Z2luPHVuZGVmaW5lZCwgRm5UeXBlPiA9IGNyZWF0ZVBsdWdpbih7XG4gICAgcHJvdmlkZXM6ICgpID0+IHtcbiAgICAgIHJldHVybiAoYXJnKSA9PiBhcmc7XG4gICAgfSxcbiAgfSk7XG4gIGNvbnN0IHByb3ZpZGVzID0gamVzdC5mbigpO1xuICBjb25zdCBCYXNlRm5FbmhhbmNlciA9IChcbiAgICBmbjogRm5UeXBlXG4gICk6IEZ1c2lvblBsdWdpbjxcbiAgICB7XG4gICAgICBhOiBUb2tlbjxzdHJpbmc+O1xuICAgICAgYjogVG9rZW48c3RyaW5nPjtcbiAgICB9LFxuICAgIEZuVHlwZVxuICA+ID0+IHtcbiAgICByZXR1cm4gY3JlYXRlUGx1Z2luKHtcbiAgICAgIGRlcHM6IHtcbiAgICAgICAgYTogRGVwQVRva2VuLFxuICAgICAgICBiOiBEZXBCVG9rZW4sXG4gICAgICB9LFxuICAgICAgcHJvdmlkZXMsXG4gICAgfSk7XG4gIH07XG4gIGFwcC5yZWdpc3RlcihEZXBCVG9rZW4sIERlcEIpO1xuICBhcHAucmVnaXN0ZXIoRm5Ub2tlbiwgQmFzZUZuKTtcbiAgYXBwLmVuaGFuY2UoRm5Ub2tlbiwgQmFzZUZuRW5oYW5jZXIpO1xuICBhcHAubWlkZGxld2FyZSh7Zm46IEZuVG9rZW59LCAoe2ZufSkgPT4ge1xuICAgIGV4cGVjdChmbignaGVsbG8nKSkudG9CZSgnaGVsbG8gZW5oYW5jZWQnKTtcbiAgICByZXR1cm4gKGN0eCwgbmV4dCkgPT4gbmV4dCgpO1xuICB9KTtcbiAgZXhwZWN0KCgpID0+IGFwcC5yZXNvbHZlKCkpLnRvVGhyb3coXG4gICAgL01pc3NpbmcgcmVnaXN0cmF0aW9uIGZvciB0b2tlbiBEZXBBLiBUaGlzIGlzIGEgZGVwZW5kZW5jeSBvZiBwbHVnaW4gcmVnaXN0ZXJlZCBAL1xuICApO1xuICBleHBlY3QocHJvdmlkZXMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG59KTtcblxudGVzdCgnQ2hhaW5lZCBlbmhhbmNlcnMnLCAoKSA9PiB7XG4gIGxldCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuICBjb25zdCBTdHJUb2tlbiA9IGNyZWF0ZVRva2VuKCdTdHJUb2tlbicpO1xuICBjb25zdCBGblRva2VuID0gY3JlYXRlVG9rZW4oJ0ZuVG9rZW4nKTtcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIEZuVG9rZW4sXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIGRlcHM6IHtzdHI6IFN0clRva2VufSxcbiAgICAgIHByb3ZpZGVzOiAoe3N0cn0pID0+IHtcbiAgICAgICAgZXhwZWN0KHN0cikudG9CZSgnZm9vYmFyYmF6Jyk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIGFwcC5yZWdpc3RlcihTdHJUb2tlbiwgJ2ZvbycpO1xuICBhcHAuZW5oYW5jZShTdHJUb2tlbiwgKHN0cikgPT4ge1xuICAgIHJldHVybiBzdHIgKyAnYmFyJztcbiAgfSk7XG4gIGFwcC5lbmhhbmNlKFN0clRva2VuLCAoc3RyKSA9PiB7XG4gICAgcmV0dXJuIHN0ciArICdiYXonO1xuICB9KTtcbiAgYXBwLnJlc29sdmUoKTtcbn0pO1xuXG50ZXN0KCdFbmhhbmNlciBtaWRkbGV3YXJlIGhvaXN0ZWQgdXAgdG8gcG9zaXRpb24gb2Ygb3JpZ2luYWwgcmVnaXN0cmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBUb2tlbiA9IGNyZWF0ZVRva2VuKCdUb2tlbicpO1xuICBjb25zdCBTb21lRGVwID0gY3JlYXRlVG9rZW4oJ1NvbWVEZXAnKTtcbiAgbGV0IGFwcCA9IG5ldyBBcHAoJ2VsJywgKGVsKSA9PiBlbCk7XG5cbiAgbGV0IGV4ZWN1dGlvbnMgPSBbXTtcblxuICBhcHAucmVnaXN0ZXIoXG4gICAgVG9rZW4sXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIGRlcHM6IHtkZXA6IFNvbWVEZXB9LFxuICAgICAgcHJvdmlkZXM6ICgpID0+IHt9LFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goMik7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIC8vIERlcCBtaWRkbGV3YXJlIG9mIG9yaWdpbmFsIHNob3VsZCBiZSBleGVjdXRlZCBiZWZvcmUgZW5oYW5jZWQgbWlkZGxld2FyZXNcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIFNvbWVEZXAsXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7fSxcbiAgICAgIG1pZGRsZXdhcmU6ICgpID0+IChjdHgsIG5leHQpID0+IHtcbiAgICAgICAgZXhlY3V0aW9ucy5wdXNoKDEpO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuICBhcHAubWlkZGxld2FyZSgoY3R4LCBuZXh0KSA9PiB7XG4gICAgZXhlY3V0aW9ucy5wdXNoKDQpO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH0pO1xuICAvLyBEZXNwaXRlIGJlaW5nIHJlZ2lzdGVyZWQgbGFzdCwgdGhpcyBlbmhhbmNlciBtaWRkbGV3YXJlXG4gIC8vIHNob3VsZCBiZSBzb3J0ZWQgYmVmb3JlIHRoZSBhYm92ZSBtaWRkbGV3YXJlXG4gIGFwcC5lbmhhbmNlKFRva2VuLCAoKSA9PlxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4ge30sXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiB7XG4gICAgICAgIGV4ZWN1dGlvbnMucHVzaCgzKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXdhaXQgcnVuKGFwcCk7XG4gIGV4cGVjdChleGVjdXRpb25zKS50b1N0cmljdEVxdWFsKFsxLCAyLCAzLCA0XSk7XG59KTtcblxudGVzdCgnQ2hhaW5lZCBlbmhhbmNlciBtaWRkbGV3YXJlIGhvaXN0ZWQgdXAgdG8gcG9zaXRpb24gb2Ygb3JpZ2luYWwgcmVnaXN0cmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBUb2tlbiA9IGNyZWF0ZVRva2VuKCdUb2tlbicpO1xuICBjb25zdCBTb21lRGVwID0gY3JlYXRlVG9rZW4oJ1NvbWVEZXAnKTtcbiAgbGV0IGFwcCA9IG5ldyBBcHAoJ2VsJywgKGVsKSA9PiBlbCk7XG5cbiAgbGV0IGV4ZWN1dGlvbnMgPSBbXTtcblxuICBhcHAubWlkZGxld2FyZSgoY3R4LCBuZXh0KSA9PiB7XG4gICAgZXhlY3V0aW9ucy5wdXNoKDApO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH0pO1xuICBhcHAucmVnaXN0ZXIoXG4gICAgVG9rZW4sXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIGRlcHM6IHtkZXA6IFNvbWVEZXB9LFxuICAgICAgcHJvdmlkZXM6ICgpID0+IHt9LFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goMik7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIC8vIERlcCBtaWRkbGV3YXJlIG9mIG9yaWdpbmFsIHNob3VsZCBiZSBleGVjdXRlZCBiZWZvcmUgZW5oYW5jZWQgbWlkZGxld2FyZXNcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIFNvbWVEZXAsXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7fSxcbiAgICAgIG1pZGRsZXdhcmU6ICgpID0+IChjdHgsIG5leHQpID0+IHtcbiAgICAgICAgZXhlY3V0aW9ucy5wdXNoKDEpO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuICBhcHAubWlkZGxld2FyZSgoY3R4LCBuZXh0KSA9PiB7XG4gICAgZXhlY3V0aW9ucy5wdXNoKDYpO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH0pO1xuICAvLyBEZXNwaXRlIGJlaW5nIHJlZ2lzdGVyZWQgbGF0ZXIsIHRoZXNlIG1pZGRsZXdhcmUgc2hvdWxkIGJlIGhvaXN0ZWQgdXAgdG9cbiAgLy8gcG9zaXRpb24gb2Ygb3JpZ2luYWwgdG9rZW4gcmVnaXN0cmF0aW9uXG4gIGFwcC5lbmhhbmNlKFRva2VuLCAoKSA9PlxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4ge30sXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiB7XG4gICAgICAgIGV4ZWN1dGlvbnMucHVzaCgzKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLmVuaGFuY2UoVG9rZW4sICgpID0+XG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7fSxcbiAgICAgIG1pZGRsZXdhcmU6ICgpID0+IChjdHgsIG5leHQpID0+IHtcbiAgICAgICAgZXhlY3V0aW9ucy5wdXNoKDQpO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuICBhcHAuZW5oYW5jZShUb2tlbiwgKCkgPT5cbiAgICBjcmVhdGVQbHVnaW4oe1xuICAgICAgcHJvdmlkZXM6ICgpID0+IHt9LFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goNSk7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIGF3YWl0IHJ1bihhcHApO1xuICBleHBlY3QoZXhlY3V0aW9ucykudG9TdHJpY3RFcXVhbChbMCwgMSwgMiwgMywgNCwgNSwgNl0pO1xufSk7XG5cbnRlc3QoJ1NpbXBsZSBSZW5kZXJUb2tlbiBlbmhhbmNlciBtaWRkbGV3YXJlIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICBsZXQgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcblxuICBsZXQgZXhlY3V0aW9ucyA9IFtdO1xuXG4gIGFwcC5taWRkbGV3YXJlKChjdHgsIG5leHQpID0+IHtcbiAgICBleGVjdXRpb25zLnB1c2goMCk7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfSk7XG4gIGFwcC5lbmhhbmNlKFJlbmRlclRva2VuLCAocmVuZGVyKSA9PlxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4gcmVuZGVyLFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goMik7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIGFwcC5taWRkbGV3YXJlKChjdHgsIG5leHQpID0+IHtcbiAgICBleGVjdXRpb25zLnB1c2goMSk7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfSk7XG4gIGF3YWl0IHJ1bihhcHApO1xuICBleHBlY3QoZXhlY3V0aW9ucykudG9TdHJpY3RFcXVhbChbMCwgMSwgMl0pO1xufSk7XG5cbnRlc3QoJ0NvbXBsZXggUmVuZGVyVG9rZW4gZW5oYW5jZXIgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IFNvbWVEZXAgPSBjcmVhdGVUb2tlbignU29tZURlcCcpO1xuICBjb25zdCBPdGhlckRlcCA9IGNyZWF0ZVRva2VuKCdPdGhlckRlcCcpO1xuICBjb25zdCBBbm90aGVyRGVwID0gY3JlYXRlVG9rZW4oJ0Fub3RoZXJEZXAnKTtcblxuICBsZXQgZXhlY3V0aW9ucyA9IFtdO1xuXG4gIGNvbnN0IHJlbmRlciA9IGNyZWF0ZVBsdWdpbih7XG4gICAgZGVwczoge290aGVyOiBBbm90aGVyRGVwfSxcbiAgICBwcm92aWRlczogKCkgPT4gKGVsKSA9PiB7XG4gICAgICBleGVjdXRpb25zLnB1c2goJ3JlbmRlcl9mbicpO1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG4gICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgZXhlY3V0aW9ucy5wdXNoKCdyZW5kZXJfbWlkZGxld2FyZScpO1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9LFxuICB9KTtcblxuICBsZXQgYXBwID0gbmV3IEFwcCgnZWwnLCByZW5kZXIpO1xuXG4gIGFwcC5taWRkbGV3YXJlKChjdHgsIG5leHQpID0+IHtcbiAgICBleGVjdXRpb25zLnB1c2goJ2JlZm9yZV9taWRkbGV3YXJlJyk7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfSk7XG4gIC8vIERlcCBtaWRkbGV3YXJlIG9mIG9yaWdpbmFsIHNob3VsZCBiZSBleGVjdXRlZCBiZWZvcmUgZW5oYW5jZWQgbWlkZGxld2FyZXNcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIFNvbWVEZXAsXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7fSxcbiAgICAgIG1pZGRsZXdhcmU6ICgpID0+IChjdHgsIG5leHQpID0+IHtcbiAgICAgICAgZXhlY3V0aW9ucy5wdXNoKCdzb21lZGVwJyk7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIGFwcC5taWRkbGV3YXJlKChjdHgsIG5leHQpID0+IHtcbiAgICBleGVjdXRpb25zLnB1c2goJ2FmdGVyX21pZGRsZXdhcmUnKTtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9KTtcbiAgYXBwLmVuaGFuY2UoUmVuZGVyVG9rZW4sIChyZW5kZXIpID0+XG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiByZW5kZXIsXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiB7XG4gICAgICAgIGV4ZWN1dGlvbnMucHVzaCgncmVuZGVyX2VuaGFuY2VyMScpO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuICBhcHAuZW5oYW5jZShSZW5kZXJUb2tlbiwgKHJlbmRlcikgPT5cbiAgICBjcmVhdGVQbHVnaW4oe1xuICAgICAgZGVwczoge290aGVyOiBPdGhlckRlcH0sXG4gICAgICBwcm92aWRlczogKCkgPT4gcmVuZGVyLFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goJ3JlbmRlcl9lbmhhbmNlcjInKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLnJlZ2lzdGVyKEFub3RoZXJEZXAsICdBbm90aGVyRGVwJyk7XG4gIGFwcC5lbmhhbmNlKFJlbmRlclRva2VuLCAocmVuZGVyKSA9PlxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4gcmVuZGVyLFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goJ3JlbmRlcl9lbmhhbmNlcjMnKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIE90aGVyRGVwLFxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4ge30sXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiB7XG4gICAgICAgIGV4ZWN1dGlvbnMucHVzaCgnb3RoZXJkZXAnKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcblxuICBhd2FpdCBydW4oYXBwKTtcbiAgZXhwZWN0KGV4ZWN1dGlvbnMpLnRvU3RyaWN0RXF1YWwoW1xuICAgICdiZWZvcmVfbWlkZGxld2FyZScsXG4gICAgJ3NvbWVkZXAnLFxuICAgICdhZnRlcl9taWRkbGV3YXJlJyxcbiAgICAnb3RoZXJkZXAnLFxuICAgICdyZW5kZXJfbWlkZGxld2FyZScsXG4gICAgJ3JlbmRlcl9lbmhhbmNlcjEnLFxuICAgICdyZW5kZXJfZW5oYW5jZXIyJyxcbiAgICAncmVuZGVyX2VuaGFuY2VyMycsXG4gICAgJ3JlbmRlcl9mbicsXG4gIF0pO1xufSk7XG5cbnRlc3QoJ29ycGhhbiBlbmhhbmNlcnMgbm9vcCcsICgpID0+IHtcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcbiAgY29uc3QgT3JwaGFuVG9rZW4xID0gY3JlYXRlVG9rZW4oJ09ycGhhbjEnKTtcbiAgY29uc3QgT3JwaGFuVG9rZW4yID0gY3JlYXRlVG9rZW4oJ09ycGhhbjInKTtcbiAgY29uc3QgT3JwaGFuVG9rZW4zID0gY3JlYXRlVG9rZW4oJ09ycGhhbjMnKTtcbiAgYXBwLmVuaGFuY2UoT3JwaGFuVG9rZW4xLCAoKSA9PiB7XG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIG5vdCBiZSBjYWxsZWQnKTtcbiAgICAgIH0sXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiBuZXh0KCksXG4gICAgfSk7XG4gIH0pO1xuICBhcHAuZW5oYW5jZShPcnBoYW5Ub2tlbjIsICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nob3VsZCBub3QgYmUgY2FsbGVkJyk7XG4gIH0pO1xuICBhcHAuZW5oYW5jZShPcnBoYW5Ub2tlbjMsICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nob3VsZCBub3QgYmUgY2FsbGVkJyk7XG4gIH0pO1xuICBhcHAuZW5oYW5jZShPcnBoYW5Ub2tlbjMsICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nob3VsZCBub3QgYmUgY2FsbGVkJyk7XG4gIH0pO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFwcC5yZXNvbHZlKCk7XG4gIH0pLm5vdC50b1Rocm93KCk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQXNDO0FBR3RDLE1BQU1BLEdBQUcsR0FBRyxPQUFjLElBQUFDLGtCQUFnQixHQUFFLEdBQUdDLGdCQUFnQixFQUFFO0FBRWpFQyxJQUFJLENBQUMsYUFBYSxFQUFHQyxJQUFJLElBQUs7RUFDNUIsTUFBTUMsR0FBRyxHQUFHLElBQUlMLEdBQUcsQ0FBQyxJQUFJLEVBQUdNLEVBQUUsSUFBS0EsRUFBRSxDQUFDO0VBR3JDLE1BQU1DLE9BQXNCLEdBQUcsSUFBQUMsd0JBQVcsRUFBQyxRQUFRLENBQUM7RUFDcEQsTUFBTUMsTUFBdUMsR0FBRyxJQUFBQywwQkFBWSxFQUFDO0lBQzNEQyxRQUFRLEVBQUUsTUFBTTtNQUNkLE9BQVFDLEdBQUcsSUFBS0EsR0FBRztJQUNyQjtFQUNGLENBQUMsQ0FBQztFQUNGLE1BQU1DLGNBQWMsR0FBSUMsRUFBVSxJQUFhO0lBQzdDLE9BQVFGLEdBQUcsSUFBSztNQUNkLE9BQU9FLEVBQUUsQ0FBQ0YsR0FBRyxDQUFDLEdBQUcsV0FBVztJQUM5QixDQUFDO0VBQ0gsQ0FBQztFQUNEUCxHQUFHLENBQUNVLFFBQVEsQ0FBQ1IsT0FBTyxFQUFFRSxNQUFNLENBQUM7RUFDN0JKLEdBQUcsQ0FBQ1csT0FBTyxDQUFDVCxPQUFPLEVBQUVNLGNBQWMsQ0FBQztFQUNwQ1IsR0FBRyxDQUFDWSxVQUFVLENBQUM7SUFBQ0gsRUFBRSxFQUFFUDtFQUFP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