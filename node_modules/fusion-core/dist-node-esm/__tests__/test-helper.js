/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

import { compose } from '../compose';
function getContext() {
  return false ? {} : {
    method: 'GET',
    path: '/',
    headers: {
      accept: 'text/html'
    }
  };
}

// @ts-expect-error
export function run(app, ctx = {}) {
  ctx = Object.assign(getContext(), ctx);
  app.resolve();
  return compose(app.plugins)(ctx, () => Promise.resolve()).then(() => ctx);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb21wb3NlIiwiZ2V0Q29udGV4dCIsIm1ldGhvZCIsInBhdGgiLCJoZWFkZXJzIiwiYWNjZXB0IiwicnVuIiwiYXBwIiwiY3R4IiwiT2JqZWN0IiwiYXNzaWduIiwicmVzb2x2ZSIsInBsdWdpbnMiLCJQcm9taXNlIiwidGhlbiJdLCJzb3VyY2VzIjpbInNyYy9fX3Rlc3RzX18vdGVzdC1oZWxwZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIENvcHlyaWdodCAoYykgMjAxOCBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5pbXBvcnQge2NvbXBvc2V9IGZyb20gJy4uL2NvbXBvc2UnO1xuXG5pbXBvcnQgdHlwZSB7Q29udGV4dH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5mdW5jdGlvbiBnZXRDb250ZXh0KCkge1xuICByZXR1cm4gX19CUk9XU0VSX19cbiAgICA/IHt9XG4gICAgOiB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6ICcvJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGFjY2VwdDogJ3RleHQvaHRtbCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xufVxuXG4vLyBAdHMtZXhwZWN0LWVycm9yXG5leHBvcnQgZnVuY3Rpb24gcnVuKGFwcDogYW55LCBjdHg6IENvbnRleHQgPSB7fSkge1xuICBjdHggPSBPYmplY3QuYXNzaWduKGdldENvbnRleHQoKSwgY3R4KTtcbiAgYXBwLnJlc29sdmUoKTtcbiAgcmV0dXJuIGNvbXBvc2UoYXBwLnBsdWdpbnMpKGN0eCwgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4oKCkgPT4gY3R4KTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVFBLE9BQU8sUUFBTyxZQUFZO0FBSWxDLFNBQVNDLFVBQVUsR0FBRztFQUNwQixPQUFPLFFBQ0gsQ0FBQyxDQUFDLEdBQ0Y7SUFDRUMsTUFBTSxFQUFFLEtBQUs7SUFDYkMsSUFBSSxFQUFFLEdBQUc7SUFDVEMsT0FBTyxFQUFFO01BQ1BDLE1BQU0sRUFBRTtJQUNWO0VBQ0YsQ0FBQztBQUNQOztBQUVBO0FBQ0EsT0FBTyxTQUFTQyxHQUFHLENBQUNDLEdBQVEsRUFBRUMsR0FBWSxHQUFHLENBQUMsQ0FBQyxFQUFFO0VBQy9DQSxHQUFHLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDVCxVQUFVLEVBQUUsRUFBRU8sR0FBRyxDQUFDO0VBQ3RDRCxHQUFHLENBQUNJLE9BQU8sRUFBRTtFQUNiLE9BQU9YLE9BQU8sQ0FBQ08sR0FBRyxDQUFDSyxPQUFPLENBQUMsQ0FBQ0osR0FBRyxFQUFFLE1BQU1LLE9BQU8sQ0FBQ0YsT0FBTyxFQUFFLENBQUMsQ0FBQ0csSUFBSSxDQUFDLE1BQU1OLEdBQUcsQ0FBQztBQUMzRSJ9