/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

/* eslint-env browser */

export default function createClientHydrate({
  element
}) {
  return function clientHydrate(ctx, next) {
    ctx.prefix = getSerializedRoutePrefix();
    ctx.element = element;
    ctx.preloadChunks = [];
    return next();
  };
}
export function getSerializedRoutePrefix() {
  // @ts-expect-error global variable in browser
  return window.__ROUTE_PREFIX__ || ''; // serialized by ./server
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVDbGllbnRIeWRyYXRlIiwiZWxlbWVudCIsImNsaWVudEh5ZHJhdGUiLCJjdHgiLCJuZXh0IiwicHJlZml4IiwiZ2V0U2VyaWFsaXplZFJvdXRlUHJlZml4IiwicHJlbG9hZENodW5rcyIsIndpbmRvdyIsIl9fUk9VVEVfUFJFRklYX18iXSwic291cmNlcyI6WyJzcmMvcGx1Z2lucy9jbGllbnQtaHlkcmF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQ29weXJpZ2h0IChjKSAyMDE4IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG5pbXBvcnQgdHlwZSB7Q29udGV4dH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVDbGllbnRIeWRyYXRlKHtlbGVtZW50fToge2VsZW1lbnQ6IGFueX0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNsaWVudEh5ZHJhdGUoY3R4OiBDb250ZXh0LCBuZXh0OiAoKSA9PiBQcm9taXNlPHZvaWQ+KSB7XG4gICAgY3R4LnByZWZpeCA9IGdldFNlcmlhbGl6ZWRSb3V0ZVByZWZpeCgpO1xuICAgIGN0eC5lbGVtZW50ID0gZWxlbWVudDtcbiAgICBjdHgucHJlbG9hZENodW5rcyA9IFtdO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJpYWxpemVkUm91dGVQcmVmaXgoKSB7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgZ2xvYmFsIHZhcmlhYmxlIGluIGJyb3dzZXJcbiAgcmV0dXJuIHdpbmRvdy5fX1JPVVRFX1BSRUZJWF9fIHx8ICcnOyAvLyBzZXJpYWxpemVkIGJ5IC4vc2VydmVyXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFJQSxlQUFlLFNBQVNBLG1CQUFtQixDQUFDO0VBQUNDO0FBQXVCLENBQUMsRUFBRTtFQUNyRSxPQUFPLFNBQVNDLGFBQWEsQ0FBQ0MsR0FBWSxFQUFFQyxJQUF5QixFQUFFO0lBQ3JFRCxHQUFHLENBQUNFLE1BQU0sR0FBR0Msd0JBQXdCLEVBQUU7SUFDdkNILEdBQUcsQ0FBQ0YsT0FBTyxHQUFHQSxPQUFPO0lBQ3JCRSxHQUFHLENBQUNJLGFBQWEsR0FBRyxFQUFFO0lBQ3RCLE9BQU9ILElBQUksRUFBRTtFQUNmLENBQUM7QUFDSDtBQUVBLE9BQU8sU0FBU0Usd0JBQXdCLEdBQUc7RUFDekM7RUFDQSxPQUFPRSxNQUFNLENBQUNDLGdCQUFnQixJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQ3hDIn0=