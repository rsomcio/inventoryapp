import ClientAppFactory from '../client-app';
import { createPlugin } from '../create-plugin';
import { createToken } from '../create-token';
import { run } from './test-helper';
import { RenderToken } from '../tokens';
const App = true ? ClientAppFactory() : ServerAppFactory();
test('enhancement', done => {
  const app = new App('el', el => el);
  const FnToken = createToken('FnType');
  const BaseFn = createPlugin({
    provides: () => {
      return arg => arg;
    }
  });
  const BaseFnEnhancer = fn => {
    return arg => {
      return fn(arg) + ' enhanced';
    };
  };
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  app.middleware({
    fn: FnToken
  }, ({
    fn
  }) => {
    expect(fn('hello')).toBe('hello enhanced');
    done();
    return (ctx, next) => next();
  });
  app.resolve();
});
test('enhancement with a plugin', done => {
  const app = new App('el', el => el);
  const FnToken = createToken('FnType');
  const BaseFn = createPlugin({
    provides: () => {
      return arg => arg;
    }
  });
  const BaseFnEnhancer = fn => {
    return createPlugin({
      provides: () => {
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  app.middleware({
    fn: FnToken
  }, ({
    fn
  }) => {
    expect(fn('hello')).toBe('hello enhanced');
    done();
    return (ctx, next) => next();
  });
  app.resolve();
});
test('enhancement with a plugin allows orphan plugins', () => {
  const app = new App('el', el => el);
  const FnToken = createToken('FnType');
  const BaseFn = a => a;
  const BaseFnEnhancer = fn => {
    return createPlugin({
      provides: () => {
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).not.toThrow();
});
test('enhancement with a plugin with deps', done => {
  const app = new App('el', el => el);
  const DepAToken = createToken('DepA');
  const DepBToken = createToken('DepB');
  const DepCToken = createToken('DepC');
  const DepA = 'test-dep-a';
  const DepB = createPlugin({
    deps: {
      a: DepAToken
    },
    provides: ({
      a
    }) => {
      expect(a).toBe(DepA);
      return 'test-dep-b';
    }
  });
  const FnToken = createToken('FnType');
  const BaseFn = createPlugin({
    provides: () => {
      return arg => arg;
    }
  });
  const BaseFnEnhancer = fn => {
    return createPlugin({
      deps: {
        a: DepAToken,
        b: DepBToken,
        c: DepCToken
      },
      provides: ({
        a,
        b,
        c
      }) => {
        expect(a).toBe('test-dep-a');
        expect(b).toBe('test-dep-b');
        expect(c).toBe('test-dep-c');
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.register(DepAToken, DepA);
  app.register(DepBToken, DepB);
  app.register(DepCToken, 'test-dep-c');
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  app.middleware({
    fn: FnToken
  }, ({
    fn
  }) => {
    expect(fn('hello')).toBe('hello enhanced');
    done();
    return (ctx, next) => next();
  });
  app.resolve();
});

// TODO(#573) This is a regression test which hasn't been fixed yet
test.skip('Plugin enhancer on unregistered token with no dependencies', t => {
  let app = new App('el', el => el);
  const FnToken = createToken('FnType');
  let BaseFnEnhancer = fn => {
    return createPlugin({
      provides: () => {
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).toThrow();
});

// TODO(#573) This is a regression test which hasn't been fixed yet
test.skip('Plugin enhancer on unregistered token with optional dependency', t => {
  let app = new App('el', el => el);
  const FnToken = createToken('FnType');
  let BaseFnEnhancer = fn => {
    return createPlugin({
      provides: () => {
        return arg => {
          return fn(arg) + ' enhanced';
        };
      }
    });
  };
  app.register(createPlugin({
    deps: {
      fn: FnToken.optional
    }
  }));
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).toThrow();
});

// TODO(#573) This is a regression test which hasn't been fixed yet
test.skip('regular enhancer on unregistered token with no dependencies', t => {
  let app = new App('el', el => el);
  const FnToken = createToken('FnType');
  let BaseFnEnhancer = fn => {
    return fn;
  };
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).toThrow();
});

// Orphan enhancer should not throw
// See https://github.com/fusionjs/fusionjs/issues/573
test('regular enhancer on unregistered token with optional dependencies', () => {
  let app = new App('el', el => el);
  const FnToken = createToken('FnType');
  let BaseFnEnhancer = fn => {
    return fn;
  };
  app.register(createPlugin({
    deps: {
      fn: FnToken.optional
    }
  }));
  app.enhance(FnToken, BaseFnEnhancer);
  expect(() => {
    app.resolve();
  }).not.toThrow();
});
test('enhancement with a plugin with missing deps', () => {
  const app = new App('el', el => el);
  const DepAToken = createToken('DepA');
  const DepBToken = createToken('DepB');
  const DepB = 'test-dep-b';
  const FnToken = createToken('FnType');
  const BaseFn = createPlugin({
    provides: () => {
      return arg => arg;
    }
  });
  const provides = jest.fn();
  const BaseFnEnhancer = fn => {
    return createPlugin({
      deps: {
        a: DepAToken,
        b: DepBToken
      },
      provides
    });
  };
  app.register(DepBToken, DepB);
  app.register(FnToken, BaseFn);
  app.enhance(FnToken, BaseFnEnhancer);
  app.middleware({
    fn: FnToken
  }, ({
    fn
  }) => {
    expect(fn('hello')).toBe('hello enhanced');
    return (ctx, next) => next();
  });
  expect(() => app.resolve()).toThrow(/Missing registration for token DepA. This is a dependency of plugin registered @/);
  expect(provides).not.toHaveBeenCalled();
});
test('Chained enhancers', () => {
  let app = new App('el', el => el);
  const StrToken = createToken('StrToken');
  const FnToken = createToken('FnToken');
  app.register(FnToken, createPlugin({
    deps: {
      str: StrToken
    },
    provides: ({
      str
    }) => {
      expect(str).toBe('foobarbaz');
    }
  }));
  app.register(StrToken, 'foo');
  app.enhance(StrToken, str => {
    return str + 'bar';
  });
  app.enhance(StrToken, str => {
    return str + 'baz';
  });
  app.resolve();
});
test('Enhancer middleware hoisted up to position of original registration', async () => {
  const Token = createToken('Token');
  const SomeDep = createToken('SomeDep');
  let app = new App('el', el => el);
  let executions = [];
  app.register(Token, createPlugin({
    deps: {
      dep: SomeDep
    },
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(2);
      return next();
    }
  }));
  // Dep middleware of original should be executed before enhanced middlewares
  app.register(SomeDep, createPlugin({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(1);
      return next();
    }
  }));
  app.middleware((ctx, next) => {
    executions.push(4);
    return next();
  });
  // Despite being registered last, this enhancer middleware
  // should be sorted before the above middleware
  app.enhance(Token, () => createPlugin({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(3);
      return next();
    }
  }));
  await run(app);
  expect(executions).toStrictEqual([1, 2, 3, 4]);
});
test('Chained enhancer middleware hoisted up to position of original registration', async () => {
  const Token = createToken('Token');
  const SomeDep = createToken('SomeDep');
  let app = new App('el', el => el);
  let executions = [];
  app.middleware((ctx, next) => {
    executions.push(0);
    return next();
  });
  app.register(Token, createPlugin({
    deps: {
      dep: SomeDep
    },
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(2);
      return next();
    }
  }));
  // Dep middleware of original should be executed before enhanced middlewares
  app.register(SomeDep, createPlugin({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(1);
      return next();
    }
  }));
  app.middleware((ctx, next) => {
    executions.push(6);
    return next();
  });
  // Despite being registered later, these middleware should be hoisted up to
  // position of original token registration
  app.enhance(Token, () => createPlugin({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(3);
      return next();
    }
  }));
  app.enhance(Token, () => createPlugin({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(4);
      return next();
    }
  }));
  app.enhance(Token, () => createPlugin({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push(5);
      return next();
    }
  }));
  await run(app);
  expect(executions).toStrictEqual([0, 1, 2, 3, 4, 5, 6]);
});
test('Simple RenderToken enhancer middleware order', async () => {
  let app = new App('el', el => el);
  let executions = [];
  app.middleware((ctx, next) => {
    executions.push(0);
    return next();
  });
  app.enhance(RenderToken, render => createPlugin({
    provides: () => render,
    middleware: () => (ctx, next) => {
      executions.push(2);
      return next();
    }
  }));
  app.middleware((ctx, next) => {
    executions.push(1);
    return next();
  });
  await run(app);
  expect(executions).toStrictEqual([0, 1, 2]);
});
test('Complex RenderToken enhancer order', async () => {
  const SomeDep = createToken('SomeDep');
  const OtherDep = createToken('OtherDep');
  const AnotherDep = createToken('AnotherDep');
  let executions = [];
  const render = createPlugin({
    deps: {
      other: AnotherDep
    },
    provides: () => el => {
      executions.push('render_fn');
      return el;
    },
    middleware: () => (ctx, next) => {
      executions.push('render_middleware');
      return next();
    }
  });
  let app = new App('el', render);
  app.middleware((ctx, next) => {
    executions.push('before_middleware');
    return next();
  });
  // Dep middleware of original should be executed before enhanced middlewares
  app.register(SomeDep, createPlugin({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push('somedep');
      return next();
    }
  }));
  app.middleware((ctx, next) => {
    executions.push('after_middleware');
    return next();
  });
  app.enhance(RenderToken, render => createPlugin({
    provides: () => render,
    middleware: () => (ctx, next) => {
      executions.push('render_enhancer1');
      return next();
    }
  }));
  app.enhance(RenderToken, render => createPlugin({
    deps: {
      other: OtherDep
    },
    provides: () => render,
    middleware: () => (ctx, next) => {
      executions.push('render_enhancer2');
      return next();
    }
  }));
  app.register(AnotherDep, 'AnotherDep');
  app.enhance(RenderToken, render => createPlugin({
    provides: () => render,
    middleware: () => (ctx, next) => {
      executions.push('render_enhancer3');
      return next();
    }
  }));
  app.register(OtherDep, createPlugin({
    provides: () => {},
    middleware: () => (ctx, next) => {
      executions.push('otherdep');
      return next();
    }
  }));
  await run(app);
  expect(executions).toStrictEqual(['before_middleware', 'somedep', 'after_middleware', 'otherdep', 'render_middleware', 'render_enhancer1', 'render_enhancer2', 'render_enhancer3', 'render_fn']);
});
test('orphan enhancers noop', () => {
  const app = new App('el', el => el);
  const OrphanToken1 = createToken('Orphan1');
  const OrphanToken2 = createToken('Orphan2');
  const OrphanToken3 = createToken('Orphan3');
  app.enhance(OrphanToken1, () => {
    createPlugin({
      provides: () => {
        throw new Error('Should not be called');
      },
      middleware: () => (ctx, next) => next()
    });
  });
  app.enhance(OrphanToken2, () => {
    throw new Error('Should not be called');
  });
  app.enhance(OrphanToken3, () => {
    throw new Error('Should not be called');
  });
  app.enhance(OrphanToken3, () => {
    throw new Error('Should not be called');
  });
  expect(() => {
    app.resolve();
  }).not.toThrow();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGllbnRBcHBGYWN0b3J5IiwiY3JlYXRlUGx1Z2luIiwiY3JlYXRlVG9rZW4iLCJydW4iLCJSZW5kZXJUb2tlbiIsIkFwcCIsIlNlcnZlckFwcEZhY3RvcnkiLCJ0ZXN0IiwiZG9uZSIsImFwcCIsImVsIiwiRm5Ub2tlbiIsIkJhc2VGbiIsInByb3ZpZGVzIiwiYXJnIiwiQmFzZUZuRW5oYW5jZXIiLCJmbiIsInJlZ2lzdGVyIiwiZW5oYW5jZSIsIm1pZGRsZXdhcmUiLCJleHBlY3QiLCJ0b0JlIiwiY3R4IiwibmV4dCIsInJlc29sdmUiLCJhIiwibm90IiwidG9UaHJvdyIsIkRlcEFUb2tlbiIsIkRlcEJUb2tlbiIsIkRlcENUb2tlbiIsIkRlcEEiLCJEZXBCIiwiZGVwcyIsImIiLCJjIiwic2tpcCIsInQiLCJvcHRpb25hbCIsImplc3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiU3RyVG9rZW4iLCJzdHIiLCJUb2tlbiIsIlNvbWVEZXAiLCJleGVjdXRpb25zIiwiZGVwIiwicHVzaCIsInRvU3RyaWN0RXF1YWwiLCJyZW5kZXIiLCJPdGhlckRlcCIsIkFub3RoZXJEZXAiLCJvdGhlciIsIk9ycGhhblRva2VuMSIsIk9ycGhhblRva2VuMiIsIk9ycGhhblRva2VuMyIsIkVycm9yIl0sInNvdXJjZXMiOlsic3JjL19fdGVzdHNfXy9lbmhhbmNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDbGllbnRBcHBGYWN0b3J5IGZyb20gJy4uL2NsaWVudC1hcHAnO1xuaW1wb3J0IFNlcnZlckFwcEZhY3RvcnkgZnJvbSAnLi4vc2VydmVyLWFwcCc7XG5pbXBvcnQge2NyZWF0ZVBsdWdpbn0gZnJvbSAnLi4vY3JlYXRlLXBsdWdpbic7XG5pbXBvcnQge2NyZWF0ZVRva2VufSBmcm9tICcuLi9jcmVhdGUtdG9rZW4nO1xuaW1wb3J0IHtydW59IGZyb20gJy4vdGVzdC1oZWxwZXInO1xuaW1wb3J0IHtSZW5kZXJUb2tlbn0gZnJvbSAnLi4vdG9rZW5zJztcbmltcG9ydCB0eXBlIHtGdXNpb25QbHVnaW4sIFRva2VufSBmcm9tICcuLi90eXBlcyc7XG5cbmNvbnN0IEFwcCA9IF9fQlJPV1NFUl9fID8gQ2xpZW50QXBwRmFjdG9yeSgpIDogU2VydmVyQXBwRmFjdG9yeSgpO1xuXG50ZXN0KCdlbmhhbmNlbWVudCcsIChkb25lKSA9PiB7XG4gIGNvbnN0IGFwcCA9IG5ldyBBcHAoJ2VsJywgKGVsKSA9PiBlbCk7XG5cbiAgdHlwZSBGblR5cGUgPSAoYTogc3RyaW5nKSA9PiBzdHJpbmc7XG4gIGNvbnN0IEZuVG9rZW46IFRva2VuPEZuVHlwZT4gPSBjcmVhdGVUb2tlbignRm5UeXBlJyk7XG4gIGNvbnN0IEJhc2VGbjogRnVzaW9uUGx1Z2luPHVuZGVmaW5lZCwgRm5UeXBlPiA9IGNyZWF0ZVBsdWdpbih7XG4gICAgcHJvdmlkZXM6ICgpID0+IHtcbiAgICAgIHJldHVybiAoYXJnKSA9PiBhcmc7XG4gICAgfSxcbiAgfSk7XG4gIGNvbnN0IEJhc2VGbkVuaGFuY2VyID0gKGZuOiBGblR5cGUpOiBGblR5cGUgPT4ge1xuICAgIHJldHVybiAoYXJnKSA9PiB7XG4gICAgICByZXR1cm4gZm4oYXJnKSArICcgZW5oYW5jZWQnO1xuICAgIH07XG4gIH07XG4gIGFwcC5yZWdpc3RlcihGblRva2VuLCBCYXNlRm4pO1xuICBhcHAuZW5oYW5jZShGblRva2VuLCBCYXNlRm5FbmhhbmNlcik7XG4gIGFwcC5taWRkbGV3YXJlKHtmbjogRm5Ub2tlbn0sICh7Zm59KSA9PiB7XG4gICAgZXhwZWN0KGZuKCdoZWxsbycpKS50b0JlKCdoZWxsbyBlbmhhbmNlZCcpO1xuICAgIGRvbmUoKTtcbiAgICByZXR1cm4gKGN0eCwgbmV4dCkgPT4gbmV4dCgpO1xuICB9KTtcbiAgYXBwLnJlc29sdmUoKTtcbn0pO1xuXG50ZXN0KCdlbmhhbmNlbWVudCB3aXRoIGEgcGx1Z2luJywgKGRvbmUpID0+IHtcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcblxuICB0eXBlIEZuVHlwZSA9IChhOiBzdHJpbmcpID0+IHN0cmluZztcbiAgY29uc3QgRm5Ub2tlbjogVG9rZW48Rm5UeXBlPiA9IGNyZWF0ZVRva2VuKCdGblR5cGUnKTtcbiAgY29uc3QgQmFzZUZuOiBGdXNpb25QbHVnaW48dW5kZWZpbmVkLCBGblR5cGU+ID0gY3JlYXRlUGx1Z2luKHtcbiAgICBwcm92aWRlczogKCkgPT4ge1xuICAgICAgcmV0dXJuIChhcmcpID0+IGFyZztcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgQmFzZUZuRW5oYW5jZXIgPSAoZm46IEZuVHlwZSk6IEZ1c2lvblBsdWdpbjx1bmRlZmluZWQsIEZuVHlwZT4gPT4ge1xuICAgIHJldHVybiBjcmVhdGVQbHVnaW4oe1xuICAgICAgcHJvdmlkZXM6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIChhcmcpID0+IHtcbiAgICAgICAgICByZXR1cm4gZm4oYXJnKSArICcgZW5oYW5jZWQnO1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcbiAgYXBwLnJlZ2lzdGVyKEZuVG9rZW4sIEJhc2VGbik7XG4gIGFwcC5lbmhhbmNlKEZuVG9rZW4sIEJhc2VGbkVuaGFuY2VyKTtcbiAgYXBwLm1pZGRsZXdhcmUoe2ZuOiBGblRva2VufSwgKHtmbn0pID0+IHtcbiAgICBleHBlY3QoZm4oJ2hlbGxvJykpLnRvQmUoJ2hlbGxvIGVuaGFuY2VkJyk7XG4gICAgZG9uZSgpO1xuICAgIHJldHVybiAoY3R4LCBuZXh0KSA9PiBuZXh0KCk7XG4gIH0pO1xuICBhcHAucmVzb2x2ZSgpO1xufSk7XG5cbnRlc3QoJ2VuaGFuY2VtZW50IHdpdGggYSBwbHVnaW4gYWxsb3dzIG9ycGhhbiBwbHVnaW5zJywgKCkgPT4ge1xuICBjb25zdCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuXG4gIHR5cGUgRm5UeXBlID0gKGE6IHN0cmluZykgPT4gc3RyaW5nO1xuICBjb25zdCBGblRva2VuOiBUb2tlbjxGblR5cGU+ID0gY3JlYXRlVG9rZW4oJ0ZuVHlwZScpO1xuICBjb25zdCBCYXNlRm46IEZuVHlwZSA9IChhKSA9PiBhO1xuICBjb25zdCBCYXNlRm5FbmhhbmNlciA9IChmbjogRm5UeXBlKTogRnVzaW9uUGx1Z2luPHVuZGVmaW5lZCwgRm5UeXBlPiA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4ge1xuICAgICAgICByZXR1cm4gKGFyZykgPT4ge1xuICAgICAgICAgIHJldHVybiBmbihhcmcpICsgJyBlbmhhbmNlZCc7XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuICBhcHAucmVnaXN0ZXIoRm5Ub2tlbiwgQmFzZUZuKTtcbiAgYXBwLmVuaGFuY2UoRm5Ub2tlbiwgQmFzZUZuRW5oYW5jZXIpO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFwcC5yZXNvbHZlKCk7XG4gIH0pLm5vdC50b1Rocm93KCk7XG59KTtcblxudGVzdCgnZW5oYW5jZW1lbnQgd2l0aCBhIHBsdWdpbiB3aXRoIGRlcHMnLCAoZG9uZSkgPT4ge1xuICBjb25zdCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuXG4gIGNvbnN0IERlcEFUb2tlbjogVG9rZW48c3RyaW5nPiA9IGNyZWF0ZVRva2VuKCdEZXBBJyk7XG4gIGNvbnN0IERlcEJUb2tlbjogVG9rZW48c3RyaW5nPiA9IGNyZWF0ZVRva2VuKCdEZXBCJyk7XG4gIGNvbnN0IERlcENUb2tlbjogVG9rZW48c3RyaW5nPiA9IGNyZWF0ZVRva2VuKCdEZXBDJyk7XG5cbiAgY29uc3QgRGVwQSA9ICd0ZXN0LWRlcC1hJztcbiAgY29uc3QgRGVwQjogRnVzaW9uUGx1Z2luPFxuICAgIHtcbiAgICAgIGE6IFRva2VuPHN0cmluZz47XG4gICAgfSxcbiAgICBzdHJpbmdcbiAgPiA9IGNyZWF0ZVBsdWdpbih7XG4gICAgZGVwczoge1xuICAgICAgYTogRGVwQVRva2VuLFxuICAgIH0sXG4gICAgcHJvdmlkZXM6ICh7YX0pID0+IHtcbiAgICAgIGV4cGVjdChhKS50b0JlKERlcEEpO1xuICAgICAgcmV0dXJuICd0ZXN0LWRlcC1iJztcbiAgICB9LFxuICB9KTtcblxuICB0eXBlIEZuVHlwZSA9IChhOiBzdHJpbmcpID0+IHN0cmluZztcbiAgY29uc3QgRm5Ub2tlbjogVG9rZW48Rm5UeXBlPiA9IGNyZWF0ZVRva2VuKCdGblR5cGUnKTtcbiAgY29uc3QgQmFzZUZuOiBGdXNpb25QbHVnaW48dW5kZWZpbmVkLCBGblR5cGU+ID0gY3JlYXRlUGx1Z2luKHtcbiAgICBwcm92aWRlczogKCkgPT4ge1xuICAgICAgcmV0dXJuIChhcmcpID0+IGFyZztcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgQmFzZUZuRW5oYW5jZXIgPSAoXG4gICAgZm46IEZuVHlwZVxuICApOiBGdXNpb25QbHVnaW48XG4gICAge1xuICAgICAgYTogVG9rZW48c3RyaW5nPjtcbiAgICAgIGI6IFRva2VuPHN0cmluZz47XG4gICAgICBjOiBUb2tlbjxzdHJpbmc+O1xuICAgIH0sXG4gICAgRm5UeXBlXG4gID4gPT4ge1xuICAgIHJldHVybiBjcmVhdGVQbHVnaW4oe1xuICAgICAgZGVwczoge1xuICAgICAgICBhOiBEZXBBVG9rZW4sXG4gICAgICAgIGI6IERlcEJUb2tlbixcbiAgICAgICAgYzogRGVwQ1Rva2VuLFxuICAgICAgfSxcbiAgICAgIHByb3ZpZGVzOiAoe2EsIGIsIGN9KSA9PiB7XG4gICAgICAgIGV4cGVjdChhKS50b0JlKCd0ZXN0LWRlcC1hJyk7XG4gICAgICAgIGV4cGVjdChiKS50b0JlKCd0ZXN0LWRlcC1iJyk7XG4gICAgICAgIGV4cGVjdChjKS50b0JlKCd0ZXN0LWRlcC1jJyk7XG4gICAgICAgIHJldHVybiAoYXJnKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZuKGFyZykgKyAnIGVuaGFuY2VkJztcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG4gIGFwcC5yZWdpc3RlcihEZXBBVG9rZW4sIERlcEEpO1xuICBhcHAucmVnaXN0ZXIoRGVwQlRva2VuLCBEZXBCKTtcbiAgYXBwLnJlZ2lzdGVyKERlcENUb2tlbiwgJ3Rlc3QtZGVwLWMnKTtcbiAgYXBwLnJlZ2lzdGVyKEZuVG9rZW4sIEJhc2VGbik7XG4gIGFwcC5lbmhhbmNlKEZuVG9rZW4sIEJhc2VGbkVuaGFuY2VyKTtcbiAgYXBwLm1pZGRsZXdhcmUoe2ZuOiBGblRva2VufSwgKHtmbn0pID0+IHtcbiAgICBleHBlY3QoZm4oJ2hlbGxvJykpLnRvQmUoJ2hlbGxvIGVuaGFuY2VkJyk7XG4gICAgZG9uZSgpO1xuICAgIHJldHVybiAoY3R4LCBuZXh0KSA9PiBuZXh0KCk7XG4gIH0pO1xuICBhcHAucmVzb2x2ZSgpO1xufSk7XG5cbi8vIFRPRE8oIzU3MykgVGhpcyBpcyBhIHJlZ3Jlc3Npb24gdGVzdCB3aGljaCBoYXNuJ3QgYmVlbiBmaXhlZCB5ZXRcbnRlc3Quc2tpcCgnUGx1Z2luIGVuaGFuY2VyIG9uIHVucmVnaXN0ZXJlZCB0b2tlbiB3aXRoIG5vIGRlcGVuZGVuY2llcycsICh0KSA9PiB7XG4gIGxldCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuICB0eXBlIEZuVHlwZSA9IChhOiBzdHJpbmcpID0+IHN0cmluZztcbiAgY29uc3QgRm5Ub2tlbjogVG9rZW48Rm5UeXBlPiA9IGNyZWF0ZVRva2VuKCdGblR5cGUnKTtcbiAgbGV0IEJhc2VGbkVuaGFuY2VyID0gKGZuOiBGblR5cGUpOiBGdXNpb25QbHVnaW48dW5kZWZpbmVkLCBGblR5cGU+ID0+IHtcbiAgICByZXR1cm4gY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoYXJnKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZuKGFyZykgKyAnIGVuaGFuY2VkJztcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG4gIGFwcC5lbmhhbmNlKEZuVG9rZW4sIEJhc2VGbkVuaGFuY2VyKTtcbiAgZXhwZWN0KCgpID0+IHtcbiAgICBhcHAucmVzb2x2ZSgpO1xuICB9KS50b1Rocm93KCk7XG59KTtcblxuLy8gVE9ETygjNTczKSBUaGlzIGlzIGEgcmVncmVzc2lvbiB0ZXN0IHdoaWNoIGhhc24ndCBiZWVuIGZpeGVkIHlldFxudGVzdC5za2lwKCdQbHVnaW4gZW5oYW5jZXIgb24gdW5yZWdpc3RlcmVkIHRva2VuIHdpdGggb3B0aW9uYWwgZGVwZW5kZW5jeScsICh0KSA9PiB7XG4gIGxldCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuICB0eXBlIEZuVHlwZSA9IChhOiBzdHJpbmcpID0+IHN0cmluZztcbiAgY29uc3QgRm5Ub2tlbjogVG9rZW48Rm5UeXBlPiA9IGNyZWF0ZVRva2VuKCdGblR5cGUnKTtcbiAgbGV0IEJhc2VGbkVuaGFuY2VyID0gKGZuOiBGblR5cGUpOiBGdXNpb25QbHVnaW48dW5kZWZpbmVkLCBGblR5cGU+ID0+IHtcbiAgICByZXR1cm4gY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoYXJnKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZuKGFyZykgKyAnIGVuaGFuY2VkJztcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG4gIGFwcC5yZWdpc3RlcihcbiAgICBjcmVhdGVQbHVnaW4oe1xuICAgICAgZGVwczoge1xuICAgICAgICBmbjogRm5Ub2tlbi5vcHRpb25hbCxcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLmVuaGFuY2UoRm5Ub2tlbiwgQmFzZUZuRW5oYW5jZXIpO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFwcC5yZXNvbHZlKCk7XG4gIH0pLnRvVGhyb3coKTtcbn0pO1xuXG4vLyBUT0RPKCM1NzMpIFRoaXMgaXMgYSByZWdyZXNzaW9uIHRlc3Qgd2hpY2ggaGFzbid0IGJlZW4gZml4ZWQgeWV0XG50ZXN0LnNraXAoJ3JlZ3VsYXIgZW5oYW5jZXIgb24gdW5yZWdpc3RlcmVkIHRva2VuIHdpdGggbm8gZGVwZW5kZW5jaWVzJywgKHQpID0+IHtcbiAgbGV0IGFwcCA9IG5ldyBBcHAoJ2VsJywgKGVsKSA9PiBlbCk7XG4gIHR5cGUgRm5UeXBlID0gKGE6IHN0cmluZykgPT4gc3RyaW5nO1xuICBjb25zdCBGblRva2VuOiBUb2tlbjxGblR5cGU+ID0gY3JlYXRlVG9rZW4oJ0ZuVHlwZScpO1xuICBsZXQgQmFzZUZuRW5oYW5jZXIgPSAoZm46IEZuVHlwZSk6IEZuVHlwZSA9PiB7XG4gICAgcmV0dXJuIGZuO1xuICB9O1xuICBhcHAuZW5oYW5jZShGblRva2VuLCBCYXNlRm5FbmhhbmNlcik7XG4gIGV4cGVjdCgoKSA9PiB7XG4gICAgYXBwLnJlc29sdmUoKTtcbiAgfSkudG9UaHJvdygpO1xufSk7XG5cbi8vIE9ycGhhbiBlbmhhbmNlciBzaG91bGQgbm90IHRocm93XG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Z1c2lvbmpzL2Z1c2lvbmpzL2lzc3Vlcy81NzNcbnRlc3QoJ3JlZ3VsYXIgZW5oYW5jZXIgb24gdW5yZWdpc3RlcmVkIHRva2VuIHdpdGggb3B0aW9uYWwgZGVwZW5kZW5jaWVzJywgKCkgPT4ge1xuICBsZXQgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcbiAgdHlwZSBGblR5cGUgPSAoYTogc3RyaW5nKSA9PiBzdHJpbmc7XG4gIGNvbnN0IEZuVG9rZW46IFRva2VuPEZuVHlwZT4gPSBjcmVhdGVUb2tlbignRm5UeXBlJyk7XG4gIGxldCBCYXNlRm5FbmhhbmNlciA9IChmbjogRm5UeXBlKTogRm5UeXBlID0+IHtcbiAgICByZXR1cm4gZm47XG4gIH07XG4gIGFwcC5yZWdpc3RlcihcbiAgICBjcmVhdGVQbHVnaW4oe1xuICAgICAgZGVwczoge1xuICAgICAgICBmbjogRm5Ub2tlbi5vcHRpb25hbCxcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLmVuaGFuY2UoRm5Ub2tlbiwgQmFzZUZuRW5oYW5jZXIpO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFwcC5yZXNvbHZlKCk7XG4gIH0pLm5vdC50b1Rocm93KCk7XG59KTtcblxudGVzdCgnZW5oYW5jZW1lbnQgd2l0aCBhIHBsdWdpbiB3aXRoIG1pc3NpbmcgZGVwcycsICgpID0+IHtcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcblxuICBjb25zdCBEZXBBVG9rZW46IFRva2VuPHN0cmluZz4gPSBjcmVhdGVUb2tlbignRGVwQScpO1xuICBjb25zdCBEZXBCVG9rZW46IFRva2VuPHN0cmluZz4gPSBjcmVhdGVUb2tlbignRGVwQicpO1xuXG4gIGNvbnN0IERlcEIgPSAndGVzdC1kZXAtYic7XG5cbiAgdHlwZSBGblR5cGUgPSAoYTogc3RyaW5nKSA9PiBzdHJpbmc7XG4gIGNvbnN0IEZuVG9rZW46IFRva2VuPEZuVHlwZT4gPSBjcmVhdGVUb2tlbignRm5UeXBlJyk7XG4gIGNvbnN0IEJhc2VGbjogRnVzaW9uUGx1Z2luPHVuZGVmaW5lZCwgRm5UeXBlPiA9IGNyZWF0ZVBsdWdpbih7XG4gICAgcHJvdmlkZXM6ICgpID0+IHtcbiAgICAgIHJldHVybiAoYXJnKSA9PiBhcmc7XG4gICAgfSxcbiAgfSk7XG4gIGNvbnN0IHByb3ZpZGVzID0gamVzdC5mbigpO1xuICBjb25zdCBCYXNlRm5FbmhhbmNlciA9IChcbiAgICBmbjogRm5UeXBlXG4gICk6IEZ1c2lvblBsdWdpbjxcbiAgICB7XG4gICAgICBhOiBUb2tlbjxzdHJpbmc+O1xuICAgICAgYjogVG9rZW48c3RyaW5nPjtcbiAgICB9LFxuICAgIEZuVHlwZVxuICA+ID0+IHtcbiAgICByZXR1cm4gY3JlYXRlUGx1Z2luKHtcbiAgICAgIGRlcHM6IHtcbiAgICAgICAgYTogRGVwQVRva2VuLFxuICAgICAgICBiOiBEZXBCVG9rZW4sXG4gICAgICB9LFxuICAgICAgcHJvdmlkZXMsXG4gICAgfSk7XG4gIH07XG4gIGFwcC5yZWdpc3RlcihEZXBCVG9rZW4sIERlcEIpO1xuICBhcHAucmVnaXN0ZXIoRm5Ub2tlbiwgQmFzZUZuKTtcbiAgYXBwLmVuaGFuY2UoRm5Ub2tlbiwgQmFzZUZuRW5oYW5jZXIpO1xuICBhcHAubWlkZGxld2FyZSh7Zm46IEZuVG9rZW59LCAoe2ZufSkgPT4ge1xuICAgIGV4cGVjdChmbignaGVsbG8nKSkudG9CZSgnaGVsbG8gZW5oYW5jZWQnKTtcbiAgICByZXR1cm4gKGN0eCwgbmV4dCkgPT4gbmV4dCgpO1xuICB9KTtcbiAgZXhwZWN0KCgpID0+IGFwcC5yZXNvbHZlKCkpLnRvVGhyb3coXG4gICAgL01pc3NpbmcgcmVnaXN0cmF0aW9uIGZvciB0b2tlbiBEZXBBLiBUaGlzIGlzIGEgZGVwZW5kZW5jeSBvZiBwbHVnaW4gcmVnaXN0ZXJlZCBAL1xuICApO1xuICBleHBlY3QocHJvdmlkZXMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG59KTtcblxudGVzdCgnQ2hhaW5lZCBlbmhhbmNlcnMnLCAoKSA9PiB7XG4gIGxldCBhcHAgPSBuZXcgQXBwKCdlbCcsIChlbCkgPT4gZWwpO1xuICBjb25zdCBTdHJUb2tlbiA9IGNyZWF0ZVRva2VuKCdTdHJUb2tlbicpO1xuICBjb25zdCBGblRva2VuID0gY3JlYXRlVG9rZW4oJ0ZuVG9rZW4nKTtcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIEZuVG9rZW4sXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIGRlcHM6IHtzdHI6IFN0clRva2VufSxcbiAgICAgIHByb3ZpZGVzOiAoe3N0cn0pID0+IHtcbiAgICAgICAgZXhwZWN0KHN0cikudG9CZSgnZm9vYmFyYmF6Jyk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIGFwcC5yZWdpc3RlcihTdHJUb2tlbiwgJ2ZvbycpO1xuICBhcHAuZW5oYW5jZShTdHJUb2tlbiwgKHN0cikgPT4ge1xuICAgIHJldHVybiBzdHIgKyAnYmFyJztcbiAgfSk7XG4gIGFwcC5lbmhhbmNlKFN0clRva2VuLCAoc3RyKSA9PiB7XG4gICAgcmV0dXJuIHN0ciArICdiYXonO1xuICB9KTtcbiAgYXBwLnJlc29sdmUoKTtcbn0pO1xuXG50ZXN0KCdFbmhhbmNlciBtaWRkbGV3YXJlIGhvaXN0ZWQgdXAgdG8gcG9zaXRpb24gb2Ygb3JpZ2luYWwgcmVnaXN0cmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBUb2tlbiA9IGNyZWF0ZVRva2VuKCdUb2tlbicpO1xuICBjb25zdCBTb21lRGVwID0gY3JlYXRlVG9rZW4oJ1NvbWVEZXAnKTtcbiAgbGV0IGFwcCA9IG5ldyBBcHAoJ2VsJywgKGVsKSA9PiBlbCk7XG5cbiAgbGV0IGV4ZWN1dGlvbnMgPSBbXTtcblxuICBhcHAucmVnaXN0ZXIoXG4gICAgVG9rZW4sXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIGRlcHM6IHtkZXA6IFNvbWVEZXB9LFxuICAgICAgcHJvdmlkZXM6ICgpID0+IHt9LFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goMik7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIC8vIERlcCBtaWRkbGV3YXJlIG9mIG9yaWdpbmFsIHNob3VsZCBiZSBleGVjdXRlZCBiZWZvcmUgZW5oYW5jZWQgbWlkZGxld2FyZXNcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIFNvbWVEZXAsXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7fSxcbiAgICAgIG1pZGRsZXdhcmU6ICgpID0+IChjdHgsIG5leHQpID0+IHtcbiAgICAgICAgZXhlY3V0aW9ucy5wdXNoKDEpO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuICBhcHAubWlkZGxld2FyZSgoY3R4LCBuZXh0KSA9PiB7XG4gICAgZXhlY3V0aW9ucy5wdXNoKDQpO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH0pO1xuICAvLyBEZXNwaXRlIGJlaW5nIHJlZ2lzdGVyZWQgbGFzdCwgdGhpcyBlbmhhbmNlciBtaWRkbGV3YXJlXG4gIC8vIHNob3VsZCBiZSBzb3J0ZWQgYmVmb3JlIHRoZSBhYm92ZSBtaWRkbGV3YXJlXG4gIGFwcC5lbmhhbmNlKFRva2VuLCAoKSA9PlxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4ge30sXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiB7XG4gICAgICAgIGV4ZWN1dGlvbnMucHVzaCgzKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXdhaXQgcnVuKGFwcCk7XG4gIGV4cGVjdChleGVjdXRpb25zKS50b1N0cmljdEVxdWFsKFsxLCAyLCAzLCA0XSk7XG59KTtcblxudGVzdCgnQ2hhaW5lZCBlbmhhbmNlciBtaWRkbGV3YXJlIGhvaXN0ZWQgdXAgdG8gcG9zaXRpb24gb2Ygb3JpZ2luYWwgcmVnaXN0cmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBUb2tlbiA9IGNyZWF0ZVRva2VuKCdUb2tlbicpO1xuICBjb25zdCBTb21lRGVwID0gY3JlYXRlVG9rZW4oJ1NvbWVEZXAnKTtcbiAgbGV0IGFwcCA9IG5ldyBBcHAoJ2VsJywgKGVsKSA9PiBlbCk7XG5cbiAgbGV0IGV4ZWN1dGlvbnMgPSBbXTtcblxuICBhcHAubWlkZGxld2FyZSgoY3R4LCBuZXh0KSA9PiB7XG4gICAgZXhlY3V0aW9ucy5wdXNoKDApO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH0pO1xuICBhcHAucmVnaXN0ZXIoXG4gICAgVG9rZW4sXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIGRlcHM6IHtkZXA6IFNvbWVEZXB9LFxuICAgICAgcHJvdmlkZXM6ICgpID0+IHt9LFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goMik7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIC8vIERlcCBtaWRkbGV3YXJlIG9mIG9yaWdpbmFsIHNob3VsZCBiZSBleGVjdXRlZCBiZWZvcmUgZW5oYW5jZWQgbWlkZGxld2FyZXNcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIFNvbWVEZXAsXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7fSxcbiAgICAgIG1pZGRsZXdhcmU6ICgpID0+IChjdHgsIG5leHQpID0+IHtcbiAgICAgICAgZXhlY3V0aW9ucy5wdXNoKDEpO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuICBhcHAubWlkZGxld2FyZSgoY3R4LCBuZXh0KSA9PiB7XG4gICAgZXhlY3V0aW9ucy5wdXNoKDYpO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH0pO1xuICAvLyBEZXNwaXRlIGJlaW5nIHJlZ2lzdGVyZWQgbGF0ZXIsIHRoZXNlIG1pZGRsZXdhcmUgc2hvdWxkIGJlIGhvaXN0ZWQgdXAgdG9cbiAgLy8gcG9zaXRpb24gb2Ygb3JpZ2luYWwgdG9rZW4gcmVnaXN0cmF0aW9uXG4gIGFwcC5lbmhhbmNlKFRva2VuLCAoKSA9PlxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4ge30sXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiB7XG4gICAgICAgIGV4ZWN1dGlvbnMucHVzaCgzKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLmVuaGFuY2UoVG9rZW4sICgpID0+XG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7fSxcbiAgICAgIG1pZGRsZXdhcmU6ICgpID0+IChjdHgsIG5leHQpID0+IHtcbiAgICAgICAgZXhlY3V0aW9ucy5wdXNoKDQpO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuICBhcHAuZW5oYW5jZShUb2tlbiwgKCkgPT5cbiAgICBjcmVhdGVQbHVnaW4oe1xuICAgICAgcHJvdmlkZXM6ICgpID0+IHt9LFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goNSk7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIGF3YWl0IHJ1bihhcHApO1xuICBleHBlY3QoZXhlY3V0aW9ucykudG9TdHJpY3RFcXVhbChbMCwgMSwgMiwgMywgNCwgNSwgNl0pO1xufSk7XG5cbnRlc3QoJ1NpbXBsZSBSZW5kZXJUb2tlbiBlbmhhbmNlciBtaWRkbGV3YXJlIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICBsZXQgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcblxuICBsZXQgZXhlY3V0aW9ucyA9IFtdO1xuXG4gIGFwcC5taWRkbGV3YXJlKChjdHgsIG5leHQpID0+IHtcbiAgICBleGVjdXRpb25zLnB1c2goMCk7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfSk7XG4gIGFwcC5lbmhhbmNlKFJlbmRlclRva2VuLCAocmVuZGVyKSA9PlxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4gcmVuZGVyLFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goMik7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIGFwcC5taWRkbGV3YXJlKChjdHgsIG5leHQpID0+IHtcbiAgICBleGVjdXRpb25zLnB1c2goMSk7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfSk7XG4gIGF3YWl0IHJ1bihhcHApO1xuICBleHBlY3QoZXhlY3V0aW9ucykudG9TdHJpY3RFcXVhbChbMCwgMSwgMl0pO1xufSk7XG5cbnRlc3QoJ0NvbXBsZXggUmVuZGVyVG9rZW4gZW5oYW5jZXIgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IFNvbWVEZXAgPSBjcmVhdGVUb2tlbignU29tZURlcCcpO1xuICBjb25zdCBPdGhlckRlcCA9IGNyZWF0ZVRva2VuKCdPdGhlckRlcCcpO1xuICBjb25zdCBBbm90aGVyRGVwID0gY3JlYXRlVG9rZW4oJ0Fub3RoZXJEZXAnKTtcblxuICBsZXQgZXhlY3V0aW9ucyA9IFtdO1xuXG4gIGNvbnN0IHJlbmRlciA9IGNyZWF0ZVBsdWdpbih7XG4gICAgZGVwczoge290aGVyOiBBbm90aGVyRGVwfSxcbiAgICBwcm92aWRlczogKCkgPT4gKGVsKSA9PiB7XG4gICAgICBleGVjdXRpb25zLnB1c2goJ3JlbmRlcl9mbicpO1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG4gICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgZXhlY3V0aW9ucy5wdXNoKCdyZW5kZXJfbWlkZGxld2FyZScpO1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9LFxuICB9KTtcblxuICBsZXQgYXBwID0gbmV3IEFwcCgnZWwnLCByZW5kZXIpO1xuXG4gIGFwcC5taWRkbGV3YXJlKChjdHgsIG5leHQpID0+IHtcbiAgICBleGVjdXRpb25zLnB1c2goJ2JlZm9yZV9taWRkbGV3YXJlJyk7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfSk7XG4gIC8vIERlcCBtaWRkbGV3YXJlIG9mIG9yaWdpbmFsIHNob3VsZCBiZSBleGVjdXRlZCBiZWZvcmUgZW5oYW5jZWQgbWlkZGxld2FyZXNcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIFNvbWVEZXAsXG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7fSxcbiAgICAgIG1pZGRsZXdhcmU6ICgpID0+IChjdHgsIG5leHQpID0+IHtcbiAgICAgICAgZXhlY3V0aW9ucy5wdXNoKCdzb21lZGVwJyk7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG4gIGFwcC5taWRkbGV3YXJlKChjdHgsIG5leHQpID0+IHtcbiAgICBleGVjdXRpb25zLnB1c2goJ2FmdGVyX21pZGRsZXdhcmUnKTtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9KTtcbiAgYXBwLmVuaGFuY2UoUmVuZGVyVG9rZW4sIChyZW5kZXIpID0+XG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiByZW5kZXIsXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiB7XG4gICAgICAgIGV4ZWN1dGlvbnMucHVzaCgncmVuZGVyX2VuaGFuY2VyMScpO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuICBhcHAuZW5oYW5jZShSZW5kZXJUb2tlbiwgKHJlbmRlcikgPT5cbiAgICBjcmVhdGVQbHVnaW4oe1xuICAgICAgZGVwczoge290aGVyOiBPdGhlckRlcH0sXG4gICAgICBwcm92aWRlczogKCkgPT4gcmVuZGVyLFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goJ3JlbmRlcl9lbmhhbmNlcjInKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLnJlZ2lzdGVyKEFub3RoZXJEZXAsICdBbm90aGVyRGVwJyk7XG4gIGFwcC5lbmhhbmNlKFJlbmRlclRva2VuLCAocmVuZGVyKSA9PlxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4gcmVuZGVyLFxuICAgICAgbWlkZGxld2FyZTogKCkgPT4gKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBleGVjdXRpb25zLnB1c2goJ3JlbmRlcl9lbmhhbmNlcjMnKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcbiAgYXBwLnJlZ2lzdGVyKFxuICAgIE90aGVyRGVwLFxuICAgIGNyZWF0ZVBsdWdpbih7XG4gICAgICBwcm92aWRlczogKCkgPT4ge30sXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiB7XG4gICAgICAgIGV4ZWN1dGlvbnMucHVzaCgnb3RoZXJkZXAnKTtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcblxuICBhd2FpdCBydW4oYXBwKTtcbiAgZXhwZWN0KGV4ZWN1dGlvbnMpLnRvU3RyaWN0RXF1YWwoW1xuICAgICdiZWZvcmVfbWlkZGxld2FyZScsXG4gICAgJ3NvbWVkZXAnLFxuICAgICdhZnRlcl9taWRkbGV3YXJlJyxcbiAgICAnb3RoZXJkZXAnLFxuICAgICdyZW5kZXJfbWlkZGxld2FyZScsXG4gICAgJ3JlbmRlcl9lbmhhbmNlcjEnLFxuICAgICdyZW5kZXJfZW5oYW5jZXIyJyxcbiAgICAncmVuZGVyX2VuaGFuY2VyMycsXG4gICAgJ3JlbmRlcl9mbicsXG4gIF0pO1xufSk7XG5cbnRlc3QoJ29ycGhhbiBlbmhhbmNlcnMgbm9vcCcsICgpID0+IHtcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgnZWwnLCAoZWwpID0+IGVsKTtcbiAgY29uc3QgT3JwaGFuVG9rZW4xID0gY3JlYXRlVG9rZW4oJ09ycGhhbjEnKTtcbiAgY29uc3QgT3JwaGFuVG9rZW4yID0gY3JlYXRlVG9rZW4oJ09ycGhhbjInKTtcbiAgY29uc3QgT3JwaGFuVG9rZW4zID0gY3JlYXRlVG9rZW4oJ09ycGhhbjMnKTtcbiAgYXBwLmVuaGFuY2UoT3JwaGFuVG9rZW4xLCAoKSA9PiB7XG4gICAgY3JlYXRlUGx1Z2luKHtcbiAgICAgIHByb3ZpZGVzOiAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIG5vdCBiZSBjYWxsZWQnKTtcbiAgICAgIH0sXG4gICAgICBtaWRkbGV3YXJlOiAoKSA9PiAoY3R4LCBuZXh0KSA9PiBuZXh0KCksXG4gICAgfSk7XG4gIH0pO1xuICBhcHAuZW5oYW5jZShPcnBoYW5Ub2tlbjIsICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nob3VsZCBub3QgYmUgY2FsbGVkJyk7XG4gIH0pO1xuICBhcHAuZW5oYW5jZShPcnBoYW5Ub2tlbjMsICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nob3VsZCBub3QgYmUgY2FsbGVkJyk7XG4gIH0pO1xuICBhcHAuZW5oYW5jZShPcnBoYW5Ub2tlbjMsICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nob3VsZCBub3QgYmUgY2FsbGVkJyk7XG4gIH0pO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFwcC5yZXNvbHZlKCk7XG4gIH0pLm5vdC50b1Rocm93KCk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBT0EsZ0JBQWdCLE1BQU0sZUFBZTtBQUU1QyxTQUFRQyxZQUFZLFFBQU8sa0JBQWtCO0FBQzdDLFNBQVFDLFdBQVcsUUFBTyxpQkFBaUI7QUFDM0MsU0FBUUMsR0FBRyxRQUFPLGVBQWU7QUFDakMsU0FBUUMsV0FBVyxRQUFPLFdBQVc7QUFHckMsTUFBTUMsR0FBRyxHQUFHLE9BQWNMLGdCQUFnQixFQUFFLEdBQUdNLGdCQUFnQixFQUFFO0FBRWpFQyxJQUFJLENBQUMsYUFBYSxFQUFHQyxJQUFJLElBQUs7RUFDNUIsTUFBTUMsR0FBRyxHQUFHLElBQUlKLEdBQUcsQ0FBQyxJQUFJLEVBQUdLLEVBQUUsSUFBS0EsRUFBRSxDQUFDO0VBR3JDLE1BQU1DLE9BQXNCLEdBQUdULFdBQVcsQ0FBQyxRQUFRLENBQUM7RUFDcEQsTUFBTVUsTUFBdUMsR0FBR1gsWUFBWSxDQUFDO0lBQzNEWSxRQUFRLEVBQUUsTUFBTTtNQUNkLE9BQVFDLEdBQUcsSUFBS0EsR0FBRztJQUNyQjtFQUNGLENBQUMsQ0FBQztFQUNGLE1BQU1DLGNBQWMsR0FBSUMsRUFBVSxJQUFhO0lBQzdDLE9BQVFGLEdBQUcsSUFBSztNQUNkLE9BQU9FLEVBQUUsQ0FBQ0YsR0FBRyxDQUFDLEdBQUcsV0FBVztJQUM5QixDQUFDO0VBQ0gsQ0FBQztFQUNETCxHQUFHLENBQUNRLFFBQVEsQ0FBQ04sT0FBTyxFQUFFQyxNQUFNLENBQUM7RUFDN0JILEdB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