/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

import { memoize } from '../memoize';
test('memoize', () => {
  // @ts-expect-error
  const mockCtx = {
    memoized: new Map()
  };
  let counter = 0;
  const memoized = memoize(() => {
    return ++counter;
  });
  let counterB = 0;
  const memoizedB = memoize(() => {
    return ++counterB;
  });
  expect(memoized(mockCtx)).toBe(1);
  expect(memoized(mockCtx)).toBe(1);
  expect(memoizedB(mockCtx)).toBe(1);
  expect(memoizedB(mockCtx)).toBe(1);
  expect(memoized(mockCtx)).toBe(1);
  expect(memoized(mockCtx)).toBe(1);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZW1vaXplIiwidGVzdCIsIm1vY2tDdHgiLCJtZW1vaXplZCIsIk1hcCIsImNvdW50ZXIiLCJjb3VudGVyQiIsIm1lbW9pemVkQiIsImV4cGVjdCIsInRvQmUiXSwic291cmNlcyI6WyJzcmMvX190ZXN0c19fL21lbW9pemUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIENvcHlyaWdodCAoYykgMjAxOCBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5pbXBvcnQge21lbW9pemV9IGZyb20gJy4uL21lbW9pemUnO1xuXG5pbXBvcnQgdHlwZSB7Q29udGV4dH0gZnJvbSAnLi4vdHlwZXMnO1xuXG50ZXN0KCdtZW1vaXplJywgKCkgPT4ge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIGNvbnN0IG1vY2tDdHg6IENvbnRleHQgPSB7XG4gICAgbWVtb2l6ZWQ6IG5ldyBNYXAoKSxcbiAgfTtcblxuICBsZXQgY291bnRlciA9IDA7XG4gIGNvbnN0IG1lbW9pemVkID0gbWVtb2l6ZSgoKSA9PiB7XG4gICAgcmV0dXJuICsrY291bnRlcjtcbiAgfSk7XG5cbiAgbGV0IGNvdW50ZXJCID0gMDtcbiAgY29uc3QgbWVtb2l6ZWRCID0gbWVtb2l6ZSgoKSA9PiB7XG4gICAgcmV0dXJuICsrY291bnRlckI7XG4gIH0pO1xuXG4gIGV4cGVjdChtZW1vaXplZChtb2NrQ3R4KSkudG9CZSgxKTtcbiAgZXhwZWN0KG1lbW9pemVkKG1vY2tDdHgpKS50b0JlKDEpO1xuICBleHBlY3QobWVtb2l6ZWRCKG1vY2tDdHgpKS50b0JlKDEpO1xuICBleHBlY3QobWVtb2l6ZWRCKG1vY2tDdHgpKS50b0JlKDEpO1xuICBleHBlY3QobWVtb2l6ZWQobW9ja0N0eCkpLnRvQmUoMSk7XG4gIGV4cGVjdChtZW1vaXplZChtb2NrQ3R4KSkudG9CZSgxKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUUEsT0FBTyxRQUFPLFlBQVk7QUFJbENDLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTTtFQUNwQjtFQUNBLE1BQU1DLE9BQWdCLEdBQUc7SUFDdkJDLFFBQVEsRUFBRSxJQUFJQyxHQUFHO0VBQ25CLENBQUM7RUFFRCxJQUFJQyxPQUFPLEdBQUcsQ0FBQztFQUNmLE1BQU1GLFFBQVEsR0FBR0gsT0FBTyxDQUFDLE1BQU07SUFDN0IsT0FBTyxFQUFFSyxPQUFPO0VBQ2xCLENBQUMsQ0FBQztFQUVGLElBQUlDLFFBQVEsR0FBRyxDQUFDO0VBQ2hCLE1BQU1DLFNBQVMsR0FBR1AsT0FBTyxDQUFDLE1BQU07SUFDOUIsT0FBTyxFQUFFTSxRQUFRO0VBQ25CLENBQUMsQ0FBQztFQUVGRSxNQUFNLENBQUNMLFFBQVEsQ0FBQ0QsT0FBTyxDQUFDLENBQUMsQ0FBQ08sSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNqQ0QsTUFBTSxDQUFDTCxRQUFRLENBQUNELE9BQU8sQ0FBQyxDQUFDLENBQUNPLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDakNELE1BQU0sQ0FBQ0QsU0FBUyxDQUFDTCxPQUFPLENBQUMsQ0FBQyxDQUFDTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0VBQ2xDRCxNQUFNLENBQUNELFNBQVMsQ0FBQ0wsT0FBTyxDQUFDLENBQUMsQ0FBQ08sSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNsQ0QsTUFBTSxDQUFDTCxRQUFRLENBQUNELE9BQU8sQ0FBQyxDQUFDLENBQUNPLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDakNELE1BQU0sQ0FBQ0wsUUFBUSxDQUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ25DLENBQUMsQ0FBQyJ9