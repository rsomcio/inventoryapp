"use strict";

var _memoize = require("../memoize");
/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

test('memoize', () => {
  // @ts-expect-error
  const mockCtx = {
    memoized: new Map()
  };
  let counter = 0;
  const memoized = (0, _memoize.memoize)(() => {
    return ++counter;
  });
  let counterB = 0;
  const memoizedB = (0, _memoize.memoize)(() => {
    return ++counterB;
  });
  expect(memoized(mockCtx)).toBe(1);
  expect(memoized(mockCtx)).toBe(1);
  expect(memoizedB(mockCtx)).toBe(1);
  expect(memoizedB(mockCtx)).toBe(1);
  expect(memoized(mockCtx)).toBe(1);
  expect(memoized(mockCtx)).toBe(1);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0IiwibW9ja0N0eCIsIm1lbW9pemVkIiwiTWFwIiwiY291bnRlciIsIm1lbW9pemUiLCJjb3VudGVyQiIsIm1lbW9pemVkQiIsImV4cGVjdCIsInRvQmUiXSwic291cmNlcyI6WyJzcmMvX190ZXN0c19fL21lbW9pemUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIENvcHlyaWdodCAoYykgMjAxOCBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5pbXBvcnQge21lbW9pemV9IGZyb20gJy4uL21lbW9pemUnO1xuXG5pbXBvcnQgdHlwZSB7Q29udGV4dH0gZnJvbSAnLi4vdHlwZXMnO1xuXG50ZXN0KCdtZW1vaXplJywgKCkgPT4ge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIGNvbnN0IG1vY2tDdHg6IENvbnRleHQgPSB7XG4gICAgbWVtb2l6ZWQ6IG5ldyBNYXAoKSxcbiAgfTtcblxuICBsZXQgY291bnRlciA9IDA7XG4gIGNvbnN0IG1lbW9pemVkID0gbWVtb2l6ZSgoKSA9PiB7XG4gICAgcmV0dXJuICsrY291bnRlcjtcbiAgfSk7XG5cbiAgbGV0IGNvdW50ZXJCID0gMDtcbiAgY29uc3QgbWVtb2l6ZWRCID0gbWVtb2l6ZSgoKSA9PiB7XG4gICAgcmV0dXJuICsrY291bnRlckI7XG4gIH0pO1xuXG4gIGV4cGVjdChtZW1vaXplZChtb2NrQ3R4KSkudG9CZSgxKTtcbiAgZXhwZWN0KG1lbW9pemVkKG1vY2tDdHgpKS50b0JlKDEpO1xuICBleHBlY3QobWVtb2l6ZWRCKG1vY2tDdHgpKS50b0JlKDEpO1xuICBleHBlY3QobWVtb2l6ZWRCKG1vY2tDdHgpKS50b0JlKDEpO1xuICBleHBlY3QobWVtb2l6ZWQobW9ja0N0eCkpLnRvQmUoMSk7XG4gIGV4cGVjdChtZW1vaXplZChtb2NrQ3R4KSkudG9CZSgxKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQU9BO0FBUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQU1BQSxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU07RUFDcEI7RUFDQSxNQUFNQyxPQUFnQixHQUFHO0lBQ3ZCQyxRQUFRLEVBQUUsSUFBSUMsR0FBRztFQUNuQixDQUFDO0VBRUQsSUFBSUMsT0FBTyxHQUFHLENBQUM7RUFDZixNQUFNRixRQUFRLEdBQUcsSUFBQUcsZ0JBQU8sRUFBQyxNQUFNO0lBQzdCLE9BQU8sRUFBRUQsT0FBTztFQUNsQixDQUFDLENBQUM7RUFFRixJQUFJRSxRQUFRLEdBQUcsQ0FBQztFQUNoQixNQUFNQyxTQUFTLEdBQUcsSUFBQUYsZ0JBQU8sRUFBQyxNQUFNO0lBQzlCLE9BQU8sRUFBRUMsUUFBUTtFQUNuQixDQUFDLENBQUM7RUFFRkUsTUFBTSxDQUFDTixRQUFRLENBQUNELE9BQU8sQ0FBQyxDQUFDLENBQUNRLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDakNELE1BQU0sQ0FBQ04sUUFBUSxDQUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDUSxJQUFJLENBQUMsQ0FBQyxDQUFDO0VBQ2pDRCxNQUFNLENBQUNELFNBQVMsQ0FBQ04sT0FBTyxDQUFDLENBQUMsQ0FBQ1EsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNsQ0QsTUFBTSxDQUFDRCxTQUFTLENBQUNOLE9BQU8sQ0FBQyxDQUFDLENBQUNRLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDbENELE1BQU0sQ0FBQ04sUUFBUSxDQUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDUSxJQUFJLENBQUMsQ0FBQyxDQUFDO0VBQ2pDRCxNQUFNLENBQUNOLFFBQVEsQ0FBQ0QsT0FBTyxDQUFDLENBQUMsQ0FBQ1EsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNuQyxDQUFDLENBQUMifQ==